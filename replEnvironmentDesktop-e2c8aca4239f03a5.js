(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6879],{2585:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/replEnvironmentDesktop",function(){return t(87300)}])},5095:function(e,n,t){"use strict";t.d(n,{gC:function(){return f},LK:function(){return d},jJ:function(){return p}});var r=t(4541),i=t(79151),o=t(98260),a=t(94370),l=["100-days-of-python","100-days-of-python-promo","add-guest-new-user","apps-announcement","appsOnboardingForkRepl","appsOnboardingRunRepl","appsOnboardingSelectRepl","april_2019_hiring","archive-cta","assignment_markdown","boosts-modal","bounties-home-module","bounties-services-tab","classroom-repl-talk-ask-on-error","cleanup-popover-dismissed","codemirror-explorers-banner","create-model-solution","createWebsite","curriculum-launch-modal","custom-themes-banner","cycles-release","cycles-survey","dashboard_new_folder","dashboard_search","dashboard_templates","debugger_start","dec172020maintenance","deployments-banner","devtools-intro","discount_hacker_18","discount_holiday_19","discount_newyear_19","downtime-073118","draw-new-user-cta","edfest-announcement","enveditorintro","file_tree","follow-cursor-avatar-click","ghostwriter-banner","ghostwriter-chat-banner","ghostwriter-repl-resources-cta","ghostwriter-trial-repl-resources-cta","ghostwriter-trial-3-day-left-modal","ghostwriter-trial-banner","ghostwriter-trial-expired-modal","ghostwriter-post-purchase-tour","ghostwriter-existing-user-chat-beta-tour","grid_click","hacker_upgrade","hacker-gift","home","home-feed","home-onboarding-checklist","home-onboarding-checklist-apps","home-onboarding-checklist-learn","home-onboarding-checklist-repl","hosting_url","introduceYourself","js-4-day-challenge-day-1","js-4-day-challenge-day-2","js-4-day-challenge-day-3","js-4-day-challenge-day-4","js-4-day-challenge-day-end","july_2019_music_jam","july18_irl","landing","languagesInterestedIn","launch-modal","learn-onboarding","legacy-cycles-grant-notice","make_website","march_2019_game_jam","migrated_unnamed_repls","mobile-app-banner","mobile-app-banner-web-update","mobile-announcement","mobile-new-workspace-banner","mobile-survey-banner-11042021","move_unnamed_repls","repricing-announcement","multiplayer","multiplayer_invite","multiplayer_welcome","new_in_repls","new_share","nft-world-2022","onboarding_connection_toast","onboarding_run","onboarding-simplify-experiment","packager-shell-hint","packman","product_hunt","profile-refresh-beta","profile2","projects-overview-cta","projects-overview-tests-disclaimer","publish-guidelines","repl_stars","repl-con-2022","repl-talk-update-2021","repl-talk-update-2022","resources-upgrade-modal","revisions_history","run_on_replit","saw_unnamed_folders","search","self-grouping-projects-cta","series-b-announcement","share_classroom","share_repl_to_talk","show_packager_about_tooltip","show_packager_import_tooltip","show_test_update_tooltip","stack-create-cta","stack-migration-cta","summer_hacker","summer-2021-pd-survey","teams_pro_module","teams-grading-survey","teams-pro-2022","template-jam-announcement","threads-2-announcement","upgrade_module","workspace-deployments-webview-banner","workspace-desktop-tour","workspace-desktop-tour19","workspace-experience-task-completion-survey-06022022","workspace-experience-task-completion-survey-nudge-06022022","workspace-history-announcement","workspace-tools-databases-postgres-tour","youtube-in-the-ws","themes-announcement"];var s=t(75916),c=t(36832),u=t(91355);var d=function(e,n){return"".concat(e,"-tutorialChallenge-").concat(n)},p=function(e,n){var t,r,o=JSON.parse(i.Z.get(d(e,n),"string")||"{}");if("string"===typeof(r=o).tourName&&"string"===typeof r.url&&(t=o.tourName,l.includes(t)))return o},f=function(e){var n=e.challenge,t=l.find((function(e){return e.toString()===n.tourName}))||"js-4-day-challenge-day-1",i=(0,c.o)(t),d=i.isDone,p=i.isLoading,f=i.setAsDone,h=(0,a.useRouter)();return p?null:(0,r.tZ)(o.zx,{colorway:d?"primary":"positive",onClick:function(){f(),(0,u.j)(u.U3.TUTORIAL_DONE_BUTTON_COMPLETED),h.push("/~")},disabled:d,iconLeft:(0,r.tZ)(s.Z,{}),big:!0,text:d?"Challenge completed!":"Complete Challenge"})}},65477:function(e,n,t){"use strict";t.d(n,{l:function(){return o},x:function(){return i}});var r=t(91355),i=function(e){(0,r.j)(r.U3.COURSE_ACTION,e)},o=function(e){(0,r.j)(r.U3.LESSON_ACTION,e)}},26476:function(e,n,t){"use strict";var r=t(4541),i=t(95980),o=t.n(i);t(50959);n.Z=function(e){var n=e.color;return(0,r.BX)("span",{title:"new",className:o().dynamic([["fdefa4fc6e93ac36",[n||"var(--accent-negative-default)"]]]),children:["NEW",(0,r.tZ)(o(),{id:"fdefa4fc6e93ac36",dynamic:[n||"var(--accent-negative-default)"],children:"span.__jsx-style-dynamic-selector{display:inline-block;color:var(--white);background:".concat(n||"var(--accent-negative-default)",";-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);font-size:var(--font-size-small);font-weight:var(--font-weight-medium);padding:-webkit-calc(var(--space-4)/2)var(--space-4);padding:-moz-calc(var(--space-4)/2)var(--space-4);padding:calc(var(--space-4)/2)var(--space-4);text-align:center;height:-webkit-min-content;height:-moz-min-content;height:min-content}")})]})}},91816:function(e,n,t){"use strict";t.d(n,{S:function(){return k}});var r=t(4541),i=t(22167),o=t(89632),a=t(72006),l=t(43119),s=t(71440),c=t(67216);function u(){var e=(0,l.Z)(["\n  fragment ReplDesktopAvatarMenuCurrentUser on CurrentUser {\n    id\n    url\n    username\n    image\n  }\n"]);return u=function(){return e},e}function d(){var e=(0,l.Z)(["\n  query ReplDesktopAvatarMenu {\n    currentUser {\n      id\n      ...ReplDesktopAvatarMenuCurrentUser\n    }\n  }\n  ","\n"]);return d=function(){return e},e}var p={},f=(0,s.Ps)(u()),h=(0,s.Ps)(d(),f);var m=t(49615),v=t(50959),g=t(89853),Z=t(25776),b=t(8415),x=t(351),y=t(67753),w=t(37676),C=(0,g.X)({wrapper:[i.l0.noDragRegion],button:[i.l0.p(4),i.l0.viewStyle,i.l0.reset.button,i.l0.rowWithGap(2),i.l0.align.center,i.l0.color.foregroundDefault,i.l0.cursor.pointer,i.l0.borderRadius(8),{transition:"box-shadow 120ms ease-out",":hover svg":{fill:i.TV.foregroundDefault},":focus-visible":{boxShadow:"0 0 0 2px ".concat(i.TV.accentPrimaryDefault)}}],surface:[i.l0.borderRadius(8),i.l0.minWidth(80),{"& > ul > li:first-of-type":{borderRadius:"10px 10px 0 0"}},{"& > ul > li:last-of-type":{borderRadius:"0 0 10px 10px"}}],username:[i.l0.ml(8)]});function k(e){var n=e.showName,t=(0,v.useState)(!1),l=t[0],s=t[1],u=function(e){var n=(0,a.Z)({},p,e);return c.a(h,n)}().data,d=null===u||void 0===u?void 0:u.currentUser;if(!d)return null;var f=[{label:"Account",onAction:function(){x.X.openExternalUrl("/account"),s(!1)}},{label:"Log out",onAction:function(){x.X.logout()}}];return(0,r.tZ)(Z.G,{css:C.wrapper,children:(0,r.BX)(y.x,{isOpen:l,onOpenChange:s,placement:"bottom start",label:"Account options",noArrow:!0,children:[(0,r.BX)("button",{onClick:function(){s((function(e){return!e}))},css:C.button,children:[(0,r.tZ)(o.q,{size:24,src:(null===d||void 0===d?void 0:d.image)||null,username:(null===d||void 0===d?void 0:d.username)||""}),n?(0,r.BX)(Z.G,{css:C.username,className:"username",children:["@",null===d||void 0===d?void 0:d.username]}):null,(0,r.tZ)(m.Z,{color:i.TV.foregroundDimmest,size:12})]}),(0,r.tZ)(w.T,{elevated:!0,css:C.surface,background:"higher",children:(0,r.tZ)(b.v2,{label:"Account options",onAction:function(e){var n=f[parseInt(e,10)];n&&n.onAction()},children:f.map((function(e,n){return(0,r.tZ)(b.ck,{"aria-label":e.label,children:e.label},n)}))})})]})})}},50605:function(e,n,t){"use strict";t.d(n,{Z:function(){return ne}});var r=t(72006),i=t(4405),o=t(2272),a=t(9970),l=t(4541),s=t(22167),c=t(25776),u=t(89853),d=t(3668),p=t(351),f=t(38231),h=t(11115),m=t(3220),v=t(43119),g=t(71440),Z=t(67216),b=t(59187);function x(){var e=(0,v.Z)(["\n  fragment DesktopReplsListRepl on Repl {\n    id\n    title\n    iconUrl\n    url\n    description\n    isPrivate\n    timeUpdated\n    owner {\n      ... on User {\n        id\n        username\n      }\n      ... on Team {\n        id\n        username\n      }\n    }\n  }\n"]);return x=function(){return e},e}function y(){var e=(0,v.Z)(["\n  query DesktopReplsSearch(\n    $search: String!\n    $after: String\n    $excludeMultiplayer: Boolean\n  ) {\n    currentUser {\n      id\n      paginatedReplSearch(\n        search: $search\n        after: $after\n        excludeMultiplayer: $excludeMultiplayer\n      ) {\n        items {\n          id\n          ...DesktopReplsListRepl\n        }\n        pageInfo {\n          hasNextPage\n          nextCursor\n        }\n      }\n    }\n  }\n  ","\n"]);return y=function(){return e},e}function w(){var e=(0,v.Z)(["\n  mutation DesktopReplsListDeleteRepl($id: String!) {\n    deleteRepl(id: $id) {\n      id\n    }\n  }\n"]);return w=function(){return e},e}var C={},k=(0,g.Ps)(x()),L=(0,g.Ps)(y(),k);var S=(0,g.Ps)(w());var R=t(50959),I=t(46598),T=t(29075),B=t(36481),E=t(590),G=t(64517),M=t(55544),D=t(8415),P=t(60109),j=t(35021),_=t(96262),U=t(90879),X=t(4981),V=t(72294),z=t(80198),W=t(97774),A=t(62223),F=t(71505),N=t(7446),O=t(76530),H=(0,u.X)({rowUnfocused:{backgroundColor:"transparent"},rowFocused:{backgroundColor:f.vb.interactiveBackground}});function q(e){var n=e.item,t=e.state,o=(0,R.useRef)(null),a=(0,F.Fb)({node:n},t,o),s=a.rowProps,u=a.gridCellProps,d=a.isSelected;return(0,R.useEffect)((function(){var e;d&&(null===(e=o.current)||void 0===e||e.scrollIntoView({block:"nearest"}))}),[d]),(0,l.tZ)(c.K.li,(0,i.Z)((0,r.Z)({},s),{ref:o,css:d?H.rowFocused:H.rowUnfocused,children:(0,l.tZ)(c.G,(0,i.Z)((0,r.Z)({},u),{children:n.rendered}))}))}function $(e){var n=(0,N.n_)(e),t=(0,R.useRef)(null),o=(0,F.c)(e,n,t).gridProps;return(0,l.tZ)(c.K.ul,(0,i.Z)((0,r.Z)({},o),{ref:(0,O.l)(t,e.innerRef),children:(0,a.Z)(n.collection).map((function(e){return(0,l.tZ)(q,{item:e,state:n},e.key)}))}))}var Y,K,Q=(0,u.X)({container:[s.l0.flex.shrink(1),s.l0.flex.column,s.l0.height("100%")],searchBarWrapper:[s.l0.flex.shrink(0),s.l0.p(8)],replsListWrapper:[s.l0.flex.shrink(1),s.l0.overflowY("scroll")],replsListNoRepls:[s.l0.height("100vh"),s.l0.backgroundImage("/public/images/onboarding-action-yes.png")],replListItemWrapper:[f.gU.listItem,s.l0.px(8),s.l0.py(2),s.l0.flex.row,s.l0.align.center,s.l0.justify.spaceBetween],replListItemInner:[s.l0.rowWithGap(8),s.l0.pl(4),s.l0.align.center,s.l0.flex.shrink(1)],replListItemTexts:[s.l0.flex.shrink(1)],replListItemTitle:[s.l0.mb(0),s.l0.truncate],dropdownItem:[s.l0.rowWithGap(8),s.l0.align.center],dropdownDestructiveItem:[s.l0.rowWithGap(8),s.l0.color.accentNegativeStronger,s.l0.align.center],loadingStateWrapper:[s.l0.align.center,s.l0.pt(8),s.l0.pb(12),s.l0.mx(8),s.l0.textAlign.center]});!function(e){e.Fork="Fork",e.Delete="Delete"}(Y||(Y={})),function(e){e.ForkRepl="ForkRepl",e.DeleteRepl="DeleteRepl"}(K||(K={}));var J=[{value:Y.Fork,label:"Fork",icon:(0,l.tZ)(h.Z,{})},{value:Y.Delete,label:"Delete",icon:(0,l.tZ)(m.Z,{}),isDestructive:!0}];function ee(e){var n,t=e.repl,i=e.onFork,a=e.onClick,s=e.showReplContextualActions,u=(0,R.useState)(null),d=u[0],p=u[1],f=(0,I.Z)(),h=f.showConfirm,m=f.showError,v=(0,o.Z)(function(e){var n=(0,r.Z)({},C,e);return b.D(S,n)}({variables:{id:t.id},onCompleted:function(){h("Repl deleted")},onError:function(e){m((0,T.Z)(e.message))},update:function(e,n){var t;(null===(t=n.data)||void 0===t?void 0:t.deleteRepl)&&(e.evict({id:e.identify(n.data.deleteRepl)}),e.gc())}}),1),g=v[0],Z=(0,o.Z)((0,B.Z)({navigateAfterFork:!1,onFork:function(){h("Repl forked"),i()},onError:function(){m("Something went wrong")}}),1)[0];return(0,l.BX)(l.HY,{children:[(0,l.BX)(c.G,{css:Q.replListItemWrapper,onClick:function(){return a(t.url)},children:[(0,l.BX)(c.G,{css:Q.replListItemInner,children:[(0,l.tZ)(E.ZP,{size:24,iconUrl:t.iconUrl,alt:t.title}),(0,l.BX)(c.G,{css:Q.replListItemTexts,children:[(0,l.tZ)(M.xv,{variant:"text",css:Q.replListItemTitle,children:t.title}),(0,l.BX)(M.xv,{variant:"small",color:"dimmer",children:[t.owner?"".concat(t.owner.username," \u2022 "):"","edited"," ",(0,G.F)(t.timeUpdated)]})]})]}),s?(0,l.tZ)(D.ZE,{icon:(0,l.tZ)(P.Z,{size:16}),"aria-label":"Repl Actions",placement:"bottom-end",cssProps:[{background:"transparent"}],onAction:function(e){switch(e){case Y.Fork:return void p(K.ForkRepl);case Y.Delete:return void p(K.DeleteRepl)}},children:J.map((function(e){return(0,l.tZ)(D.ck,{textValue:e.label,children:(0,l.BX)(c.G,{css:e.isDestructive?Q.dropdownDestructiveItem:Q.dropdownItem,children:[e.icon,(0,l.tZ)(M.xv,{children:e.label})]})},e.value)}))}):null]}),(0,l.tZ)(j.u,{isOpen:d===K.DeleteRepl,onRequestClose:function(){return p(null)},centered:!0,children:(0,l.tZ)(_.Z,{delete:g,entityType:"Repl",hideModal:function(){return p(null)}})}),(0,l.tZ)(j.u,{isOpen:d===K.ForkRepl,onRequestClose:function(){return p(null)},centered:!0,children:(0,l.tZ)(U.Z,{onFork:function(e,n,r,i){Z({originId:t.id,teamId:e,title:n,description:r,isPrivate:i,trackingData:{forkSource:"desktopSplashScreen"}})},initialTitle:t.title,initialDescription:null!==(n=t.description)&&void 0!==n?n:"",initialPrivacy:t.isPrivate,hideModal:function(){return p(null)}})})]})}function ne(e){var n,t=e.onClick,o=e.showReplContextualActions,s=void 0===o||o,u=(0,R.useState)(""),f=u[0],h=u[1],m=(0,X.Z)(f,250),v=(0,R.useRef)(null),g=(0,R.useRef)(null),b=(0,R.useRef)(null),x=(0,R.useRef)(null),y=(0,R.useState)(null),w=y[0],k=y[1],S=w?new Set([w]):new Set,I=function(e){var n=(0,r.Z)({},C,e);return Z.a(L,n)}({variables:{search:m,excludeMultiplayer:!1},ssr:!1,notifyOnNetworkStatusChange:!0}),T=I.data,B=I.loading,E=I.refetch,G=I.fetchMore,P=null===T||void 0===T||null===(n=T.currentUser)||void 0===n?void 0:n.paginatedReplSearch,j=null===P||void 0===P?void 0:P.pageInfo,_=null===j||void 0===j?void 0:j.nextCursor,U=null===j||void 0===j?void 0:j.hasNextPage,F=(null===P||void 0===P?void 0:P.items)||[];(0,R.useEffect)((function(){0!==F.length&&(Boolean(F.find((function(e){return e.id===w})))||k(F[0].id))}),[F,w]);var N=(0,R.useCallback)((function(){_&&!B&&G({variables:{search:m,after:_},updateQuery:function(e,n){var t,o,l=n.fetchMoreResult;return(null===(t=e.currentUser)||void 0===t?void 0:t.paginatedReplSearch)&&(null===(o=l.currentUser)||void 0===o?void 0:o.paginatedReplSearch)?(0,i.Z)((0,r.Z)({},l),{currentUser:(0,i.Z)((0,r.Z)({},l.currentUser),{paginatedReplSearch:(0,i.Z)((0,r.Z)({},l.currentUser.paginatedReplSearch),{items:(0,a.Z)(e.currentUser.paginatedReplSearch.items).concat((0,a.Z)(l.currentUser.paginatedReplSearch.items)),pageInfo:(0,r.Z)({},l.currentUser.paginatedReplSearch.pageInfo)})})}):e}})}),[G,B,_,m]),O=(0,V.Z)({onLoadMore:N,rootMargin:"0px 0px 100px 0px"}).targetRef,H=(0,R.useCallback)((function(e){t?t(e):(p.X.openReplWindow(e),p.X.closeCurrentWindow())}),[t]),q=(0,R.useCallback)((function(e){var n=F.find((function(n){return n.id===e}));if(!n)throw new Error("Expected matching Repl");H(n.url)}),[H,F]);(0,R.useEffect)((function(){var e;null===(e=g.current)||void 0===e||e.focus()}),[g]);var Y=0===F.length&&!B&&0===m.length,K=0===F.length&&B,J=0===F.length&&m.length>0&&!B;return Y?(0,l.tZ)(c.G,{css:Q.replsListNoRepls}):(0,l.BX)(c.G,{css:Q.container,children:[(0,l.tZ)(c.K.div,{css:Q.searchBarWrapper,ref:v,children:(0,l.tZ)(z.E,{placeholder:"Find a Repl",value:f,inputRef:g,onChange:function(e){h(e.target.value)},onClear:function(){h("")},onKeyDown:function(e){var n;("Enter"===e.key&&w&&q(w),"ArrowDown"===e.key||"ArrowUp"===e.key)&&(e.preventDefault(),null===(n=x.current)||void 0===n||n.dispatchEvent(new KeyboardEvent(e.nativeEvent.type,e.nativeEvent)))}})}),(0,l.BX)(c.K.div,{css:Q.replsListWrapper,ref:b,children:[(0,l.tZ)(c.G,{children:(0,l.tZ)($,{"aria-label":"Repls",selectionMode:"single",selectionBehavior:"replace",disallowEmptySelection:!0,items:F,innerRef:x,selectedKeys:S,onSelectionChange:function(e){if("all"!==e){if(0===e.size)throw new Error("Expected to have a selected key");var n=Array.from(e)[0];k(n)}},onAction:function(e){q(e)},children:function(e){return(0,l.tZ)(D.ck,{textValue:e.title,children:(0,l.tZ)(ee,{repl:e,onFork:function(){var e;null===(e=b.current)||void 0===e||e.scrollTo({top:0}),E()},onClick:H,showReplContextualActions:s})},e.id)}})}),(0,l.BX)(c.G,{css:Q.loadingStateWrapper,children:[K?(0,l.tZ)(W.Z,{}):null,J?(0,l.tZ)(M.xv,{variant:"text",color:"dimmest",multiline:!0,children:"We couldn't find any Repls matching your search."}):null,U?(0,l.tZ)(d.h,{tooltipHidden:!0,alt:"Load more Repls",onClick:N,ref:O,disabled:B,children:B?(0,l.tZ)(W.Z,{}):(0,l.tZ)(A.Z,{})}):null]})]})]})}},38817:function(e,n,t){"use strict";t.d(n,{N:function(){return i},T:function(){return r}});var r=60,i="/desktopApp/landingPage"},87064:function(e,n,t){"use strict";t.d(n,{D:function(){return a},O:function(){return o}});var r=t(57135),i=t(96583),o=".cache/replit/migrate2nix";function a(e){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)((function(e){var n,t,r,a,l;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return n=e.fs,t=e.templateId,[4,n.stat(o)];case 1:return i.sent().exists?(r=[],t?(a="".concat(o,"/").concat(t),[4,n.stat(a)]):[3,3]):[2,[]];case 2:i.sent().exists&&r.push(a),i.label=3;case 3:return l="".concat(o,"/_"),[4,n.stat(l)];case 4:return i.sent().exists&&r.push(l),[2,r]}}))}))).apply(this,arguments)}},33738:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var r=t(4541),i=t(95980),o=t.n(i),a=(t(50959),t(79197));function l(e){var n=e.label;return(0,r.BX)(a.Z,{size:"xsmall",children:[(0,r.tZ)("span",{"data-microtip-position":"top",role:"tooltip","aria-label":n,className:"jsx-b2b24242521d2288 help",children:"?"}),(0,r.tZ)(o(),{id:"b2b24242521d2288",children:".help.jsx-b2b24242521d2288{display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;border:1px solid var(--background-higher);-webkit-border-radius:100%;-moz-border-radius:100%;border-radius:100%;width:var(--space-16);height:var(--space-16);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}"})]})}},68429:function(e,n,t){"use strict";t.d(n,{Gp:function(){return G},Oh:function(){return K},V3:function(){return X},Xl:function(){return z},Yd:function(){return A},_b:function(){return $},gX:function(){return ne},h2:function(){return _},on:function(){return D},q7:function(){return J},vs:function(){return B},w9:function(){return N},zp:function(){return H}});var r=t(72006),i=t(43119),o=t(71440),a=t(56138),l=t(67216),s=t(59187);function c(){var e=(0,i.Z)(["\n  fragment TeamProfileReplTemplateModelSolution on ReplTemplateModelSolution {\n    id\n    visibleAfterSubmitting\n    visibleAfterPassingTests\n    visibleAfterDueDate\n    repl {\n      id\n      url\n      nextPagePathname\n    }\n    canStudentFork\n    studentFork {\n      id\n      url\n      nextPagePathname\n    }\n  }\n"]);return c=function(){return e},e}function u(){var e=(0,i.Z)(["\n  fragment TeamProfileReplTemplate on ReplTemplate {\n    id\n    isPublished\n    isGroupProject\n    allowSelfGrouping\n    imageUrl\n    url\n    dueDate\n    modelSolution {\n      id\n      ...TeamProfileReplTemplateModelSolution\n    }\n    userSubmissionGroup {\n      ...TeamTemplateSubmissionGroup\n    }\n  }\n  ","\n  ","\n"]);return u=function(){return e},e}function d(){var e=(0,i.Z)(["\n  fragment TeamProfileRepl on Repl {\n    id\n    title\n    isPrivate\n    description\n    slug\n    timeCreated\n    url\n    pinnedToProfile\n    nextPagePathname\n    templateInfo {\n      label\n      iconUrl\n    }\n    template {\n      id\n      ...TeamProfileReplTemplate\n    }\n  }\n  ","\n"]);return d=function(){return e},e}function p(){var e=(0,i.Z)(["\n  fragment TeamProfileStack on Stack {\n    id\n    title\n    repls {\n      id\n      ...TeamProfileRepl\n    }\n  }\n  ","\n"]);return p=function(){return e},e}function f(){var e=(0,i.Z)(["\n  fragment TeamEduProfile on Team {\n    id\n    username\n    displayName\n    isAdmin\n    archived\n    needsMigrationToStacks\n    defaultTemplateStack {\n      id\n      ...TeamProfileStack\n    }\n    stacks {\n      id\n      ...TeamProfileStack\n    }\n    members {\n      id\n      permissions\n    }\n    organization {\n      id\n      capabilities {\n        isExpired: isExpiring(daysFromNow: 0)\n      }\n    }\n  }\n  ","\n"]);return f=function(){return e},e}function h(){var e=(0,i.Z)(["\n  fragment TeamProProfile on Team {\n    id\n    username\n    displayName\n    isMember\n    isAdmin\n    archived\n    defaultReplStack {\n      id\n      ...TeamProfileStack\n    }\n    stacks {\n      id\n      ...TeamProfileStack\n    }\n    members {\n      id\n      permissions\n    }\n    organization {\n      id\n    }\n  }\n  ","\n"]);return h=function(){return e},e}function m(){var e=(0,i.Z)(["\n  fragment TeamProfileAllStacks on Team {\n    id\n    defaultReplStack {\n      id\n      ...TeamProfileStack\n    }\n    defaultReplStack {\n      id\n      ...TeamProfileStack\n    }\n    stacks {\n      id\n      ...TeamProfileStack\n    }\n  }\n  ","\n"]);return m=function(){return e},e}function v(){var e=(0,i.Z)(["\n  fragment TeamCreateReplSubmissionOutput on CreateReplSubmissionOutput {\n    ... on Repl {\n      id\n      nextPagePathname\n      url\n      template {\n        id\n        ...TeamProfileReplTemplate\n      }\n    }\n    ... on UserError {\n      message\n    }\n  }\n  ","\n"]);return v=function(){return e},e}function g(){var e=(0,i.Z)(["\n  query TeamProProfile($teamname: String!) {\n    team: teamByUsername(username: $teamname) {\n      ... on Team {\n        id\n        ...TeamProProfile\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return g=function(){return e},e}function Z(){var e=(0,i.Z)(["\n  query TeamEduProfile($teamname: String!) {\n    team: teamByUsername(username: $teamname) {\n      ... on Team {\n        id\n        ...TeamEduProfile\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return Z=function(){return e},e}function b(){var e=(0,i.Z)(["\n  mutation TeamProProfilePinRepl($replId: String!) {\n    pinReplToProfile2(replId: $replId) {\n      ... on Repl {\n        id\n        pinnedToProfile\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return b=function(){return e},e}function x(){var e=(0,i.Z)(["\n  mutation TeamProProfileUnpinRepl($replId: String!) {\n    unpinReplFromProfile2(replId: $replId) {\n      ... on Repl {\n        id\n        pinnedToProfile\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return x=function(){return e},e}function y(){var e=(0,i.Z)(["\n  mutation TeamProfileArrangeStackItem($input: ArrangeStackItemInput!) {\n    arrangeStackItem(input: $input) {\n      ... on Team {\n        id\n        ...TeamProfileAllStacks\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return y=function(){return e},e}function w(){var e=(0,i.Z)(["\n  mutation TeamProfileUpdateReplTemplate($input: UpdateReplTemplateInput!) {\n    updateReplTemplate(input: $input) {\n      ... on ReplTemplate {\n        id\n        repl {\n          id\n          ...TeamProfileRepl\n        }\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return w=function(){return e},e}function C(){var e=(0,i.Z)(["\n  mutation TeamProfileMigrateTeamToStacks($teamId: Int!) {\n    migrateTeamToStacks(teamId: $teamId) {\n      ... on Team {\n        id\n        ...TeamEduProfile\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n"]);return C=function(){return e},e}function k(){var e=(0,i.Z)(["\n  mutation TeamProfileCreateReplTemplateModelSolution(\n    $input: CreateReplTemplateModelSolutionInput!\n  ) {\n    createReplTemplateModelSolution(input: $input) {\n      ... on Repl {\n        id\n        ...TeamProfileRepl\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return k=function(){return e},e}function L(){var e=(0,i.Z)(["\n  mutation TeamProfileCreateReplTemplateModelSolutionFork(\n    $input: CreateReplTemplateModelSolutionForkInput!\n  ) {\n    createReplTemplateModelSolutionFork(input: $input) {\n      ... on Repl {\n        id\n        ...TeamProfileRepl\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return L=function(){return e},e}function S(){var e=(0,i.Z)(["\n  mutation TeamCreateReplSubmission($templateId: Int!) {\n    createReplSubmission(templateId: $templateId) {\n      ...TeamCreateReplSubmissionOutput\n    }\n  }\n  ","\n"]);return S=function(){return e},e}var R={},I=(0,o.Ps)(c()),T=(0,o.Ps)(u(),I,a.Pc),B=(0,o.Ps)(d(),T),E=(0,o.Ps)(p(),B),G=(0,o.Ps)(f(),E),M=(0,o.Ps)(h(),E),D=(0,o.Ps)(m(),E),P=(0,o.Ps)(v(),T),j=(0,o.Ps)(g(),M);function _(e){var n=(0,r.Z)({},R,e);return l.a(j,n)}var U=(0,o.Ps)(Z(),G);function X(e){var n=(0,r.Z)({},R,e);return l.a(U,n)}var V=(0,o.Ps)(b());function z(e){var n=(0,r.Z)({},R,e);return s.D(V,n)}var W=(0,o.Ps)(x());function A(e){var n=(0,r.Z)({},R,e);return s.D(W,n)}var F=(0,o.Ps)(y(),D);function N(e){var n=(0,r.Z)({},R,e);return s.D(F,n)}var O=(0,o.Ps)(w(),B);function H(e){var n=(0,r.Z)({},R,e);return s.D(O,n)}var q=(0,o.Ps)(C(),G);function $(e){var n=(0,r.Z)({},R,e);return s.D(q,n)}var Y=(0,o.Ps)(k(),B);function K(e){var n=(0,r.Z)({},R,e);return s.D(Y,n)}var Q=(0,o.Ps)(L(),B);function J(e){var n=(0,r.Z)({},R,e);return s.D(Q,n)}var ee=(0,o.Ps)(S(),P);function ne(e){var n=(0,r.Z)({},R,e);return s.D(ee,n)}},14781:function(e,n,t){"use strict";var r=t(70041),i=t.n(r);n.Z=i()((function(){return Promise.all([t.e(311),t.e(1199),t.e(9350)]).then(t.bind(t,59350)).then((function(e){return e.EditReplTemplate}))}),{loadableGenerated:{webpack:function(){return[59350]}}})},25900:function(e,n,t){"use strict";function r(e){return{pathname:"/expiredPrivateRepl",query:{isOwner:e.isOwner,ownerUsername:e.ownerUsername,replId:e.replId}}}t.d(n,{H:function(){return r}})},87300:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return lk}});var r=t(57135),i=t(96583),o=t(4541),a=t(11122),l=t(2874),s=t(46710),c=t(6466),u=t(22167),d=t(55544),p=t(25776),f=t(31876),h=t(50959);function m(e){var n=e.src,t=e.autoPlay,r=void 0===t||t,i=e.loop,a=void 0===i||i,l=e.width,s=void 0===l?280:l;return(0,o.tZ)(p.G,{css:[u.l0.p(4),u.l0.borderRadius(8),u.l0.width(s),u.l0.backgroundColor.backgroundRoot,{border:"solid 1px ".concat(u.TV.outlineDimmest)}],children:(0,o.tZ)("video",{style:{width:"100%"},css:u.l0.borderRadius(8),src:n,autoPlay:r,loop:a,playsInline:!0,muted:!0})})}var v=function(e){return"/public/videos/workspace-onboarding/".concat(e,".mp4")},g={id:"workspace-desktop-new-user-tour",steps:[{id:f.y.Welcome,isModal:!0,title:"Welcome to the Workspace",content:function(){return(0,o.tZ)(p.G,{css:[u.l0.maxWidth(400)],children:(0,o.BX)(d.xv,{multiline:!0,children:["The Workspace is where you create projects on Replit. These are called"," ",(0,o.tZ)("strong",{children:"Repls."}),(0,o.tZ)("br",{}),"Let's explore around!"]})})}},{id:f.y.Editor,title:"Code Editor",content:function(){return(0,o.BX)(p.G,{css:[u.l0.width("100%"),u.l0.center,u.l0.position.relative],children:[(0,o.tZ)(m,{src:v("editor"),autoPlay:!0,loop:!0}),(0,o.tZ)(p.G,{css:[u.l0.colWithGap(8),u.l0.width("100%"),u.l0.py(8)],children:(0,o.tZ)(d.xv,{multiline:!0,children:"This is where you write code. The editor helps you by giving you suggestions and coloring your code."})})]})}},{id:f.y.Examples,title:"Examples",content:"Click on one of these examples to insert into your editor",autoSkipIfNoTarget:!0},{id:f.y.Run,title:"Run Button",content:function(){return(0,o.BX)(p.G,{css:[u.l0.width("100%"),u.l0.center,u.l0.position.relative],children:[(0,o.tZ)(m,{src:v("run-button"),autoPlay:!0,loop:!0}),(0,o.tZ)(p.G,{css:[u.l0.colWithGap(8),u.l0.width("100%"),u.l0.py(8)],children:(0,o.tZ)(d.xv,{multiline:!0,children:"Tap the Run button to \u201crun\u201d your code and see its output."})})]})}},{id:f.y.Output,title:"Output",content:function(){return(0,o.BX)(p.G,{css:[u.l0.width("100%"),u.l0.center,u.l0.position.relative],children:[(0,o.tZ)(m,{src:v("output"),autoPlay:!0,loop:!0}),(0,o.tZ)(p.G,{css:[u.l0.colWithGap(8),u.l0.width("100%"),u.l0.py(8)],children:(0,o.tZ)(d.xv,{multiline:!0,children:"This is where your run output appears. This can be text, websites, games, and more depending on the template you\u2019re using."})})]})}},{id:f.y.Sidepane,title:"Sidebar",content:function(){return(0,o.BX)(p.G,{css:[u.l0.width("100%"),u.l0.center,u.l0.position.relative],children:[(0,o.tZ)(m,{src:v("sidebar"),autoPlay:!0,loop:!0}),(0,o.BX)(p.G,{css:[u.l0.colWithGap(8),u.l0.width("100%"),u.l0.p(8)],children:[(0,o.BX)(d.xv,{multiline:!0,children:[(0,o.tZ)("strong",{children:"Files"})," is where all of your Repl\u2019s code is."]}),(0,o.BX)(d.xv,{multiline:!0,children:[(0,o.tZ)("strong",{children:"Tools"})," is where Packages, Debugger, Chat, Git, and more can be found."]}),(0,o.tZ)(d.xv,{multiline:!0,children:"You can drag and drop any file or tool. All tools open as tabs instead of opening in the sidebar."})]})]})}},{id:f.y.Share,title:"Invite & Collaborate",content:function(){return(0,o.BX)(p.G,{css:[u.l0.width("100%"),u.l0.center,u.l0.position.relative],children:[(0,o.tZ)(m,{src:v("invite-multiplayer"),autoPlay:!0,loop:!0}),(0,o.tZ)(p.G,{css:[u.l0.colWithGap(8),u.l0.width("100%"),u.l0.py(8)],children:(0,o.tZ)(d.xv,{multiline:!0,children:"Invite others to your Repl to collaborate and work together at the same time."})})]})}}]},Z={id:"workspace-desktop-sidebar-tour",steps:[{id:f.y.SidebarAnnouncement,title:"The New Workspace",isModal:!0,content:function(){return(0,o.tZ)(p.G,{css:[u.l0.maxWidth(400)],children:(0,o.tZ)(p.G,{css:[u.l0.width("100%"),u.l0.py(8)],children:(0,o.tZ)(d.xv,{multiline:!0,children:"If you\u2019re seeing this, that means you get to test the new Workspace redesign. It has a few key differences we want to show you!"})})})}},{id:f.y.Sidepane,title:"Sidebar",content:function(){return(0,o.BX)(p.G,{css:[u.l0.width("100%"),u.l0.center,u.l0.position.relative],children:[(0,o.tZ)(m,{src:(e="sidebar","/public/videos/workspace-onboarding/".concat(e,".mp4")),autoPlay:!0,loop:!0}),(0,o.BX)(p.G,{css:[u.l0.colWithGap(8),u.l0.width("100%"),u.l0.p(8)],children:[(0,o.BX)(d.xv,{multiline:!0,children:[(0,o.tZ)("strong",{children:"Files"})," is where all of your Repl\u2019s code is."]}),(0,o.BX)(d.xv,{multiline:!0,children:[(0,o.tZ)("strong",{children:"Tools"})," is where Packages, Debugger, Chat, Git, and more can be found."]}),(0,o.tZ)(d.xv,{multiline:!0,children:"You can drag and drop any file or tool. All tools open as tabs instead of opening in the sidebar."})]})]});var e}},{id:f.y.SidebarButton,title:"Sidebar Button",content:function(){return(0,o.tZ)(p.G,{css:[u.l0.width("100%"),u.l0.center,u.l0.position.relative],children:(0,o.tZ)(p.G,{css:[u.l0.width("100%"),u.l0.py(8)],children:(0,o.tZ)(d.xv,{multiline:!0,children:"Tapping on this quickly opens and closes the entire sidebar."})})})}},{id:f.y.GlobalNavButton,title:"Navigation Menu",content:function(){return(0,o.tZ)(p.G,{css:[u.l0.width("100%"),u.l0.center,u.l0.position.relative],children:(0,o.tZ)(p.G,{css:[u.l0.width("100%"),u.l0.py(8)],children:(0,o.tZ)(d.xv,{multiline:!0,children:"Tapping on this lets you navigate to other pages on Replit."})})})}},{id:f.y.NotificationsButton,title:"Notifications",content:function(){return(0,o.tZ)(p.G,{children:(0,o.tZ)(p.G,{css:[u.l0.width("100%"),u.l0.py(8)],children:(0,o.BX)(d.xv,{multiline:!0,children:["You can access all notifications from this menu."," "]})})})}},{id:f.y.AvatarButton,title:"Profile Menu",content:function(){return(0,o.tZ)(p.G,{children:(0,o.tZ)(p.G,{css:[u.l0.width("100%"),u.l0.py(8)],children:(0,o.tZ)(d.xv,{multiline:!0,children:"You can access your profile and account settings from this menu."})})})}},{id:f.y.Feedback,title:"That's all!",isModal:!0,content:function(){return(0,o.tZ)(p.G,{css:[u.l0.maxWidth(400)],children:(0,o.tZ)(p.G,{css:[u.l0.width("100%"),u.l0.py(8)],children:(0,o.BX)(d.xv,{multiline:!0,children:["This is the start of many more future updates to the Workspace to help increase the flexibility of Replit.",(0,o.tZ)("br",{}),(0,o.tZ)("br",{}),"If you'd like to leave some feedback, you can"," ",(0,o.tZ)("a",{href:"https://replit.com/@tyler/The-New-Workspace?v=1",target:"_blank",children:(0,o.tZ)("strong",{children:"leave a comment on this Repl"})}),". Happy coding!"]})})})}}]};var b=t(47134),x=t(91355);function y(e){var n=e.children,t=e.tour,r=function(e){var n;i&&t&&"function"===typeof(null===(n=window.analytics)||void 0===n?void 0:n.user)&&(0,x.yV)({id:window.analytics.user().id(),workspaceTourId:t.id,workspaceTourStatus:e===t.steps[t.steps.length-1].id?"completed":e.toLowerCase()})};if(!t)return(0,o.tZ)(o.HY,{children:n});var i="workspace-desktop-tour"===t.id||"workspace-desktop-new-user-tour"===t.id;return(0,o.tZ)(b.r,{tour:t,onStep:r,onDone:r,children:n})}var w=t(94370),C=t(12018),k=t(25900);var L=t(2272),S=t(23823),R=t(61352),I=t(24497),T=t(6601),B=t(19448),E=t(20866),G=t(89853),M=t(25942),D=t(9970),P=t(70788),j=t(7247),_=t(8189),U=t(81974),X=t(61128),V=t(64641),z=t(29679),W=t(77542),A=t(62487),F=t(7580),N=t(6394),O=t(47274),H=t(4106);function q(){var e=(0,E.Se)(),n=(0,C.P5)({controlName:"flag-search-replace-pane",default:!1,type:"boolean"});return(0,j.Z)((function(){return{data:{type:"context",label:"Open with Code Search",icon:(0,o.tZ)(O.Z,{}),key:"codeSearch"},commands:function(t){var r=t.search;if(!r||!n)return[];var i={type:"searchReplace",data:{initialQuery:r}};return[{match:U.pl,data:{type:"openPane",pane:i,label:e.getTitle(i),icon:e.Icon({pane:i})}}]}}}),[e,n])}var $=t(58975),Y=t(42858),K=t(73758),Q=function(e,n,t){return{match:t||U.pl,data:{type:"openPane",pane:e,label:n.getTitle(e),icon:n.Icon({pane:e})}}};function J(e){var n=(0,W.Bx)(),t=(0,z.Vu)();return(0,j.Z)((function(){var r=t.map((function(e){return e.filePath})),i=n.filter((function(e){return!r.includes(e)}));return{data:{type:"context",label:"Recent",icon:(0,o.tZ)(P.Z,{})},commands:function(n){var t=n.search;return(0,X.w)({paths:i,search:t,run:function(n){e({path:n})}})}}}),[n,t,e])}function ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=(0,E.Se)(),t=(0,z.cu)(),a=(0,z.eM)(),l=(0,z.V5)();return(0,j.Z)((function(){var s=e?l.filter((function(n){return(0,L.Z)(n,1)[0]!==e})):l;return s.length?[{data:{type:"context",label:e?"Switch to tab":"Jump to tab",icon:(0,o.tZ)(F.Z,{})},commands:function(){var o=(0,r.Z)((function(r){var o,l,c,u,d,p,f,h,m,v,g,Z,b,x,y,w,C;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:if(!(o=r.search))return[2,[]];l=new Map,c=[],u=!0,d=!1,p=void 0;try{for(f=s[Symbol.iterator]();!(u=(h=f.next()).done);u=!0)m=(0,L.Z)(h.value,2),m[0],v=m[1],(0,E.Ur)(v)&&v.data.path&&c.push(v.data.path)}catch(k){d=!0,p=k}finally{try{u||null==f.return||f.return()}finally{if(d)throw p}}return[4,(0,H.Rz)(o,c)];case 1:g=i.sent(),Z=!0,b=!1,x=void 0;try{for(y=g[Symbol.iterator]();!(Z=(w=y.next()).done);Z=!0)C=w.value,l.set(C.path,{score:C.score,ranges:C.ranges})}catch(k){b=!0,x=k}finally{try{Z||null==y.return||y.return()}finally{if(b)throw x}}return[2,s.map((function(r){var i=(0,L.Z)(r,2),o=i[0],s=i[1],c=(0,E.Ur)(s)?s.data.path:null,u=c?l.get(c):null;return{match:c&&u?function(){return{score:u.score,render:(0,H.xy)({path:c,ranges:u.ranges})}}:U.pl,data:{key:o,type:"action",label:n.getTitle(s),icon:n.Icon({pane:s}),run:function(){return e?t({a:e,b:o}):a(o)}}}}))]}}))}));return function(e){return o.apply(this,arguments)}}()}]:[]}),[e,l,n,a,t])}function ne(){var e=(0,E.Se)(),n=(0,N.B)(),t=(0,z.V5)();return(0,j.Z)((function(){var r=t.map((function(e){var n=(0,L.Z)(e,2);n[0];return n[1].type})),i=[],o=!0,a=!1,l=void 0;try{for(var s,c=n[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value;(0,E.b)(u.type)&&r.includes(u.type)||i.push(Q(u,e))}}catch(d){a=!0,l=d}finally{try{o||null==c.return||c.return()}finally{if(a)throw l}}return i}),[n,t,e])}var te={type:"group",key:"root",description:"Search for tools and files"};function re(e){var n=e.currentPaneId,t=e.openFile,a=(0,_.Z)(),l=a.fs,s=a.container,c=ne(),u=ee(n),d=J(t),p=(0,W.AA)(),f=(0,A.T)(),h=q(),m=(0,C.P5)({controlName:"flag-search-replace-clui",default:!1,type:"boolean"});return(0,j.Z)((function(){var e={data:{type:"context",label:"Search",icon:(0,o.tZ)(O.Z,{}),key:"searchGroup"},commands:function(){return[(0,X.i)({openFile:t,fs:l,shouldHideFile:f,getRecentFiles:p}),(0,V.F)({container:s,openFile:t,flagSearchReplaceCLUI:m})]}},n={data:{type:"context",label:"Tools",icon:(0,o.tZ)(F.Z,{})},commands:function(){return(0,D.Z)(c)}},a=function(e){var n=e.openFile,t=e.fs;return{match:U.pl,data:{type:"context",label:"New file",description:"Create a new file",icon:(0,o.tZ)($.Z,{})},commands:function(e){var a=e.search,l=e.active;return a&&l?[{match:U.pl,data:{type:"action",description:"Create a new file",label:a,icon:(0,o.tZ)(Y.Z,{path:a}),run:function(){return(0,r.Z)((function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return[4,t.stat(a)];case 1:return e.sent().exists?[2,{type:"error",message:'"'.concat(a,'" already exists')}]:[4,t.writeFile(a,K.Z.from(""))];case 2:return e.sent().error?[2,{type:"error",message:'Could not create "'+a+'"'}]:(n({path:a}),[2])}}))}))()}}}]:[]}}}({fs:l,openFile:t});return{data:te,commands:function(){return[d,e,a,n,h].concat((0,D.Z)(u))}}}),[s,l,p,c,u,f,d,t,m,h])}var ie=(0,G.X)({root:[u.l0.position.absolute,u.l0.borderRadius(8),u.l0.pt(16),u.l0.align.center,{border:"1px solid",borderColor:u.TV.outlineDimmest}],content:[u.l0.width("100%"),u.l0.flex.growAndShrink(1),{"& > div > label + div":[u.l0.maxWidth(600),u.l0.width("100%"),{alignSelf:"center"}],'& [role="listbox"] > div':[u.l0.align.center],'& [role="listbox"] > div > div':[u.l0.maxWidth("calc(".concat(600,"px - ").concat(u.TV.space16,")")),u.l0.width("100%")],'& [role="option"] > div':[u.l0.borderRadius(8)]}]});function oe(){var e=(0,z.x)(),n=(0,z.BN)(),t=(0,z.CA)(),r=function(){var e=(0,L.Z)((0,I.L)({accept:[T.Tv.File,B.z.NewPane],collect:function(e){return{isOver:e.isOver()}},hover:function(e,n){n.getClientOffset()&&r.drag()},drop:function(e,n){if(n.getClientOffset()){if(e.type===T.Tv.File||e.type===T.Tv.Directory){var t=e.nodes.filter((function(e){return e.type===T.Tv.File})).map((function(e){return{type:(0,E.Dp)({path:e.path}),data:{path:e.path}}}));t.length>0&&r.drop({panes:t})}if(e.type===B.z.NewPane){var i=e.pane;r.drop({panes:[i]})}}}}),2),n=e[0].isOver,t=e[1],r=(0,z.m$)({isOver:n});return t}(),i=re({openFile:t});return(0,o.tZ)(p.G,{style:{width:e.width,height:e.height,transform:"translate(".concat(e.x,"px, ").concat(e.y,"px)")},css:ie.root,innerRef:r,children:(0,o.tZ)(p.G,{css:ie.content,children:(0,o.tZ)(M.X,{autoFocus:!0,command:i,onSelect:function(e){if("openPane"===e.data.type)return(0,x.j)(x.U3.TOOL_OPENED,{source:"Empty Layout",tool:e.data.pane.type}),void n({pane:e.data.pane,edge:"left"})}})})})}var ae=t(57389),le=t(62830),se=t(72006),ce=t(43119),ue=t(71440),de=t(67216);function pe(){var e=(0,ce.Z)(["\n  fragment ReplEnvironmentAvatarMenuCurrentUser on CurrentUser {\n    id\n    url\n    username\n    image\n  }\n"]);return pe=function(){return e},e}function fe(){var e=(0,ce.Z)(["\n  query ReplEnvironmentAvatarMenu {\n    currentUser {\n      id\n      ...ReplEnvironmentAvatarMenuCurrentUser\n    }\n  }\n  ","\n"]);return fe=function(){return e},e}var he={},me=(0,ue.Ps)(pe()),ve=(0,ue.Ps)(fe(),me);var ge=t(59187);function Ze(){var e=(0,ce.Z)(["\n  fragment MarkLessonCompleteLesson on UserCourseLesson {\n    id\n    lessonSlug\n    timeCompleted\n    course {\n      id\n      courseSlug\n    }\n  }\n"]);return Ze=function(){return e},e}function be(){var e=(0,ce.Z)(["\n  mutation MarkLessonAsComplete($input: CompleteUserCourseLessonInput!) {\n    completeUserCourseLesson(input: $input) {\n      ... on UpdatedUserCourseLesson {\n        __typename\n        userCourseLesson {\n          id\n          timeCompleted\n        }\n      }\n      ... on NotFoundError {\n        __typename\n        message\n      }\n      ... on UnauthorizedError {\n        __typename\n        message\n      }\n      ... on UserError {\n        __typename\n        message\n      }\n    }\n  }\n"]);return be=function(){return e},e}var xe={},ye=(0,ue.Ps)(Ze()),we=(0,ue.Ps)(be());var Ce=t(41256),ke=t(79181),Le=t(268);function Se(){var e=(0,ce.Z)(["\n  fragment ReplEnvironmentHeaderReleaseRepl on Repl {\n    id\n    isAlwaysOn\n    slug\n    url\n    lang {\n      id\n      displayName\n    }\n    config {\n      isVnc\n    }\n    currentUserPermissions {\n      publish\n    }\n    publishedAs\n    isPrivate\n    hostingDeployment {\n      ... on HostingDeployment {\n        ...TargetHostingDeployment\n        currentBuild {\n          ...CurrentBuild2\n        }\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n    hostingDeploymentPermissions {\n      canDeploy\n    }\n    ...PublishReleaseFormRepl\n    ...HostingTierReplPowerUps\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return Se=function(){return e},e}var Re=(0,ue.Ps)(Se(),Ce.uC,Ce.MX,ke.wd,Le.Fh),Ie=t(88156),Te=t(5709),Be=t(29313);function Ee(){var e=(0,ce.Z)(["\n  fragment ReplEnvironmentHeaderLeftCurrentUser on CurrentUser {\n    id\n    isFirewallMode\n  }\n"]);return Ee=function(){return e},e}function Ge(){var e=(0,ce.Z)(["\n  fragment ReplEnvironmentHeaderLeftRepl on Repl {\n    id\n    isAlwaysOn\n    slug\n    url\n    ...WorkspaceHeaderReplMetadataRepl\n  }\n  ","\n"]);return Ge=function(){return e},e}var Me=(0,ue.Ps)(Ee()),De=(0,ue.Ps)(Ge(),Ie.s);function Pe(){var e=(0,ce.Z)(['\n  fragment ReplEnvironmentTourCurrentUser on CurrentUser {\n    id\n    hasSeenOldWorkspaceTour: tourSeen(name: "workspace-desktop-tour")\n  }\n']);return Pe=function(){return e},e}function je(){var e=(0,ce.Z)(["\n  fragment ReplEnvironmentTourRepl on Repl {\n    id\n    lesson {\n      id\n    }\n  }\n"]);return je=function(){return e},e}var _e=(0,ue.Ps)(Pe()),Ue=(0,ue.Ps)(je());function Xe(){var e=(0,ce.Z)(['\n  fragment ReplEnvironmentDesktopCurrentUser on CurrentUser {\n    id\n    image\n    isFirewallMode\n    isAdmin: hasRole(role: ADMIN)\n    userSubscriptionType\n    ...CrosisContextCurrentUser\n    editorPreferences {\n      ...CurrentUserPreferences\n    }\n    ...ReplEnvironmentHeaderLeftCurrentUser\n    ...ReplEnvironmentTourCurrentUser\n    canMigrateRepls: gate(feature: "migrate2nix-killswitch")\n  }\n  ',"\n  ","\n  ","\n  ","\n"]);return Xe=function(){return e},e}function Ve(){var e=(0,ce.Z)(["\n  fragment ReplEnvironmentDesktopRepl on Repl {\n    id\n    title\n    layoutState\n    description\n    hostedUrl: hostedUrl(dotty: true)\n    multiplayers {\n      id\n    }\n    currentUserPermissions {\n      containerWrite\n    }\n    origin {\n      id\n    }\n    language\n    config {\n      isVnc\n      isServer\n      isExtension\n    }\n    lesson {\n      id\n    }\n    ...CrosisContextRepl\n    ...ReplEnvironmentHeaderLeftRepl\n  }\n  ","\n  ","\n"]);return Ve=function(){return e},e}var ze=(0,ue.Ps)(Xe(),Te.D,Be.wO,Me,_e),We=(0,ue.Ps)(Ve(),Te.C,De);function Ae(){var e=(0,ce.Z)(["\n  fragment ReplEnvironmentHeaderCurrentUser on CurrentUser {\n    id\n    isSubscribed\n    isFirewallMode\n    isExplorer: hasRole(role: EXPLORER)\n    ...ReplEnvironmentAvatarMenuCurrentUser\n  }\n  ","\n"]);return Ae=function(){return e},e}function Fe(){var e=(0,ce.Z)(["\n  fragment ReplEnvironmentHeaderRepl on Repl {\n    id\n    slug\n    url\n    workspaceCta\n    currentUserPermissions {\n      editMultiplayers\n      inviteGuests\n    }\n    owner {\n      ... on Team {\n        id\n        capabilities {\n          isEducationPlan\n        }\n      }\n      ... on User {\n        id\n      }\n    }\n    template {\n      id\n      isGroupProject\n    }\n    lesson {\n      id\n      ...MarkLessonCompleteLesson\n    }\n    multiplayers {\n      id\n    }\n    ...ReplEnvironmentHeaderReleaseRepl\n  }\n  ","\n  ","\n"]);return Fe=function(){return e},e}function Ne(){var e=(0,ce.Z)(["\n  fragment ReplEnvironmentHeaderPropsRepl on Repl {\n    ...ReplEnvironmentDesktopRepl\n  }\n  ","\n"]);return Ne=function(){return e},e}function Oe(){var e=(0,ce.Z)(["\n  fragment ReplEnvironmentHeaderPropsCurrentUser on CurrentUser {\n    ...ReplEnvironmentDesktopCurrentUser\n  }\n  ","\n"]);return Oe=function(){return e},e}function He(){var e=(0,ce.Z)(["\n  query ReplEnvironmentHeader($id: String!) {\n    repl(id: $id) {\n      ... on Repl {\n        id\n        ...ReplEnvironmentHeaderRepl\n        ...WorkspaceHeaderReplMetadataRepl\n      }\n    }\n    currentUser {\n      id\n      ...ReplEnvironmentHeaderCurrentUser\n    }\n  }\n  ","\n  ","\n  ","\n"]);return He=function(){return e},e}var qe={},$e=(0,ue.Ps)(Ae(),me),Ye=(0,ue.Ps)(Fe(),ye,Re),Ke=(Ne(),Oe(),(0,ue.Ps)(He(),Ye,Ie.s,$e));var Qe=t(40610),Je=t(37676),en=t(98260),nn=t(3668),tn=t(38231),rn=t(59600),on=t(35021),an=t(18841),ln=t(95980),sn=t.n(ln),cn=t(3941),un=t(4405),dn=t(89632),pn=t(47287);function fn(e){var n=e.user,t=e.onClick;return(0,o.tZ)(pn.u,{placement:"bottom",tooltip:"Observe ".concat(n.username),children:function(e,r){return(0,o.tZ)(p.G,(0,un.Z)((0,se.Z)({},e),{innerRef:r,onClick:t,children:(0,o.tZ)(dn.q,{size:24,src:n.image||null,username:n.username,ringColor:n.color,css:[u.l0.cursor.pointer,{transition:"all 0.2s ease","&:hover":{filter:"brightness(95%)",boxShadow:u.TV.shadow1}}]})}))}})}var hn=t(97754),mn=t.n(hn),vn=t(97774);function gn(){var e=(0,ce.Z)(["\n  fragment UserListModalUser on User {\n    id\n    username\n    image\n  }\n"]);return gn=function(){return e},e}function Zn(){var e=(0,ce.Z)(["\n  fragment UserListModalReplPermission on ReplPermission {\n    id\n    type\n    user {\n      id\n      ...UserListModalUser\n    }\n  }\n  ","\n"]);return Zn=function(){return e},e}function bn(){var e=(0,ce.Z)(["\n  query UserListModal($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        user {\n          id\n          ...UserListModalUser\n        }\n        permissions {\n          id\n          ...UserListModalReplPermission\n        }\n      }\n      ... on ReplRedirect {\n        replUrl\n      }\n      ... on SubscriptionExpiredError {\n        replId\n      }\n    }\n    currentUser {\n      id\n    }\n  }\n  ","\n  ","\n"]);return bn=function(){return e},e}var xn={},yn=(0,ue.Ps)(gn()),wn=(0,ue.Ps)(Zn(),yn),Cn=(0,ue.Ps)(bn(),yn,wn);var kn=t(30241),Ln=t(31533);function Sn(){var e=(0,_.Z)(),n=e.session,t=e.presence;return h.useCallback((function(e){var r=e.username,i=e.id,o=t.getFollowedUser();if((null===o||void 0===o?void 0:o.username)!==r){t.followUser(r);var a=t.getActiveFileForUser(i),l=n.getActiveFile();a&&a!==l&&n.openFile(a)}else t.unfollowUser()}),[n,t])}var Rn=t(17074);function In(e){var n=e.hideModal,t=e.isOpen,r=(0,kn.Z)(),i=(0,_.Z)().presence,a=(0,Ln.Z)({presence:i});return(0,o.tZ)(on.u,{isOpen:t,onRequestClose:n,children:(0,o.tZ)(Bn,{replId:r,activeUsers:a,hideModal:n})})}function Tn(e,n){return n.some((function(n){return n.id===e}))}function Bn(e){var n=e.replId,t=e.activeUsers,r=e.hideModal,i=function(e){var n=(0,se.Z)({},xn,e);return de.a(Cn,n)}({variables:{replId:n}}),a=i.data,l=i.loading,s=i.error;if(l)return(0,o.tZ)(p.G,{css:[u.l0.flex.row,u.l0.justify.center,u.l0.p(32)],children:(0,o.tZ)(vn.Z,{})});if(s)return(0,o.tZ)("div",{children:s.message});if("Repl"===(null===a||void 0===a?void 0:a.repl.__typename)){var c=a.repl,f=a.currentUser,h=c.user,m=h&&t.find((function(e){return e.username===h.username})),v=c.permissions.filter((function(e){var n=e.user;return n&&Tn(n.id,t)})),g=c.permissions.filter((function(e){var n=e.user;return n&&!Tn(n.id,t)}));return(0,o.BX)(p.G,{css:[u.l0.colWithGap(24)],children:[(0,o.tZ)(d.h4,{level:1,variant:"headerDefault",children:"Multiplayers"}),(0,o.tZ)(d.xv,{multiline:!0,children:"Users can interact with this Repl in real time."}),(0,o.tZ)(p.G,{css:[u.l0.maxHeight(330),{overflowY:"auto"}],children:(0,o.BX)(p.G,{children:[h?(0,o.tZ)(Gn,(0,un.Z)((0,se.Z)({},h),{isOnline:Boolean(m),color:m?m.color:"transparent",isOwner:!0,hideModal:r,canClickAvatar:Boolean(m)&&h.id!==(null===f||void 0===f?void 0:f.id),type:le.aQ.Rw})):null,v.map((function(e){var n=e.type,i=e.user;if(!i)throw new Error("Expected user");var a=t.find((function(e){return e.username===i.username}));if(!a)throw new Error("Expected user online");var l=i.id!==(null===f||void 0===f?void 0:f.id);return(0,o.tZ)(Gn,(0,un.Z)((0,se.Z)({type:n},i),{isOnline:!0,canClickAvatar:l,color:a.color,hideModal:r,isOwner:!1}),"chat-user-list-".concat(i.username))})),g.map((function(e){var n=e.type,t=e.user;if(!t)throw new Error("Expected user");return(0,o.tZ)(Gn,(0,un.Z)((0,se.Z)({type:n},t),{canClickAvatar:!1,isOnline:!1,color:"transparent",hideModal:r,isOwner:!1}),"chat-user-list-".concat(t.username))}))]})})]})}return"ReplRedirect"===(null===a||void 0===a?void 0:a.repl.__typename)?(0,o.BX)("div",{children:["This Repl has moved to"," ",(0,o.tZ)("a",{href:a.repl.replUrl,children:a.repl.replUrl})]}):"SubscriptionExpiredError"===(null===a||void 0===a?void 0:a.repl.__typename)?(0,o.BX)("div",{children:["Your subscription has expired.",(0,o.tZ)("a",{href:"/pricing",children:"Upgrade here"})]}):null}var En={r:"read only",rw:"can edit"};function Gn(e){var n=e.type,t=e.id,r=e.username,i=e.image,a=e.isOnline,l=e.isOwner,s=e.color,c=e.hideModal,u=e.canClickAvatar,d=Sn(),p=function(){u&&(d({username:r,id:t}),c())};return(0,o.BX)("div",{className:sn().dynamic([["8abf4fce485dcead",[u?"pointer":"auto",s]]])+" "+(mn()("user-list-item-wrapper",{online:a})||""),children:[(0,o.BX)("div",{role:"button",onClick:p,onKeyDown:p,tabIndex:0,className:sn().dynamic([["8abf4fce485dcead",[u?"pointer":"auto",s]]])+" image",children:[(0,o.tZ)("img",{src:i,alt:"",className:sn().dynamic([["8abf4fce485dcead",[u?"pointer":"auto",s]]])+" "+((a?"":"offline")||"")}),(0,o.BX)(Rn.T,{children:["Observe ",r]})]}),(0,o.BX)("div",{className:sn().dynamic([["8abf4fce485dcead",[u?"pointer":"auto",s]]])+" info",children:[(0,o.BX)("div",{className:sn().dynamic([["8abf4fce485dcead",[u?"pointer":"auto",s]]]),children:[(0,o.BX)("a",{href:"/@".concat(r),target:"_blank",className:sn().dynamic([["8abf4fce485dcead",[u?"pointer":"auto",s]]]),children:["@",r]}),!a&&" (offline)"]}),(0,o.tZ)("div",{className:sn().dynamic([["8abf4fce485dcead",[u?"pointer":"auto",s]]]),children:l?"owner":En[n]})]}),(0,o.tZ)(sn(),{id:"8abf4fce485dcead",dynamic:[u?"pointer":"auto",s],children:".user-list-item-wrapper.__jsx-style-dynamic-selector{padding:var(--space-8);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-ordinal-group:2;-webkit-order:1;-moz-box-ordinal-group:2;-ms-flex-order:1;order:1}.image.__jsx-style-dynamic-selector{-webkit-box-flex:0;-webkit-flex:0 0 auto;-moz-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;cursor:".concat(u?"pointer":"auto","}img.__jsx-style-dynamic-selector{width:40px;height:40px;-webkit-border-radius:20px;-moz-border-radius:20px;border-radius:20px;border:3px solid ").concat(s,";background:white;-o-object-fit:cover;object-fit:cover}.info.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-left:var(--space-8)}img.offline.__jsx-style-dynamic-selector{-webkit-filter:grayscale(100%);filter:grayscale(100%)}.user-list-item-wrapper.online.__jsx-style-dynamic-selector{-webkit-box-ordinal-group:1;-webkit-order:0;-moz-box-ordinal-group:1;-ms-flex-order:0;order:0}")})]})}var Mn=t(23803);function Dn(e){var n=(0,L.Z)(h.useState(!1),2),t=n[0],r=n[1],i=(0,Mn.aG)(),a=i.length-2;return 0===i.length?null:(0,o.tZ)(p.G,{css:[u.l0.flex.row,u.l0.align.center],children:(0,o.BX)(p.G,{tag:"ul",className:"multiplayer-users-container",css:[u.l0.pr(8),u.l0.rowWithGap(4),u.l0.align.center,0===a?u.l0.pl(8):null],"aria-live":"polite","aria-relevant":"additions removals","aria-label":"online users",children:[a>0?(0,o.tZ)("li",{className:sn().dynamic([["4498c6c3d18d139f",[cn.j.mobileMax+100]]]),children:(0,o.tZ)(Je.T,{background:"root",children:(0,o.tZ)(en.zx,{onClick:function(){return r(!0)},text:"+ ".concat(a),css:[u.l0.borderRadius(0)]})})}):null,i.slice(0,2).map((function(n){return(0,o.tZ)("li",{className:sn().dynamic([["4498c6c3d18d139f",[cn.j.mobileMax+100]]]),children:(0,o.tZ)(fn,{user:n,onClick:function(){return e.onAvatarClick(n)}})},n.id)})),(0,o.tZ)(In,{isOpen:t,hideModal:function(){return r(!1)}}),(0,o.tZ)(sn(),{id:"4498c6c3d18d139f",dynamic:[cn.j.mobileMax+100],children:".multiplayer-users-container.__jsx-style-dynamic-selector li.__jsx-style-dynamic-selector{list-style-type:none}@media only screen and (max-width:".concat(cn.j.mobileMax+100,"px){.multiplayer-users-container.__jsx-style-dynamic-selector{display:none}}")})]})})}var Pn=t(63202),jn="Owner",_n="Can edit",Un=(0,G.X)({container:[u.l0.pl(8),u.l0.pr(16),u.l0.py(4),u.l0.flex.row,u.l0.align.center,u.l0.justify.start],button:[u.l0.display.flex,u.l0.align.center],img:[u.l0.width(32),u.l0.height(32),u.l0.borderRadius("full"),u.l0.backgroundColor.white,u.l0.border({width:3,style:"solid"}),{objectFit:"cover"}],usernameContainer:[u.l0.display.flex,u.l0.flex.column,u.l0.justify.center,u.l0.ml(8),u.l0.flex.growAndShrink(1),u.l0.colWithGap(2)]});var Xn=function(e){var n=e.id,t=e.username,r=e.image,i=e.isOwner,a=e.color,l=e.hideModal,s=e.canClickAvatar,c=e.isCurrentUser,u=Sn(),p=function(){s&&(u({username:t,id:n}),l())};return(0,o.BX)("div",{css:[Un.container,i&&tn.gU.listItem],style:(0,se.Z)({cursor:s?"pointer":"auto"},s&&tn.gU.listItem),role:"button",onClick:p,onKeyDown:p,tabIndex:0,children:[(0,o.BX)("div",{css:Un.button,children:[(0,o.tZ)(Pn.Z,{src:r,alt:"",css:Un.img,style:{borderColor:a},width:32,height:32}),s?(0,o.BX)(Rn.T,{children:["Observe ",t]}):null]}),(0,o.BX)("div",{css:Un.usernameContainer,children:[(0,o.BX)(d.xv,{children:["@",t,c?" (you)":null]}),(0,o.tZ)(d.xv,{variant:"small",color:"dimmer",children:i?jn:_n})]})]})};function Vn(){var e=(0,ce.Z)(["\n  fragment UsersOnlineOverflowMenuUser on User {\n    id\n    username\n    image\n  }\n"]);return Vn=function(){return e},e}function zn(){var e=(0,ce.Z)(["\n  query UsersOnlineOverflowMenu($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        user {\n          id\n          ...UsersOnlineOverflowMenuUser\n        }\n        multiplayers {\n          id\n          ...UsersOnlineOverflowMenuUser\n        }\n      }\n      ... on ReplRedirect {\n        replUrl\n      }\n      ... on SubscriptionExpiredError {\n        replId\n      }\n    }\n    currentUser {\n      id\n    }\n  }\n  ","\n"]);return zn=function(){return e},e}var Wn={},An=(0,ue.Ps)(Vn()),Fn=(0,ue.Ps)(zn(),An);var Nn=(0,G.X)({loading:[u.l0.flex.row,u.l0.justify.center,u.l0.p(32)],loaded:[u.l0.colWithGap(8),u.l0.py(8),u.l0.maxHeight(330),{overflowY:"auto"}]});var On=function(e){var n=e.replId,t=e.activeUsers,r=e.hideModal,i=function(e){var n=(0,se.Z)({},Wn,e);return de.a(Fn,n)}({variables:{replId:n}}),a=i.data,l=i.loading,s=i.error;if(l)return(0,o.tZ)(p.G,{css:Nn.loading,children:(0,o.tZ)(vn.Z,{})});if(s)return(0,o.tZ)("div",{children:s.message});if("Repl"===(null===a||void 0===a?void 0:a.repl.__typename)){var c=a.repl,u=a.currentUser,d=c.user,f=d&&t.find((function(e){return e.username===d.username})),h=c.multiplayers.filter((function(e){return e&&function(e,n){return n.some((function(n){return n.id===e}))}(e.id,t)})),m=h.slice(2);return(0,o.tZ)(p.G,{css:Nn.loaded,children:(0,o.BX)(p.G,{children:[d?(0,o.tZ)(Xn,(0,un.Z)((0,se.Z)({},d),{color:f?f.color:"transparent",isOwner:!0,hideModal:r,isCurrentUser:d.id===(null===u||void 0===u?void 0:u.id),canClickAvatar:Boolean(f)&&d.id!==(null===u||void 0===u?void 0:u.id)})):null,m.map((function(e){if(!e)throw new Error("Expected user");var n=t.find((function(n){return n.username===e.username}));if(!n)throw new Error("Expected user online");var i=e.id!==(null===u||void 0===u?void 0:u.id);return(0,o.tZ)(Xn,(0,un.Z)((0,se.Z)({isCurrentUser:e.id===(null===u||void 0===u?void 0:u.id)},e),{canClickAvatar:i,color:n.color,hideModal:r,isOwner:!1}),"chat-user-list-".concat(e.username))}))]})})}return"ReplRedirect"===(null===a||void 0===a?void 0:a.repl.__typename)?(0,o.BX)("div",{children:["This Repl has moved to"," ",(0,o.tZ)("a",{href:a.repl.replUrl,children:a.repl.replUrl})]}):"SubscriptionExpiredError"===(null===a||void 0===a?void 0:a.repl.__typename)?(0,o.BX)("div",{children:["Your subscription has expired.",(0,o.tZ)("a",{href:"/pricing",children:"Upgrade here"})]}):null},Hn=t(90189),qn=function(e){var n=e.isOpen,t=e.hideModal,r=e.children,i=(0,kn.Z)(),a=(0,_.Z)().presence,l=(0,Ln.Z)({presence:a});return(0,o.BX)(Hn.Z,{isOpen:n,padding:0,onClickOutside:t,children:[r,(0,o.tZ)(On,{replId:i,activeUsers:l,hideModal:t})]})},$n=(0,G.X)({root:[u.l0.flex.row,u.l0.align.center],userStack:[u.l0.rowWithGap(4),u.l0.align.center,u.l0.px(8),(0,ae.Z)({},u.BC.max(cn.j.mobileMax+100),[u.l0.display.none])],userStackListItem:{listStyleType:"none"},overflowContainer:{backgroundColor:"transparent"},overflowButton:[u.l0.borderRadius("full"),u.l0.minWidth(24),u.l0.height(24),u.l0.fontSize(10),u.l0.border({color:u.TV.outlineDefault})]});function Yn(e){var n=(0,L.Z)(h.useState(!1),2),t=n[0],r=n[1],i=(0,Mn.aG)();if(0===i.length)return null;var a=i.slice(0,2),l=i.length-2;return(0,o.tZ)(p.G,{css:$n.root,children:(0,o.BX)(p.G,{tag:"ul",css:$n.userStack,"aria-live":"polite","aria-relevant":"additions removals","aria-label":"online users",children:[a.map((function(n){return(0,o.tZ)("li",{css:$n.userStackListItem,children:(0,o.tZ)(fn,{user:n,onClick:function(){return e.onAvatarClick(n)}})},n.id)})),l>0?(0,o.tZ)("li",{css:$n.userStackListItem,children:(0,o.tZ)(p.G,{children:(0,o.tZ)(qn,{isOpen:t,hideModal:function(){return r(!1)},children:(0,o.tZ)(Je.T,{background:"root",css:$n.overflowContainer,children:(0,o.tZ)(en.zx,{small:!0,onClick:function(){return r(!t)},text:l.toString(),css:$n.overflowButton})})})})}):null]})})}var Kn=t(20459),Qn=t(95881),Jn=t(26430),et=t(99190),nt=t(52308),tt=t(77770),rt=t(1235),it=t(46598),ot=t(24403),at=t(72851),lt=t(79197),st=t(59645),ct=t(87245),ut=t(80722),dt=t(42482),pt=t(26568);function ft(e){var n=e.value,t=e.onButtonPress,r=e.statusText,i=void 0===r?"":r,a=e.image,l=e.filterValue,s=e.type,c=e.Icon;return(0,o.BX)("div",{className:"jsx-a16e88ad40d0e05c "+(mn()("multiplayer-item",{"is-editable":!!t})||""),children:[(0,o.BX)(Jn.Ug,{align:"center",spacing:1,children:[(0,o.tZ)(rt.Z,{size:"s",url:null!==a&&void 0!==a?a:""}),(0,o.tZ)("div",{className:"jsx-a16e88ad40d0e05c label",children:l?(0,o.tZ)(ct.gr,{source:n,match:l}):"".concat(n," ").concat(i)}),!!t&&(0,o.tZ)(pt.Z,{className:"remove-button",border:!1,filled:!1,"aria-label":"Remove ".concat(s||"email invite"),role:"tooltip","data-microtip-position":"left",onClick:t,children:c?(0,o.tZ)(c,{size:12,className:"jsx-a16e88ad40d0e05c"}):null})]}),(0,o.tZ)(sn(),{id:"a16e88ad40d0e05c",children:".multiplayer-item.jsx-a16e88ad40d0e05c{padding:var(--space-4)var(--space-16)}.multiplayer-item.is-editable.jsx-a16e88ad40d0e05c{padding-right:var(--space-8)}.multiplayer-item.is-editable.jsx-a16e88ad40d0e05c:hover{background-color:var(--background-root)}.label.jsx-a16e88ad40d0e05c{margin-right:auto}"})]})}var ht=t(51609);function mt(e){var n=e.email,t=e.onInvite,r=e.onCancel;return(0,o.BX)("div",{className:"jsx-1a6ae4ac10e8f1fa root",children:[(0,o.tZ)(at.Z,{level:3,align:"center",children:"Are you sure?"}),(0,o.BX)(lt.Z,{align:"center",children:[(0,o.tZ)("p",{className:"jsx-1a6ae4ac10e8f1fa message",children:"Adding an external user as a guest to this repl will give the user read and write access. Please confirm the below email address before inviting the user as a guest."}),(0,o.tZ)("p",{className:"jsx-1a6ae4ac10e8f1fa email",children:n})]}),(0,o.BX)("div",{className:"jsx-1a6ae4ac10e8f1fa controls",children:[(0,o.tZ)(pt.Z,{onClick:r,children:"Cancel"}),(0,o.tZ)(pt.Z,{filled:!0,color:"primary",onClick:t,children:"Invite"})]}),(0,o.tZ)(sn(),{id:"1a6ae4ac10e8f1fa",children:".root.jsx-1a6ae4ac10e8f1fa{color:var(--foreground-default);padding:var(--space-24);display:grid;grid-gap:var(--space-24)}.controls.jsx-1a6ae4ac10e8f1fa{display:grid;grid-gap:var(--space-8);grid-auto-flow:column}.message.jsx-1a6ae4ac10e8f1fa{padding-bottom:var(--space-16)}"})]})}var vt=t(91197),gt=t(35701);function Zt(e){var n,t,r=e.replId,i=(0,Kn.JT)({variables:{replId:r}}),a=i.data,l=i.loading,s=(null===a||void 0===a||null===(n=a.currentUser)||void 0===n?void 0:n.id)||null,c=(0,it.Z)(),u=c.showConfirm,d=c.showError,p=(0,L.Z)(h.useState(""),2),f=p[0],m=p[1],v=(0,L.Z)((0,Kn.fS)({onError:function(e){return d(e.message)},onCompleted:function(e){var n=e.addMultiplayerUser.user;(0,x.j)(x.U3.MULTIPLAYER_INVITED,{replId:r,inviteMethod:"username"});var t=n?"@".concat(n.username):"Member";u("".concat(t," added"))}}),2),g=v[0],Z=v[1],b=(0,L.Z)((0,Kn.HM)({onError:function(e){return d(e.message)},onCompleted:function(e){var n=e.removeMultiplayerUser.user,t=n?"@".concat(n.username):"Member";u("".concat(t," removed"))}}),2),y=b[0],w=b[1],C="Repl"===(null===a||void 0===a?void 0:a.repl.__typename)?a.repl:null,k=(0,L.Z)((0,Qn.Sv)({onError:function(e){d(e.message)},update:function(e,n){var t,i=null===(t=n.data)||void 0===t?void 0:t.createMultiplayerInvite2;if(i)if("UserError"!==i.__typename){if("MultiplayerInvite"===i.__typename){var o=i.email;return(0,x.j)(x.U3.MULTIPLAYER_INVITED,{replId:r,inviteMethod:"email"}),void u("Invited ".concat(o," via email"))}if("ReplPermission"===i.__typename){e.modify({id:e.identify({__typename:"Repl",id:r}),fields:{permissions:function(n){var t=e.writeFragment({data:i,fragment:Qn.L1});return(0,D.Z)(n).concat([t])}}});var a=i.user;(0,x.j)(x.U3.MULTIPLAYER_INVITED,{replId:r,inviteMethod:"email"});var l=a?"@".concat(a.username):"Member";u("".concat(l," added"))}}else d(i.message)}}),2),S=k[0],R=k[1],I=(0,L.Z)((0,Qn.Ej)({onError:function(e){return d(e.message)},onCompleted:function(e){if("UserError"!==e.deleteMultiplayerInvite.__typename){if("MultiplayerInvite"===e.deleteMultiplayerInvite.__typename){var n=e.deleteMultiplayerInvite.email;u("Invite for ".concat(n," deleted"))}}else d(e.deleteMultiplayerInvite.message)}}),2),T=I[0],B=I[1];if(C&&!C.owner)throw new Error("Cannot manage members on anon repls");if((null===C||void 0===C?void 0:C.owner)&&"Team"!==(null===C||void 0===C?void 0:C.owner.__typename))throw new Error("Expect repl owned by a team");var E,G,M,P="Team"===(null===C||void 0===C||null===(t=C.owner)||void 0===t?void 0:t.__typename)?C.owner:null,j=null!==(E=null===C||void 0===C?void 0:C.permissions.reduce((function(e,n){return n.user?(0,D.Z)(e).concat([n.user.username]):e}),[]))&&void 0!==E?E:[],_=null===C||void 0===C?void 0:C.permissions.reduce((function(e,n){if(!n.user)return e;var t=n.user;return!f||ut.Z.filter(f,[t.username]).length>0?((null===P||void 0===P?void 0:P.members.some((function(e){var n;return(null===(n=e.user)||void 0===n?void 0:n.id)===t.id})))||e.users.push(t),e):e}),{users:[]}),U=null===C||void 0===C?void 0:C.multiplayerInvites.filter((function(e){return!f||ut.Z.filter(f,[e.email]).length>0})),X=null===P||void 0===P?void 0:P.members.reduce((function(e,n){if(!n.user)return e;var t=n.user;if(!(!f||ut.Z.filter(f,[t.username]).length>0))return e;var r=n.permissions&&n.permissions!==le.SV.Member,i=null===C||void 0===C?void 0:C.permissions.find((function(e){var n;return e.user&&(null===(n=e.user)||void 0===n?void 0:n.id)===t.id}));return r?e.teamAdmins.push(t):(null===i||void 0===i?void 0:i.type)?e.withPermission.push(t):e.withoutPermission.push(t),e}),{teamAdmins:[],withPermission:[],withoutPermission:[]}),V=null===X||void 0===X?void 0:X.teamAdmins.some((function(e){return e.id===s})),z=(null!==(G=null===_||void 0===_?void 0:_.users.length)&&void 0!==G?G:0)+(null!==(M=null===U||void 0===U?void 0:U.length)&&void 0!==M?M:0),W=null===C||void 0===C?void 0:C.currentUserPermissions.editMultiplayers,A=null===C||void 0===C?void 0:C.currentUserPermissions.inviteGuests,F=Boolean(X&&!X.teamAdmins.length&&!X.withPermission.length&&(!(null===_||void 0===_?void 0:_.users.length)&&!(null===U||void 0===U?void 0:U.length)&&A||!A&&!X.withoutPermission.length)),N=(0,L.Z)(h.useState(null),2),O=N[0],H=N[1];return(0,o.BX)("div",{className:sn().dynamic([["dc131772cdbb2add",[cn.j.mobileMax]]])+" root",children:[(0,o.BX)(Jn.gC,{spacing:2,align:"stretch",children:[(0,o.BX)(Jn.Ug,{children:[(0,o.BX)(at.Z,{level:5,foreground:l?3:1,children:[W?"Add or remove members from this repl":null,l?"Loading...":null]}),W&&A&&!l?(0,o.tZ)("div",{"aria-label":" Add team members or invite external guests via email or username","data-microtip-position":"bottom","data-microtip-size":"medium",role:"tooltip",className:sn().dynamic([["dc131772cdbb2add",[cn.j.mobileMax]]])+" information-icon-container",children:(0,o.tZ)(ht.Z,{})}):null]}),A?(0,o.tZ)(dt.Z,{existingUsernames:j,onSubmit:function(e){!!e.match(/.+@.+/)&&!R.loading?H(e):Z.loading||g({variables:{username:e,replId:r,type:"rw"}}),m("")},placeholder:W?"Search for users or invite guests":"Filter users",isDisabled:l,onChange:function(e){return m(e)}}):(0,o.tZ)(st.ZP,{disabled:l,value:f,onChange:function(e){return m(e.currentTarget.value)},placeholder:W?"Filter team members to add or remove":"Filter team members"}),(0,o.tZ)(on.u,{isOpen:!!O,onRequestClose:function(){return H(null)},children:O?(0,o.tZ)(mt,{email:O,onInvite:function(){S({variables:{email:O,replId:r,type:"rw"}}),H(null)},onCancel:function(){return H(null)}}):null}),(0,o.BX)("div",{className:sn().dynamic([["dc131772cdbb2add",[cn.j.mobileMax]]])+" "+(mn()("multiplayers-list",{"is-empty":F})||""),children:[(null===X||void 0===X?void 0:X.withPermission.length)?(0,o.tZ)("div",{className:sn().dynamic([["dc131772cdbb2add",[cn.j.mobileMax]]])+" list-heading",children:(0,o.BX)(Jn.Ug,{align:"center",spacing:1,children:[(0,o.tZ)(et.Z,{size:12}),(0,o.BX)(lt.Z,{foreground:2,size:"small",children:[null===X||void 0===X?void 0:X.withPermission.length," member",1===(null===X||void 0===X?void 0:X.withPermission.length)?"":"s"," with access"]})]})}):null,null===X||void 0===X?void 0:X.withPermission.map((function(e){return(0,o.tZ)(ft,{value:e.username,image:e.image,statusText:"(can edit)",type:"member",onButtonPress:V?function(){w.loading||y({variables:{replId:r,username:e.username}})}:void 0,Icon:ot.Z},e.id)})),!!z&&(0,o.tZ)("div",{className:sn().dynamic([["dc131772cdbb2add",[cn.j.mobileMax]]])+" list-heading",children:(0,o.BX)(Jn.Ug,{align:"center",spacing:1,children:[(0,o.tZ)(et.Z,{size:12}),(0,o.BX)(lt.Z,{foreground:2,size:"small",children:[(0,gt.Z)("guest",z,!0),"with access"]})]})}),null===_||void 0===_?void 0:_.users.map((function(e){return(0,o.tZ)(ft,{value:e.username,image:e.image,statusText:"(can edit)",type:"guest",onButtonPress:V?function(){w.loading||y({variables:{replId:r,username:e.username}})}:void 0,Icon:ot.Z},e.id)})),null===U||void 0===U?void 0:U.map((function(e){return(0,o.tZ)(ft,{value:e.email,statusText:"(pending)",onButtonPress:V?function(){B.loading||T({variables:{replId:r,email:e.email}})}:void 0,Icon:ot.Z},e.email)})),!A&&(null===X||void 0===X?void 0:X.withoutPermission.length)?(0,o.tZ)("div",{className:sn().dynamic([["dc131772cdbb2add",[cn.j.mobileMax]]])+" list-heading",children:(0,o.BX)(Jn.Ug,{align:"center",spacing:1,children:[(0,o.tZ)(nt.Z,{size:12}),(0,o.BX)(lt.Z,{foreground:2,size:"small",children:[(0,gt.Z)("member",null===X||void 0===X?void 0:X.withoutPermission.length,!0),"without access"]})]})}):null,!A&&(null===X||void 0===X?void 0:X.withoutPermission.map((function(e){return(0,o.tZ)(ft,{value:e.username,image:e.image,type:"member",onButtonPress:W?function(){Z.loading||g({variables:{replId:r,username:e.username,type:"rw"}})}:void 0,Icon:$.Z},e.id)}))),(null===X||void 0===X?void 0:X.teamAdmins.length)?(0,o.tZ)("div",{className:sn().dynamic([["dc131772cdbb2add",[cn.j.mobileMax]]])+" list-heading",children:(0,o.BX)(Jn.Ug,{align:"center",spacing:1,children:[(0,o.tZ)(tt.Z,{size:12}),(0,o.tZ)(lt.Z,{foreground:2,size:"small",children:"Team admins cannot be removed from repls"})]})}):null,null===X||void 0===X?void 0:X.teamAdmins.map((function(e){return(0,o.tZ)("div",{className:sn().dynamic([["dc131772cdbb2add",[cn.j.mobileMax]]])+" "+(mn()("multiplayer-item",{"is-editable":W})||""),children:(0,o.BX)(Jn.Ug,{align:"center",spacing:1,children:[(0,o.tZ)(rt.Z,{size:"s",url:e.image}),(0,o.tZ)("div",{className:sn().dynamic([["dc131772cdbb2add",[cn.j.mobileMax]]])+" label",children:f?(0,o.tZ)(ct.gr,{source:e.username,match:f}):e.username})]})},e.id)})),F?(0,o.BX)(lt.Z,{foreground:2,align:"center",children:['No members matching "',f,'" found']}):null]}),W||l?null:(0,o.tZ)(lt.Z,{foreground:2,size:"small",children:"Only admins can add and remove members to multiplayer"}),W&&A?(0,o.tZ)(vt.Z,{replId:r}):null]}),(0,o.tZ)(sn(),{id:"dc131772cdbb2add",dynamic:[cn.j.mobileMax],children:".root.__jsx-style-dynamic-selector{padding:var(--space-16);color:var(--foreground-default)}.multiplayers-list.__jsx-style-dynamic-selector{background-color:var(--background-root);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);height:300px;overflow-y:auto}.multiplayers-list.is-empty.__jsx-style-dynamic-selector{display:grid;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:var(--space-16);word-break:break-word}.multiplayer-item.__jsx-style-dynamic-selector{padding:var(--space-4)var(--space-16)}.multiplayer-item.is-editable.__jsx-style-dynamic-selector{padding-right:var(--space-8)}.multiplayer-item.is-editable.__jsx-style-dynamic-selector:hover{background-color:var(--background-root)}.list-heading.__jsx-style-dynamic-selector{padding:var(--space-16)var(--space-16)0}.label.__jsx-style-dynamic-selector{margin-right:auto}.information-icon-container.__jsx-style-dynamic-selector{margin-left:5px}@media screen and (min-width:".concat(cn.j.mobileMax,"px){.root.__jsx-style-dynamic-selector{padding:var(--space-48)}}")})]})}var bt=t(26476),xt=t(54233),yt=t(67753),wt=(0,a.iv)([u.l0.p(8),u.l0.borderRadius(8),u.l0.border({color:u.TV.purpleDefault,width:1})]);function Ct(e){var n=e.children,t=e.showPopover,r=(0,xt.Z)("announcement","add-guest-new-user"),i=r.shouldDisplay,a=r.register,l=r.dismiss,s=(0,L.Z)(h.useState(!1),2),c=s[0],u=s[1],d=(0,L.Z)(h.useState(!1),2),f=d[0],m=d[1];h.useEffect((function(){t&&!f&&a()}),[f,a,t]);var v=i&&!f;return(0,o.BX)(yt.x,{css:wt,isOpen:v,onOpenChange:function(e){e||m(!0)},label:"Add Guests",children:[(0,o.tZ)(p.K.div,{children:n}),(0,o.BX)(Jn.gC,{spacing:2,align:"stretch",children:[(0,o.BX)(Jn.Ug,{spacing:1,children:[(0,o.tZ)(bt.Z,{}),(0,o.tZ)(at.Z,{level:5,children:"Invite guests to your repl!"})]}),(0,o.BX)(lt.Z,{children:[" ","Add external guests to your repl for interviews and collaborative projects."," "]}),(0,o.tZ)(Jn.Ug,{spacing:1,justify:"end",children:(0,o.tZ)(pt.Z,{loading:c,onClick:function(){u(!0),l()},children:"Got it"})})]})]})}var kt=t(40097);function Lt(e){var n=e.replId;return(0,o.tZ)(p.G,{css:[u.l0.p(16)],children:(0,o.BX)(p.G,{css:[u.l0.flex.column,u.l0.colWithGap(8),u.l0.align.stretch],children:[(0,o.tZ)(d.xv,{variant:"subheadDefault",children:"Invite"}),(0,o.tZ)(kt.Z,{replId:n}),(0,o.tZ)(vt.Z,{replId:n})]})})}var St=t(54574),Rt=t(54938),It=t(79274),Tt=t(32045),Bt=t(30265),Et=t(36291),Gt=t(13469),Mt=t(64406);function Dt(){var e=(0,ce.Z)(["\n  query TeamMultiplayerManagerMultiplayers($replId: String!) {\n    currentUser {\n      id\n    }\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        isOwner\n        multiplayers {\n          id\n          ...MultiplayerUser\n        }\n        currentUserPermissions {\n          editMultiplayers\n          inviteGuests\n        }\n        multiplayerInvites {\n          email\n          type\n        }\n        owner {\n          ... on User {\n            id\n          }\n          ... on Team {\n            id\n            username\n            displayName\n            capabilities {\n              isBusinessPlan\n              hasValidSubscription\n              availableSeats\n            }\n            members {\n              id\n              permissions\n              user {\n                id\n                ...MultiplayerUser\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return Dt=function(){return e},e}function Pt(){var e=(0,ce.Z)(["\n  mutation TeamMultiplayerManagerMultiplayersAddMultiplayerUser(\n    $replId: String!\n    $username: String!\n    $type: String!\n  ) {\n    addMultiplayerUser(replId: $replId, username: $username, type: $type) {\n      id\n      type\n      user {\n        id\n        ...MultiplayerUser\n      }\n      repl {\n        id\n        multiplayers {\n          id\n          ...MultiplayerUser\n        }\n        multiplayerInvites {\n          email\n          type\n        }\n      }\n    }\n  }\n  ","\n"]);return Pt=function(){return e},e}function jt(){var e=(0,ce.Z)(["\n  mutation TeamMultiplayerManagerMultiplayersRemoveMultiplayerUser(\n    $replId: String!\n    $username: String!\n  ) {\n    removeMultiplayerUser(replId: $replId, username: $username) {\n      id\n      user {\n        id\n        ...MultiplayerUser\n      }\n      repl {\n        id\n        multiplayers {\n          id\n          ...MultiplayerUser\n        }\n      }\n    }\n  }\n  ","\n"]);return jt=function(){return e},e}var _t={},Ut=(0,ue.Ps)(Dt(),Kn.U4);var Xt=(0,ue.Ps)(Pt(),Kn.U4);jt(),Kn.U4;var Vt=t(52085),zt=t(14709),Wt=t.n(zt);function At(e){var n,t,r,i,a=e.replId,l=function(e){var n=(0,se.Z)({},_t,e);return de.a(Ut,n)}({variables:{replId:a}}),s=l.data,c=l.loading,f=(0,w.useRouter)(),m=(0,Bt.Vg)(f),v=(0,Mn.aG)(),g=(null===s||void 0===s||null===(n=s.currentUser)||void 0===n?void 0:n.id)||null,Z="Repl"===(null===s||void 0===s?void 0:s.repl.__typename)?s.repl:null,b=(0,it.Z)(),y=b.showConfirm,C=b.showError,k=(0,L.Z)(function(e){var n=(0,se.Z)({},_t,e);return ge.D(Xt,n)}({onError:function(e){return C(e.message)},onCompleted:function(e){var n=e.addMultiplayerUser.user;(0,x.j)(x.U3.MULTIPLAYER_INVITED,{replId:a,inviteMethod:"username"});var t=n?"@".concat(n.username):"Member";y("".concat(t," added"))}}),2),S=k[0],R=k[1],I=(0,L.Z)((0,Mt.z8)({onError:function(e){C(e.message)},update:function(e,n){var t,r=null===(t=n.data)||void 0===t?void 0:t.createMultiplayerInvite2;if(r)if("UserError"!==r.__typename){if("MultiplayerInvite"===r.__typename){var i=r.email;return(0,x.j)(x.U3.MULTIPLAYER_INVITED,{replId:a,inviteMethod:"email"}),void y("Invited ".concat(i," via email"))}if("ReplPermission"===r.__typename){e.modify({id:e.identify({__typename:"Repl",id:a}),fields:{permissions:function(n){var t=e.writeFragment({data:r,fragment:Mt.dE});return(0,D.Z)(n).concat([t])}}});var o=r.user;(0,x.j)(x.U3.MULTIPLAYER_INVITED,{replId:a,inviteMethod:"email"});var l=o?"@".concat(o.username):"Member";y("".concat(l," added"))}}else C(r.message)}}),2),T=I[0],B=I[1];if(Z&&!Z.owner)throw new Error("Cannot manage members on anon repls");if((null===Z||void 0===Z?void 0:Z.owner)&&"Team"!==(null===Z||void 0===Z?void 0:Z.owner.__typename))throw new Error("Expect repl owned by a team");var E,G,M="Team"===(null===Z||void 0===Z||null===(t=Z.owner)||void 0===t?void 0:t.__typename)?Z.owner:null,P=!(null===M||void 0===M||null===(r=M.capabilities)||void 0===r?void 0:r.hasValidSubscription)&&!(null===M||void 0===M||null===(i=M.capabilities)||void 0===i?void 0:i.isBusinessPlan),j=null!==(E=null===Z||void 0===Z?void 0:Z.multiplayers.reduce((function(e,n){return n?(0,D.Z)(e).concat([n.username]):e}),[]))&&void 0!==E?E:[],_=null===Z||void 0===Z?void 0:Z.multiplayerInvites,U=null===M||void 0===M?void 0:M.members.filter((function(e){return e.id!==g})),X=null===M||void 0===M?void 0:M.members.filter((function(e){return e.permissions&&e.permissions!==le.SV.Member})),V=null===U||void 0===U?void 0:U.filter((function(e){var n=e.user;return v.some((function(e){return e.id===(null===n||void 0===n?void 0:n.id)}))})),z=null===U||void 0===U?void 0:U.filter((function(e){var n=e.user;return!v.some((function(e){return e.id===(null===n||void 0===n?void 0:n.id)}))})),W=null===X||void 0===X?void 0:X.some((function(e){return e.id===g})),A=null!==(G=null===_||void 0===_?void 0:_.length)&&void 0!==G?G:0,F=null===Z||void 0===Z?void 0:Z.currentUserPermissions.editMultiplayers,N=null===Z||void 0===Z?void 0:Z.currentUserPermissions.inviteGuests,O=(0,L.Z)(h.useState(null),2),H=O[0],q=O[1];return c?(0,o.tZ)(Je.T,{css:[Rt._U.root],background:"default",children:(0,o.BX)(p.G,{css:Rt._U.loading,children:[(0,o.tZ)(vn.Z,{color:Gt.TV.foregroundDimmer}),(0,o.tZ)(d.xv,{color:"dimmer",children:"Loading..."})]})}):(0,o.BX)(Je.T,{css:Rt._U.root,background:"default",children:[(0,o.tZ)(p.G,{css:[Rt._U.header,m&&Rt._U.header_mobile],children:(0,o.tZ)(p.G,{css:Rt._U.titleContainer,children:(0,o.tZ)(d.xv,{variant:"subheadDefault",children:"Team Multiplayers"})})}),N?(0,o.tZ)(p.G,{css:Rt._U.searchContainer,children:(0,o.tZ)(Tt.Z,{existingUsernames:j,onSubmit:function(e){Wt()(e)&&!B.loading?q(e):R.loading||S({variables:{username:e,replId:a,type:"rw"}})},isDisabled:c})}):null,!N&&P?(0,o.tZ)(p.G,{css:[u.l0.px(16)],children:(0,o.tZ)(Et.u,{icon:(0,o.tZ)(Vt.Z,{}),text:'You can add people to this Repl by inviting them to the "'.concat(null===M||void 0===M?void 0:M.displayName,'" Friends Team.'),href:"/teams/".concat(null===M||void 0===M?void 0:M.username),target:"_blank"})}):null,(0,o.tZ)(on.u,{isOpen:!!H,onRequestClose:function(){return q(null)},children:H?(0,o.tZ)(mt,{email:H,onInvite:function(){T({variables:{email:H,replId:a,type:"rw"}}),q(null)},onCancel:function(){return q(null)}}):null}),(0,o.BX)(Je.T,{css:Rt._U.userList,children:[(null===_||void 0===_?void 0:_.length)?(0,o.BX)(p.G,{css:Rt._U.userGroup.root,children:[(0,o.tZ)(Rt.ln,{title:"Pending Invitations",color:Gt.TV.outlineStrongest,count:A}),null===_||void 0===_?void 0:_.map((function(e){return(0,o.tZ)(It.Z,{canEditMultiplayers:W||!1,email:e.email,isPendingInvitation:!0,replId:a},e.email)}))]}):null,(null===V||void 0===V?void 0:V.length)?(0,o.BX)(p.G,{css:Rt._U.userGroup.root,children:[(0,o.tZ)(Rt.ln,{title:"Online",color:Gt.TV.greenStrongest,count:null===V||void 0===V?void 0:V.length}),null===V||void 0===V?void 0:V.map((function(e){var n=e.user;return n?(0,o.tZ)(It.Z,{isPendingInvitation:!1,canEditMultiplayers:Boolean(W),replId:a,user:n},n.id):null}))]}):null,(null===z||void 0===z?void 0:z.length)?(0,o.BX)(p.G,{css:Rt._U.userGroup.root,children:[(0,o.tZ)(Rt.ln,{title:"Offline",color:Gt.TV.outlineStrongest,count:null===z||void 0===z?void 0:z.length}),null===z||void 0===z?void 0:z.map((function(e){var n=e.user;return n?(0,o.tZ)(It.Z,{isPendingInvitation:!1,canEditMultiplayers:Boolean(W),replId:a,user:n},n.id):null}))]}):null,(null===X||void 0===X?void 0:X.length)?(0,o.BX)(p.G,{css:Rt._U.userGroup.root,children:[(0,o.tZ)(Rt.ln,{title:"Admins",color:Gt.TV.accentPrimaryStronger,count:X.length}),X.map((function(e){var n=e.user;return n?(0,o.tZ)(It.Z,{canEditMultiplayers:!1,isPendingInvitation:!1,user:n,replId:a},n.id):null}))]}):null,F||c?null:(0,o.tZ)(d.xv,{color:"dimmer",variant:"small",children:"Only admins can add and remove members to multiplayer"})]})]})}var Ft=(0,a.iv)([u.l0.flex.column,u.l0.py(16),u.l0.borderRadius(8),u.l0.align.stretch,u.l0.flex.growAndShrink(1),u.l0.maxHeight("calc(100vh - ".concat(S.Mz+12,"px)")),u.l0.backgroundColor.backgroundDefault]),Nt=function(e){var n=e.replId,t=e.handleUpgradeTriggered,r=e.isTeamRepl;return(0,o.BX)(p.G,{css:Ft,children:[r?(0,o.tZ)(At,{replId:n}):(0,o.tZ)(Rt.ZP,{replId:n,handleUpgradeTriggered:t}),(0,o.tZ)(St.Z,{replId:n})]})},Ot=t(79151),Ht=t(14781);function qt(){var e=(0,ce.Z)(["\n  mutation ReplEnvironmentHeaderSubmitRepl($replId: String!) {\n    submitRepl(replId: $replId) {\n      ... on Repl {\n        id\n        workspaceCta\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return qt=function(){return e},e}function $t(){var e=(0,ce.Z)(["\n  query ReplEnvironmentHeaderSubmitReplDueDate($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        template {\n          id\n          dueDate\n        }\n      }\n    }\n  }\n"]);return $t=function(){return e},e}var Yt={},Kt=(0,ue.Ps)(qt());var Qt=(0,ue.Ps)($t());var Jt=t(60470),er=t(75916);function nr(e){var n,t=e.replId,r=e.onDone,i=e.isResubmit,a=e.lastUpdated,l=e.openIOtesterPane,s=(0,_.Z)().iotester,c=(0,Jt.CH)({variables:{replId:t}}),f=s.lastRunAt.getTime()>a,h=function(e){var n=(0,se.Z)({},Yt,e);return de.a(Qt,n)}({variables:{replId:t}}).data,m="Repl"===(null===h||void 0===h?void 0:h.repl.__typename)?h.repl:null,v=(null===m||void 0===m?void 0:m.template)||null,g=(null===v||void 0===v?void 0:v.dueDate)||null,Z=(new Date).toISOString(),b=(0,it.Z)(),x=b.showConfirm,y=b.showError,w=(0,L.Z)(function(e){var n=(0,se.Z)({},Yt,e);return ge.D(Kt,n)}({variables:{replId:t},onCompleted:function(e){var n=e.submitRepl;"UserError"!==n.__typename?"Repl"===n.__typename&&(x("Repl submitted"),r()):y(n.message)},onError:function(e){y(e.message)}}),2),C=w[0],k=w[1],S=f&&s.lastRunDidPass;return"Repl"===(null===(n=c.data)||void 0===n?void 0:n.repl.__typename)&&c.data.repl.ioTests.length>0&&!S?(0,o.BX)(p.G,{css:[u.l0.colWithGap(24)],children:[(0,o.tZ)(d.h4,{variant:"headerDefault",level:2,children:f?"Fix test failures before submitting":"Run tests before submitting"}),(0,o.tZ)(d.xv,{multiline:!0,children:f?"Input/Output tests did not pass.":"Input/Output tests have not been run since this Repl was last changed."}),(0,o.BX)(p.G,{css:[u.l0.rowWithGap(12),u.l0.justify.end],children:[(0,o.tZ)(en.zx,{disabled:k.loading,colorway:"primary",onClick:function(){l(),r()},text:"View tests"}),(0,o.tZ)(en.zx,{disabled:k.loading,onClick:function(){return C()},iconLeft:(0,o.tZ)(er.Z,{}),text:"Submit anyway"})]})]}):(0,o.BX)(p.G,{css:[u.l0.colWithGap(24)],children:[(0,o.tZ)(d.h4,{variant:"headerDefault",level:2,children:i?" Resubmit Repl":"Submit Repl"}),(0,o.tZ)(d.xv,{multiline:!0,children:i?"This will re-notify Team admins about your submission.":"This will submit your Repl for review and notify the Team's admins."}),g&&g<Z?(0,o.tZ)(d.xv,{multiline:!0,css:[u.l0.color.accentNegativeStronger],children:"Note: Your submission is past the due date and will be marked late."}):null,(0,o.BX)(p.G,{css:[u.l0.rowWithGap(12),u.l0.justify.end],children:[(0,o.tZ)(en.zx,{disabled:k.loading,onClick:r,text:"Cancel"}),(0,o.tZ)(en.zx,{colorway:"primary",disabled:k.loading,onClick:function(){return C()},iconLeft:(0,o.tZ)(er.Z,{}),text:i?"Submit again":"Submit"})]})]})}var tr=t(37248),rr=t(7579),ir=t(68429);function or(){var e=(0,ce.Z)(["\n  query UpdateModelSolutionModal($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        owner {\n          ... on Team {\n            id\n          }\n          ... on User {\n            id\n          }\n        }\n        origin {\n          id\n          ...TeamProfileRepl\n          template {\n            id\n            dueDate\n          }\n          unitTests {\n            tests {\n              id\n            }\n          }\n          ioTests {\n            id\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return or=function(){return e},e}function ar(){var e=(0,ce.Z)(["\n  mutation UpdateModelSolution($input: UpdateReplTemplateModelSolutionInput!) {\n    updateReplTemplateModelSolution(input: $input) {\n      ... on Repl {\n        id\n        ...TeamProfileRepl\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return ar=function(){return e},e}var lr={},sr=(0,ue.Ps)(or(),ir.vs);var cr=(0,ue.Ps)(ar(),ir.vs);var ur,dr=t(40396),pr=t(65001),fr=t(66466),hr=function(e){var n,t,r,i,a,l,s,c,f,m=e.replId,v=e.onDone,g=(0,it.Z)(),Z=g.showConfirm,b=g.showError,x=function(e){var n=(0,se.Z)({},lr,e);return de.a(sr,n)}({variables:{replId:m},onCompleted:function(e){var n,t,r=e.repl;"Repl"===r.__typename&&(null===(n=r.origin)||void 0===n||null===(t=n.template)||void 0===t?void 0:t.modelSolution)&&"ReplTemplateModelSolution"===r.origin.template.modelSolution.__typename&&(T(r.origin.template.modelSolution.visibleAfterSubmitting),G(r.origin.template.modelSolution.visibleAfterPassingTests),P(r.origin.template.modelSolution.visibleAfterDueDate))}}),y=x.data,w=x.loading,C=(0,L.Z)(function(e){var n=(0,se.Z)({},lr,e);return ge.D(cr,n)}({onError:function(e){return b(e.message)},onCompleted:function(){Z("Updated solution"),v()}}),2),k=C[0],S=C[1],R=(0,L.Z)(h.useState(!1),2),I=R[0],T=R[1],B=(0,L.Z)(h.useState(!1),2),E=B[0],G=B[1],M=(0,L.Z)(h.useState(!1),2),D=M[0],P=M[1],j=(0,L.Z)(h.useState(),2),_=j[0],U=j[1],X=(0,rr.H)();if(h.useEffect((function(){var e="Students can ";if(I||D||E){e+="view the solution after";var n=[];I&&n.push("submitting their project"),E&&n.push("passing all tests"),D&&n.push("the due date has passed");for(var t=0;t<n.length;t++)t>0&&(e+=",",t===n.length-1&&(e+=" and")),e+=" "+n[t];e+="."}else e+="never view the solution.";U(e)}),[I,E,D]),w)return(0,o.tZ)(p.G,{css:[u.l0.center],children:(0,o.tZ)(vn.Z,{})});var V="Repl"===(null===y||void 0===y?void 0:y.repl.__typename)&&"Team"===(null===(n=y.repl.owner)||void 0===n?void 0:n.__typename)&&(null===(t=y.repl.owner)||void 0===t?void 0:t.id),z="Repl"===(null===y||void 0===y?void 0:y.repl.__typename)&&(null===(r=y.repl.origin)||void 0===r||null===(i=r.template)||void 0===i?void 0:i.modelSolution);if(!z)return null;var W=z.id,A="Repl"===(null===y||void 0===y?void 0:y.repl.__typename)&&((null===(a=y.repl.origin)||void 0===a?void 0:a.ioTests.length)||(null===(l=y.repl.origin)||void 0===l||null===(s=l.unitTests)||void 0===s?void 0:s.tests.length)),F="Repl"===(null===y||void 0===y?void 0:y.repl.__typename)&&(null===(c=y.repl.origin)||void 0===c||null===(f=c.template)||void 0===f?void 0:f.dueDate);return(0,o.tZ)("form",{onSubmit:function(e){e.preventDefault(),V&&W&&k({variables:{input:{teamId:V,solutionId:W,visibleAfterSubmitting:I,visibleAfterPassingTests:E,visibleAfterDueDate:D}}})},children:(0,o.BX)(p.G,{css:[u.l0.colWithGap(24)],children:[(0,o.tZ)(d.h4,{level:1,variant:"headerDefault",children:"Update solution"}),(0,o.BX)(p.G,{css:[u.l0.colWithGap(16)],children:[(0,o.BX)(p.G,{css:[u.l0.rowWithGap(8)],children:[(0,o.tZ)(fr.X,{id:X("availableAfterSubmitting"),checked:I,onChange:function(){return T(!I)}}),(0,o.tZ)("label",{htmlFor:X("availableAfterSubmitting"),children:(0,o.tZ)(d.xv,{children:"Available after submitting"})})]}),(0,o.BX)(p.G,{css:[u.l0.rowWithGap(8)],children:[(0,o.tZ)(fr.X,{id:X("availableAfterPassingTests"),checked:E,onChange:function(){return G(!E)}}),(0,o.tZ)("label",{htmlFor:X("availableAfterPassingTests"),children:(0,o.BX)(p.G,{css:[u.l0.rowWithGap(4)],children:[(0,o.tZ)(d.xv,{children:"Available after passing tests"}),(0,o.BX)(d.xv,{children:["(",A?"".concat(A," ").concat((0,gt.Z)("test",A)," defined"):"no tests exist yet",")"]})]})})]}),(0,o.BX)(p.G,{css:[u.l0.rowWithGap(8),{verticalAlign:"baseline"}],children:[(0,o.tZ)(fr.X,{id:X("availableAfterDueDate"),checked:D,onChange:function(){return P(!D)}}),(0,o.tZ)("label",{htmlFor:X("availableAfterDueDate"),children:(0,o.BX)(p.G,{css:[u.l0.rowWithGap(4)],children:[(0,o.tZ)(d.xv,{children:"Available after due date"}),(0,o.BX)(d.xv,{css:{textDecoration:"italic"},children:["(",F?(0,dr.p)(F):"no due date set yet",")"]})]})})]})]}),(0,o.tZ)(pr.E,{text:"".concat(_),colorway:I||E||D?"positive":"negative"}),(0,o.tZ)(p.G,{css:{alignItems:"end"},children:(0,o.tZ)(en.zx,{type:"submit",stretch:!1,colorway:"primary",text:"".concat(S.loading?"Saving...":"Save"),iconLeft:(0,o.tZ)(er.Z,{}),disabled:S.loading})})]})})},mr=(ur={},(0,ae.Z)(ur,le.Sy.PublishTemplate,"Publish project"),(0,ae.Z)(ur,le.Sy.EditTemplate,"Edit project"),(0,ae.Z)(ur,le.Sy.Submit,"Submit"),(0,ae.Z)(ur,le.Sy.Resubmit,"Resubmit"),(0,ae.Z)(ur,le.Sy.UpdateModelSolution,"Update solution"),ur);function vr(e){var n=e.cta,t=e.replId,r=e.isGroupProject,i=e.openIOtesterPane,a=(0,L.Z)(h.useState(null),2),l=a[0],s=a[1],c=function(){return s(null)},u=(0,W.R3)(),d=(0,_.Z)().fs,p=(0,L.Z)(h.useState(0),2),f=p[0],m=p[1];h.useEffect((function(){if(u&&!(0,tr.T3)(u)&&!(0,tr.sL)(u)){var e=d.watchTextFile(u,{onChange:function(e){e.changeSource===T.Fl.Local&&m(Date.now())}});return e}}),[u,d,m]);var v=Boolean(l&&[le.Sy.PublishTemplate,le.Sy.EditTemplate].includes(l));return h.useEffect((function(){n===le.Sy.ReviewSubmission&&(Ot.Z.get("annotations/educationModalDismissed")||(s(n),Ot.Z.set("annotations/educationModalDismissed",!0)))}),[n]),(0,o.BX)(o.HY,{children:[mr[n]&&(0,o.tZ)(en.zx,{onClick:function(){return s(n)},text:mr[n],iconLeft:(0,o.tZ)(er.Z,{})}),(0,o.tZ)(on.u,{isOpen:l===le.Sy.Submit||l===le.Sy.Resubmit,onRequestClose:c,maxWidth:512,children:(0,o.tZ)(nr,{replId:t,onDone:c,isResubmit:l===le.Sy.Resubmit,lastUpdated:f,openIOtesterPane:i})}),(0,o.tZ)(on.u,{preventClose:!0,isOpen:v,onRequestClose:c,maxWidth:r?900:550,children:(0,o.tZ)(Ht.Z,{replId:t,onDone:c})}),(0,o.tZ)(on.u,{isOpen:l===le.Sy.UpdateModelSolution,onRequestClose:c,maxWidth:600,children:(0,o.tZ)(hr,{replId:t,onDone:c})})]})}var gr=t(81962),Zr=t(36730),br=t(34152),xr=t(92003),yr=t(97395),wr=(0,Zr.cn)(!1);var Cr=(0,Zr.cn)(null,(function(e,n,t){if(e(wr))return n(Lr,null),void n(wr,!1);t&&n(Lr,t),n(wr,!0)}));function kr(){return(0,br.b9)(Cr)}var Lr=(0,Zr.cn)(null),Sr=(0,Zr.cn)([]);function Rr(){return(0,br.b9)(Sr)}function Ir(){var e=ne(),n=function(){var e=(0,xr.gf)("toggleGlobalCommandBarCommand");return(0,j.Z)((function(){return{type:"context",icon:(0,o.tZ)(yr.Z,{}),label:"",description:"Type a command...",keyboardShortcut:e}}),[e])}(),t=ee();return(0,j.Z)((function(){return(0,Zr.cn)((function(r){var i=r(Sr),a={data:{type:"context",label:"Tools",icon:(0,o.tZ)(F.Z,{})},commands:function(){return e}};return{data:n,commands:function(){return(0,D.Z)(i).concat((0,D.Z)(t),[a])}}}))}),[e,n,t])}var Tr=t(47308),Br={id:"toggleGlobalCommandBarCommand",name:"Toggle Commandbar",description:"Opens or closes the command bar",default:(0,Tr.l2)({cmdOrCtrl:!0,key:"k"})};function Er(e){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{enabled:!0}).enabled,t=Rr();(0,h.useEffect)((function(){if(n)return t((function(n){return(0,D.Z)(n).concat([e])})),function(){t((function(n){return n.filter((function(n){return n!==e}))}))}}),[t,e,n])}function Gr(){var e=(0,br.Dv)(wr),n=kr(),t=function(){var e=Ir(),n=(0,j.Z)((function(){return(0,Zr.cn)((function(n){var t=n(e),r=n(Lr);return r?[t,r]:t}))}),[e]);return(0,br.Dv)(n)}(),r=(0,z.cT)(),i=(0,xr.gf)(Br.id);return(0,o.tZ)(on.u,{hideCloseButton:!0,isOpen:e,onRequestClose:n,noPadding:!0,children:(0,o.tZ)(Je.T,{css:[u.l0.maxHeight("70vh"),u.l0.borderRadius(8)],children:(0,o.tZ)(M.X,{keyboardShortcut:i,onSelect:function(e){(0,gr.Z)(document.activeElement,HTMLElement)&&document.activeElement.blur(),"openPane"===e.data.type&&((0,x.j)(x.U3.TOOL_OPENED,{source:"Command Bar",tool:e.data.pane.type}),r({pane:e.data.pane})),n()},onAction:function(){return n()},command:t,autoFocus:!0})})})}var Mr=(0,h.memo)(Gr),Dr=t(53088),Pr=t(79948),jr=t(47409),_r=t(65477),Ur=t(28402),Xr=t(24180),Vr=t(78322),zr=t(34733),Wr=t(46900),Ar=t(2884),Fr=t(37195),Nr=t(36584),Or=t(6773),Hr="https://linkedin.com/sharing/share-offsite";var qr="https://www.facebook.com/dialog/share?display=page&app_id=1775481339348651";var $r=function(e){var n=e.lessonSlug,t=e.courseSlug,r=(0,it.Z)().showConfirm;if(!n||!t)return null;var i=(0,zr.QW)(t),a=(0,zr.qv)(t,n);if(!a)return null;var l=a.ordinalLabel,s=(0,zr.tD)(i.socialSharingText,a),c="".concat(s," ").concat(i.sharableLink),f=(0,Ur.Z)({text:s,url:i.sharableLink}),h=function(e){var n=e.url;return"".concat(Hr,"?url=").concat(encodeURIComponent(n))}({url:i.sharableLink}),m=function(e){var n=e.url,t=e.hashtag,r=e.redirectBackTo,i=new URLSearchParams;i.append("href",n),r&&i.append("redirect_uri",r),t&&(t.startsWith("#")||(t="#".concat(t)),i.append("hashtag",t));var o=i.toString();return"".concat(qr,"&").concat(o)}({url:i.sharableLink,hashtag:i.socialHashtag}),v=[{url:f,icon:Xr.Z,base:Ur.c,cta:"Share on Twitter",color:Vr.Z.brands.twitter},{url:h,icon:Or.Z,base:Hr,cta:"",color:Vr.Z.brands.linkedin},{url:m,icon:Nr.Z,base:qr,cta:"",color:Vr.Z.brands.facebook}];return(0,o.BX)(p.G,{children:[(0,o.BX)(p.G,{css:[u.l0.rowWithGap(16),u.l0.align.center,u.l0.pr(24)],children:[(0,o.tZ)(p.G,{css:{fontSize:48},children:"\ud83e\udd73"}),(0,o.BX)(d.xv,{variant:"headerDefault",children:["Congrats on completing ",l,"!"]})]}),(0,o.tZ)(d.xv,{variant:"subheadDefault",css:[u.l0.py(12)],children:"Share your progress"}),(0,o.BX)(p.G,{css:[u.l0.position.relative,u.l0.borderRadius(8),u.l0.backgroundColor.backgroundHigher,u.l0.py(8),u.l0.px(12)],children:[(0,o.tZ)(p.G,{css:u.l0.pr(16),children:c}),(0,o.tZ)(nn.h,{css:[u.l0.position.absolute,u.l0.top(8),u.l0.right(8)],alt:"Copy",size:18,tooltipHidden:!0,onClick:function(){r("Copied to clipboard!"),(0,Fr.Z)(c),(0,_r.l)({action:"copied_share_text",lessonSlug:n,courseSlug:t,origin:"lesson_complete_modal"})},children:(0,o.tZ)(Ar.Z,{size:16})})]}),(0,o.BX)(p.G,{css:[u.l0.rowWithGap(16),u.l0.justify.center,u.l0.pt(16),u.l0.align.center],children:[(0,o.tZ)(Wr.Z,{outlined:!0,text:"Back to the learning hub",href:"/learn/".concat(t,"/hub")}),(0,o.tZ)(p.G,{css:[u.l0.rowWithGap(8),u.l0.align.center],children:v.map((function(e){var r=e.url,i=e.icon,a=e.base,l=e.cta,s=e.color;return(0,o.tZ)(en.zx,{css:[{backgroundColor:s,color:"white"}],onClick:function(){window.open(r,"_blank"),(0,x.j)(x.U3.EXTERNAL_LINK_VIEWED,{url:a,placement:"lesson-complete-modal",campaign:t,lessonSlug:n})},text:l,iconLeft:(0,o.tZ)(i,{})},r)}))})]})]})},Yr=function(e){var n=e.lesson,t=(0,it.Z)().showError,r=(0,Pr.$0)().fireCircularBurstFrom,i=(0,h.useRef)(null),a=(0,Dr.T)(),l=(0,h.useState)(!1),s=l[0],c=l[1],u=(0,L.Z)(function(e){var n=(0,se.Z)({},xe,e);return ge.D(we,n)}({onError:function(){return t("Something went wrong")},onCompleted:function(e){var o,l;"UpdatedUserCourseLesson"!==(null===(o=e.completeUserCourseLesson)||void 0===o?void 0:o.__typename)?t((null===(l=e.completeUserCourseLesson)||void 0===l?void 0:l.message)||"Something went wrong"):e.completeUserCourseLesson.userCourseLesson.id===n.id?(i.current&&!a&&r({element:i.current}),c(!0)):t("Something went wrong")}}),2),d=u[0],p=u[1].loading;return(0,o.BX)(o.HY,{children:[null!==n.timeCompleted?(0,o.tZ)(en.zx,{ref:i,disabled:!0,text:"Lesson completed \ud83c\udf89",colorway:"primary"}):(0,o.tZ)(en.zx,{iconLeft:p?(0,o.tZ)(vn.Z,{}):void 0,onClick:function(){(0,_r.l)({action:"completed",lessonSlug:n.lessonSlug,courseSlug:n.course.courseSlug}),d({variables:{input:{userLessonId:n.id}}})},text:p?"Verifying\u2026":"Mark lesson as complete",colorway:"primary",css:[p&&jr.p.backgroundPulse()]}),(0,o.tZ)(on.u,{isOpen:s,onRequestClose:function(){return c(!1)},children:(0,o.tZ)($r,{lessonSlug:n.lessonSlug,courseSlug:n.course.courseSlug})})]})},Kr=t(67044);function Qr(e){var n=e.lesson,t=(0,z.Un)(),r=(0,z.$x)();return t?(0,o.tZ)(Yr,{lesson:n}):(0,o.tZ)(en.zx,{colorway:"primary",iconLeft:(0,o.tZ)(Kr.Z,{}),text:"Show tutorial",onClick:function(){return r()}})}var Jr=t(62171),ei=t(87980),ni=t(49615),ti=(0,G.X)({popover:[u.l0.maxWidth(460),u.l0.width("100%")],button:[u.l0.flex.growAndShrink(1),u.l0.align.center,u.l0.cursor.pointer,u.l0.rowWithGap(8),u.l0.p(4),u.l0.borderRadius(8),u.l0.color.foregroundDefault,tn.gU.nofill]});function ri(e){var n=e.repl,t=e.onDeployClick,r=(0,L.Z)(h.useState(!1),2),i=r[0],a=r[1];return(0,o.BX)(yt.x,{isOpen:i,onOpenChange:a,placement:"bottom start",label:"Repl info",noArrow:!0,css:ti.popover,children:[(0,o.BX)(p.K.button,{dataCy:"ws-repl-info-container",css:ti.button,children:[(0,o.tZ)(ei.Z,{repl:n}),(0,o.tZ)(ni.Z,{color:u.TV.foregroundDimmest,size:12})]}),(0,o.tZ)(Jr.Z,{setIsEditing:a,onDeployClick:t})]})}var ii=t(99076),oi=t(77637),ai=t(221),li=t(22269),si=t(36410),ci=t(55047),ui=t(56820),di=t(25147),pi=t(58364),fi=t(27396),hi=t(99214),mi=t.n(hi),vi=t(61382),gi=t(60153);function Zi(){var e=(0,ce.Z)(["\n  fragment ReplEnvironmentNavMenuCurrentUser on CurrentUser {\n    id\n    ...LayoutSidebarCurrentUser\n  }\n  ","\n"]);return Zi=function(){return e},e}function bi(){var e=(0,ce.Z)(["\n  query ReplEnvironmentNavMenu {\n    currentUser {\n      id\n      ...ReplEnvironmentNavMenuCurrentUser\n    }\n  }\n  ","\n"]);return bi=function(){return e},e}var xi={},yi=(0,ue.Ps)(Zi(),gi.d),wi=(0,ue.Ps)(bi(),yi);var Ci=function(e){(0,x.j)(vi.U3.NAV_ITEM_CLICK,{target:e,source:"header-nav-menu"})},ki={button:(0,a.iv)([u.l0.py(4),u.l0.viewStyle,u.l0.reset.button,u.l0.rowWithGap(2),u.l0.align.center,u.l0.color.foregroundDefault,u.l0.cursor.pointer,u.l0.borderRadius(8),{":hover svg":{fill:u.TV.foregroundDefault},"&:focus-visible":{boxShadow:"0 0 0 2px ".concat(u.TV.accentPrimaryDefault)}}]),surface:(0,a.iv)([u.l0.borderRadius(8),u.l0.width(200),u.l0.maxHeight("80vh"),u.l0.maxWidth("80vw"),u.l0.overflowY("auto")]),ctas:(0,a.iv)([u.l0.colWithGap(8),u.l0.p(8),{borderBottom:"1px solid",borderColor:u.TV.outlineDimmer}]),link:(0,a.iv)([u.l0.viewStyle,u.l0.rowWithGap(4),u.l0.color.foregroundDefault,u.l0.p(8),u.l0.align.center,tn.gU.listItem,{":active":{backgroundColor:"".concat(u.TV.backgroundHighest," !important")}}]),linkText:(0,a.iv)(u.l0.flex.shrink(1))},Li=(0,a.iv)([tn.gU.nofill,{borderRadius:"0 0 10.5px 10.5px",borderTop:"1px solid ".concat(u.TV.outlineDimmer)}]);function Si(){var e,n=(0,di.Z)(f.y.GlobalNavButton),t=function(e){var n=(0,se.Z)({},xi,e);return de.a(wi,n)}().data,r=(0,ai.N)({currentUser:(null===t||void 0===t?void 0:t.currentUser)||void 0}),i=(0,h.useState)(!1),a=i[0],l=i[1],s=(0,h.useState)(null),c=s[0],m=s[1];return(0,o.BX)(o.HY,{children:[(0,o.BX)(yt.x,{isOpen:a,onOpenChange:l,placement:"bottom start",label:"Site Navigation",noArrow:!0,children:[function(e){var t=e.ref,r=(0,oi.Z)(e,["ref"]);return(0,o.tZ)("div",{ref:n,children:(0,o.BX)("button",(0,un.Z)((0,se.Z)({ref:t},r),{onClick:function(){return l(!a)},css:ki.button,"data-cy":"global-nav-dropdown-btn",children:[(0,o.tZ)(si.N2,{color:u.TV.foregroundDefault,size:20}),(0,o.tZ)(ni.Z,{color:u.TV.foregroundDimmest,size:12})]}))})},(0,o.BX)(Je.T,{elevated:!0,css:ki.surface,background:"higher",children:[(0,o.BX)(p.G,{css:ki.ctas,children:[(0,o.tZ)(en.zx,{"data-cy":"global-nav-dropdown-new-repl-btn",text:"Create",iconLeft:(0,o.tZ)($.Z,{}),colorway:"primary",onClick:function(){l(!1),m("create")}}),(null===t||void 0===t||null===(e=t.currentUser)||void 0===e?void 0:e.userSubscriptionType)!==le.HP.HackerPro?(0,o.tZ)(en.zx,{text:"Upgrade",iconLeft:(0,o.tZ)(pi.Z,{}),outlined:!0,onClick:function(){l(!1),m("upgrade")}}):null]}),(0,o.tZ)(p.G,{children:r.map((function(e){return(0,o.tZ)(mi(),{passHref:!0,as:e.as,href:e.href,prefetch:!1,children:(0,o.BX)("a",{css:ki.link,onClick:function(){Ci(e.label)},onKeyDown:function(){Ci(e.label)},role:"menuitem",tabIndex:0,children:[e.icon,(0,o.tZ)(d.xv,{css:ki.linkText,children:e.label}),e.tag||null]})},e.label)}))}),(0,o.tZ)(ci.Z,{css:Li,context:ui.HY.Workspace})]})]}),(0,o.tZ)(fi.Z,{initialTab:"default",isOpen:"upgrade"===c,onRequestClose:function(){return m(null)},context:"workspace_menu_nav"}),(0,o.tZ)(on.u,{isOpen:"create"===c,onRequestClose:function(){return m(null)},children:(0,o.tZ)(li.Z,{})})]})}var Ri=t(42533),Ii=t(30826),Ti=t.n(Ii);function Bi(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,r=e.pageX,i=e.pageY,o={x:r,y:i},a={x:0,y:0};n.start&&n.start({mouse:o,shiftKey:e.shiftKey});var l=Ti()((function(e){var t={x:e.pageX,y:e.pageY};a={x:t.x-o.x,y:t.y-o.y},n.move({delta:a,shiftKey:e.shiftKey,mouse:t})}),t),s=function(){l.cancel(),document.removeEventListener("pointermove",l),document.removeEventListener("pointerup",s),document.removeEventListener("touchcancel",s),n.end&&n.end({delta:a,shiftKey:e.shiftKey})};document.addEventListener("pointermove",l),document.addEventListener("pointerup",s),document.addEventListener("touchcancel",s)}var Ei=t(71573),Gi=t(78457),Mi=t(62223),Di=t(40502),Pi=function(e){var n,t,r;return n=100/e*1,t=.08,r=.12,Math.min(Math.max(n,t),r)},ji=(0,Di.$)(["transformX","transformY","hoverScaleX","hoverScaleY","width","height","zIndex","cursor","gripVisibility","gripColor","gripWidth","gripHeight","transitionDuration","rotation"]),_i=ji.cssVars,Ui=ji.styleTokens,Xi=(0,G.X)({root:[u.l0.center,u.l0.position.absolute,u.l0.top(0),u.l0.left(0),{transform:"translate(".concat(Ui.transformX,", ").concat(Ui.transformY,")"),width:Ui.width,height:Ui.height,cursor:Ui.cursor,zIndex:Ui.zIndex,"&:hover":{zIndex:z.MI.gutterHovered},"& .icon":{transform:"rotate(".concat(Ui.rotation,")")},"&:hover .blanket":{transform:"scale(".concat(Ui.hoverScaleX,", ").concat(Ui.hoverScaleY,")")},"&:active .blanket":[u.l0.height("200vh"),u.l0.width("200vw"),{transform:"translate(-50%, -50%)"}],"&:not(:active):hover > .grip":(0,ae.Z)({},_i.gripColor,u.TV.foregroundDefault)}],blanket:u.l0.coverContainer,grip:[u.l0.borderRadius(4),{width:Ui.gripWidth,height:Ui.gripHeight,visibility:Ui.gripVisibility,backgroundColor:Ui.gripColor,transitionProperty:"opacity, width, height, background-color",transitionTimingFunction:"ease-out"}]});function Vi(e){var n=(0,h.useRef)(null),t=(0,Dr.T)();(0,Ei.jv)(n,e.size,(function(e){var n,t=e.width,r=e.height;return n={},(0,ae.Z)(n,_i.width,t+"px"),(0,ae.Z)(n,_i.height,r+"px"),n})),(0,Ei.jv)(n,e.position,(function(e){var n,t=e.x,r=e.y;return n={},(0,ae.Z)(n,_i.transformX,Math.round(t)+"px"),(0,ae.Z)(n,_i.transformY,Math.round(r)+"px"),n})),(0,Ei.jv)(n,e.rotation,(function(e){return(0,ae.Z)({},_i.rotation,e+"deg")})),(0,Ei.jv)(n,e.gripIsHidden,(function(e){return(0,ae.Z)({},_i.gripVisibility,e?"hidden":"visible")})),(0,Ei.jv)(n,e.length,(function(e){return(0,ae.Z)({},_i.transitionDuration,(t?0:Pi(e))+"ms")}));var r=!!/iPad|iPhone|iPod/.test(navigator.platform)||navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform)?12:4;return(0,Ei.jv)(n,e.isStacked,(function(e){var n;return n={},(0,ae.Z)(n,_i.cursor,e?"row-resize":"col-resize"),(0,ae.Z)(n,_i.hoverScaleX,(e?1:r).toString()),(0,ae.Z)(n,_i.hoverScaleY,(e?r:1).toString()),n})),(0,Ei.jv)(n,e.isActive,(function(e){var n;return n={},(0,ae.Z)(n,_i.gripColor,e?u.TV.accentPrimaryDefault:u.TV.outlineDimmest),(0,ae.Z)(n,_i.zIndex,(e?z.MI.gutterActive:z.MI.gutter).toString()),n})),(0,Ei.jv)(n,e.gripSize,(function(e){var n,t=e.width,r=e.height;return n={},(0,ae.Z)(n,_i.gripWidth,t+"px"),(0,ae.Z)(n,_i.gripHeight,r+"px"),n})),n}var zi=(0,h.memo)((function(e){var n=e.handleId,t=(0,z.k)(n),r=Vi(t),i=(0,z.Av)(),a=(0,z.MG)(),l=h.useRef(null),s=(0,Gi.Z)(t.isSnapped);return(0,o.BX)(p.G,{innerRef:r,css:Xi.root,onDoubleClick:function(){a(t.handle.current)},onPointerDown:function(e){Bi(e,{start:function(){var e=t.handle.current;l.current=document.activeElement,i({type:"start",leftPath:e.leftPath,stacked:e.stacked})},move:function(e){var n=e.delta;i({type:"update",moveDelta:n})},end:function(){var e,n;i({type:"end"}),null===(e=l.current)||void 0===e||null===(n=e.focus)||void 0===n||n.call(e)}})},onContextMenu:function(e){e.preventDefault(),e.stopPropagation()},children:[(0,o.tZ)(p.G,{className:"blanket",css:Xi.blanket}),s?(0,o.tZ)(Mi.Z,{className:"icon"}):(0,o.tZ)(p.G,{className:"grip",css:Xi.grip})]})})),Wi=(0,h.memo)((function(){var e=Vi((0,z.$P)()),n=(0,z.TN)(),t=(0,z.Ap)().toggle,r=h.useRef(null);return(0,o.BX)(p.G,{innerRef:e,css:Xi.root,onDoubleClick:function(){t()},onPointerDown:function(e){Bi(e,{start:function(){r.current=document.activeElement,n.start()},move:function(e){var t=e.delta;n.update({deltaX:t.x})},end:function(){var e,t;n.end(),null===(e=r.current)||void 0===e||null===(t=e.focus)||void 0===t||t.call(e)}})},onContextMenu:function(e){e.preventDefault(),e.stopPropagation()},children:[(0,o.tZ)(p.G,{className:"blanket",css:Xi.blanket}),(0,o.tZ)(p.G,{className:"grip",css:Xi.grip})]})})),Ai=t(76530),Fi=t(84445),Ni=t(49773),Oi=t(97279),Hi=t(31558);function qi(){var e=(0,ce.Z)(["\n  query WorkspaceHeaderUsersOnline($ids: [Int!]!) {\n    currentUser {\n      id\n    }\n    usersByIds(ids: $ids) {\n      id\n      username\n      image\n    }\n  }\n"]);return qi=function(){return e},e}var $i={},Yi=(0,ue.Ps)(qi());var Ki=t(88024),Qi=t(14948);function Ji(){var e=(0,_.Z)().presence,n=Sn(),t=(0,Ln.Z)({presence:e}),a=(0,L.Z)(function(e){var n=(0,se.Z)({},$i,e);return Hi.t(Yi,n)}(),1)[0];return(0,j.Z)((function(){return{data:{type:"context",label:"Multiplayers",icon:(0,o.tZ)(Vt.Z,{})},commands:(0,r.Z)((function(){var e,r,l,s,c;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return t.length?[4,a({variables:{ids:t.map((function(e){return e.id})).slice(0,Qi.I)}})]:[2,[]];case 1:return(e=i.sent().data)?(r=t.reduce((function(e,n){return e[n.id]=n.color,e}),{}),l=e.currentUser,s=e.usersByIds.filter((function(e){return e.id!==(null===l||void 0===l?void 0:l.id)})),c=s.map((function(e){return{match:U.pl,data:{type:"action",label:e.username,icon:(0,o.tZ)(p.G,{style:{border:"2px solid",borderColor:r[e.id],borderRadius:"50%"},children:(0,o.tZ)(Ki.Z,{size:16,src:e.image,alt:e.username})}),run:function(){return n({username:e.username,id:e.id})}}}})),t.length>Qi.I&&c.push({match:U.pl,data:{type:"action",label:"+".concat(t.length-Qi.I," more"),icon:(0,o.tZ)(Vt.Z,{}),run:function(){}}}),[2,c]):[2,[]]}}))}))}}),[t,n,a])}var eo={type:"context",icon:(0,o.tZ)(O.Z,{}),label:"",description:"Search"};var no=(0,a.iv)([u.l0.top(0),u.l0.left(0),u.l0.width("100%"),u.l0.zIndex(3),{"& > div:first-of-type > div:first-of-type":[u.l0.pl(0),u.l0.pr(0),u.l0.pt(0)]},{'& [role="listbox"]':[u.l0.pl(8),u.l0.position.absolute,u.l0.top(40),u.l0.height("calc(100% - ".concat(40,"px)")),u.l0.left(0),u.l0.width("100%"),u.l0.zIndex(3),u.l0.backgroundColor.backgroundRoot]},{'& [role="option"] > div':[u.l0.borderRadius(8)]}]);function to(){var e=function(){var e=(0,_.Z)().fs,n=(0,W.AA)(),t=(0,A.T)(),r=(0,z.CA)(),i=J(r),a=ne(),l=Ji(),s=q();return(0,j.Z)((function(){var c={data:{type:"context",label:"Tools",icon:(0,o.tZ)(F.Z,{})},commands:function(){return a}},u=(0,X.i)({openFile:r,fs:e,shouldHideFile:t,getRecentFiles:n,lazyLoad:!0});return u.match=void 0,{data:eo,commands:function(){return[i,u,c,l,s]}}}),[e,a,i,t,r,n,l,s])}(),n=(0,z.cT)();return(0,o.tZ)(p.G,{css:no,children:(0,o.tZ)(M.X,{onSelect:function(e){if("openPane"===e.data.type){var t=e.data.pane;return(0,x.j)(x.U3.TOOL_OPENED,{source:"Sidebar Search",tool:t.type}),void n({pane:t})}},command:e,openOnInput:!0})})}var ro=(0,h.createContext)(null);function io(){var e=(0,h.useContext)(ro);if(!e)throw new Error("Expected ref");return e}var oo=t(84376),ao=t(92153),lo=t(81202),so=t.n(lo),co=(0,h.createContext)(void 0);function uo(){var e=(0,h.useContext)(co);if(!e)throw new Error("Expected store in context");return e}function po(e){var n=uo();return(0,br.Dv)(e,{store:n})}var fo=function(e){var n=uo();return(0,br.b9)(e,{store:n})};function ho(e){var n=(0,h.useState)((function(){return(0,Zr.MT)()}))[0];return(0,o.tZ)(co.Provider,{value:n,children:e.children})}function mo(e){var n=e.sections,t=e.id,r=n.findIndex((function(e){return e.id===t}));if(-1===r)throw new Error("");var i=n[r],o=i.height;i.height=0;var a=n.slice(r),l=n.slice(0,r).reverse(),s=!0,c=!1,u=void 0;try{for(var d,p=(0,D.Z)(a).concat((0,D.Z)(l))[Symbol.iterator]();!(s=(d=p.next()).done);s=!0){var f=d.value;if(0!==f.height)return void(f.height+=o)}}catch(h){c=!0,u=h}finally{try{s||null==p.return||p.return()}finally{if(c)throw u}}}var vo=t(10161),go=t(29524),Zo=40,bo=(0,Zr.cn)({}),xo=(0,Zr.cn)(null,(function(e,n,t){n(bo,(function(e){return(0,ao.ZP)(e,(function(e){e[t.id]=t.preferredHeight}))}))}));function yo(){return fo(xo)}var wo=(0,Zr.cn)([]),Co=(0,Zr.cn)(0),ko=(0,Zr.cn)(null,(function(e,n,t){var r=t.height,i=t.sections,o=r-i.length*Zo;n(Co,r),n(wo,i.map((function(e){var n=e.id,t=e.percent;return{id:n,height:0===t?0:o*(t/100)}})))}));function Lo(e){var n=uo(),t=function(e){return(0,j.Z)((function(){return(0,Zr.cn)((function(n){var t;return Zo+((null===(t=n(wo).find((function(n){return n.id===e})))||void 0===t?void 0:t.height)||0)}))}),[e])}(e);return(0,go.b)(t,n)}var So=(0,vo.kv)(wo,(function(e){return e.map((function(e){return e.id}))}),so());var Ro=(0,Zr.cn)(null,(function(e,n,t){n(Co,t),n(wo,(function(e){return(0,ao.ZP)(e,(function(e){var n=e.reduce((function(e,n){return e+n.height}),0),r=t-e.length*Zo,i=e.filter((function(e){return e.height>0})),o=(r-n)/i.length,a=!0,l=!1,s=void 0;try{for(var c,u=i[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var d=c.value;d.height=Math.max(0,d.height+o)}}catch(p){l=!0,s=p}finally{try{a||null==u.return||u.return()}finally{if(l)throw s}}}))}))}));var Io=(0,Zr.cn)(null,(function(e,n,t){var r=e(wo),i=e(bo)[t],o=r.find((function(e){return e.id===t}));if(!o)throw new Error("");0===o.height?n(wo,(0,ao.ZP)(r,(function(n){!function(e){var n=e.sections,t=e.preferredHeight,r=e.id,i=n.findIndex((function(e){return e.id===r}));if(-1===i)throw new Error("Expected sectionIndex");var o=n.reduce((function(n,t){return n+(t.height+e.headerHeight)}),0),a=e.totalHeight-o,l=n[i];if(a>0)l.height=a;else{var s=n.slice(i+1).find((function(e){return e.height>0}))||n.slice(0,i).reverse().find((function(e){return e.height>0}));if(s){if(void 0!==t&&t<s.height)return l.height=t,void(s.height-=t);l.height=s.height,s.height=0}}}({sections:n,id:t,totalHeight:e(Co),headerHeight:Zo,preferredHeight:i})}))):(n(xo,{id:o.id,preferredHeight:o.height}),n(wo,(0,ao.ZP)(r,(function(e){return mo({sections:e,id:t})}))))}));function To(){return fo(Io)}function Bo(e){var n=(0,j.Z)((function(){return(0,Zr.cn)((function(n){var t;return 0===(null===(t=n(wo).find((function(n){return n.id===e})))||void 0===t?void 0:t.height)}))}),[e]);return po(n)}var Eo,Go=(0,Zr.cn)(null),Mo=(0,Zr.cn)(null,(function(e,n,t){var r=e(wo);if("start"!==t.type){var i=e(Go);if(!i)throw new Error("");if("update"!==t.type)n(wo,(0,ao.ZP)(r,(function(e){var n=!0,t=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var a=i.value;a.height>=32||mo({sections:e,id:a.id})}}catch(l){t=!0,r=l}finally{try{n||null==o.return||o.return()}finally{if(t)throw r}}}))),n(Go,null);else{var o=e(Co);n(wo,(0,ao.ZP)(i.sectionStart,(function(e){var n=i.heightStart+t.delta;!function(e){var n=e.sections,t=e.id,r=e.totalHeight-n.reduce((function(n,t){return n+(t.height+e.headerHeight)}),0),i=n.findIndex((function(e){return e.id===t}));if(-1===i)throw new Error("Expected sectionIndex");var o=r+n.slice(i).reduce((function(e,n){return e+n.height}),0),a=n[i],l=e.height>a.height,s=Math.min(o,e.height),c=Math.abs(a.height-s);if(l){a.height=Math.max(0,s);var u=!0,d=!1,p=void 0;try{for(var f,h=n.slice(i+1)[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var m=f.value;if(0!==m.height){if(!(m.height<c)){m.height-=c;break}c-=m.height,m.height=0}}}catch(L){d=!0,p=L}finally{try{u||null==h.return||h.return()}finally{if(d)throw p}}}else{var v=n[i+1];if(e.height>=0)return a.height=e.height,void(v&&(v.height+=c));var g=a.height;a.height=0;var Z=-1*e.height,b=!0,x=!1,y=void 0;try{for(var w,C=n.slice(0,i).reverse()[Symbol.iterator]();!(b=(w=C.next()).done);b=!0){var k=w.value;if(k.height>Z){g+=Z,k.height-=Z;break}g+=k.height,Z-=k.height,k.height=0}}catch(L){x=!0,y=L}finally{try{b||null==C.return||C.return()}finally{if(x)throw y}}v&&(v.height+=g)}}({headerHeight:Zo,totalHeight:o,sections:e,id:i.id,height:n})})))}}else{var a=r.find((function(e){return e.id===t.id}));if(!a)throw new Error("");n(Go,{id:t.id,heightStart:a.height,sectionStart:r})}})),Do=(0,Zr.cn)((function(e){return Boolean(e(Go))}));function Po(e){var n=e.id,t=(0,j.Z)((function(){return(0,Zr.cn)((function(e){var t;return(null===(t=e(Go))||void 0===t?void 0:t.id)===n}))}),[n]);return po(t)}!function(e){e.Files="files",e.Dock="dock",e.Kaboom="kaboom",e.Resources="resources"}(Eo||(Eo={}));var jo=t(74330),_o=t(80221),Uo=t(30260),Xo=t(1436),Vo=t(82666),zo=t(6706),Wo=t(50851),Ao=t(4996),Fo=t(77434),No=t(94384),Oo=t(39020),Ho=t(49487),qo=t(83905),$o=t(14170),Yo=t(89700),Ko=t(31518),Qo=t(83871),Jo=t(7380),ea=t(4808),na={root:(0,a.iv)([u.l0.rowWithGap(4),u.l0.pr(2)])};function ta(){var e=(0,kn.Z)(),n=(0,W.OM)(),t=(0,W.t9)(),r=io(),i=(0,h.useRef)(null),a=(0,h.useRef)(null),l=(0,z.BN)(),s=(0,Wo.Z)(),c=Eo.Files,u=Bo(c),d=To(),f=(0,h.useCallback)((function(){u&&d(c)}),[c,u,d]),m=[{label:zo.st.UploadFile.text,run:function(){i.current&&(i.current.click(),(0,Fo.Z)({replId:e,action:"uploaded",fileType:T.Tv.File}))}}];return s&&m.push({label:zo.st.UploadFolder.text,run:function(){a.current&&(a.current.click(),(0,Fo.Z)({replId:e,action:"uploaded",fileType:T.Tv.Directory}))}}),m.push({label:zo.st.OpenPane.text,run:function(){l({pane:{type:"commands",data:{autoFocus:!0}},edge:"left"})}},{label:zo.st.DownloadZip.text,run:function(){return(0,No.R)(e)}},{label:t?zo.st.HideHiddenFiles.text:zo.st.ShowHiddenFiles.text,run:function(){n(!t)}}),(0,o.BX)(p.G,{children:[(0,o.tZ)(Ao.Q,{fileUploadInputRef:i,dirUploadInputRef:a,uploadFiles:function(e){var n;return null===(n=r.current)||void 0===n?void 0:n.uploadFiles(e)}}),(0,o.BX)(p.G,{css:na.root,children:[(0,o.tZ)(nn.h,{"data-cy":"filetree-add-file",alt:"New file",tooltipPlacement:"top",onClick:function(){var e;f(),null===(e=r.current)||void 0===e||e.addFileType(T.Tv.File)},children:(0,o.tZ)(Uo.Z,{})}),(0,o.tZ)(nn.h,{alt:"New folder",tooltipPlacement:"top",onClick:function(){var e;f(),null===(e=r.current)||void 0===e||e.addFileType(T.Tv.Directory)},children:(0,o.tZ)(Xo.Z,{})}),(0,o.tZ)(Vo.Z,{resetOnSelect:!0,label:"File Actions",items:m,onItemClick:function(e){e.run()}})]})]})}function ra(){var e=io(),n=(0,z.lz)(),t=(0,z.N8)(),r=(0,z.CA)(),i=(0,$o.L)(),a=(0,Oo.p)({onFileDoubleClick:n,onFileDragEnd:t,openFile:function(e,n){i(e,n),r({path:e,newTab:n.newTab,newPane:n.newPane,opener:n.opener})}}),l=(0,Ho.c_)(),s=h.useMemo((function(){return l.map((function(e){return{paneType:"extension",supports:function(n){var t=(0,qo.Z)(e.glob);return!!t&&Boolean(t.exec(n))},extensionFileHandler:e}}))}),[l]);return(0,o.tZ)(p.G,{"data-cy":"sidebar-filetree-section",css:[u.l0.position.absolute,u.l0.width("100%"),u.l0.height("100%")],children:(0,o.tZ)(_o.Z,{ref:e,filetreeApi:a,fileOpeners:s,showHeader:!1,showResources:!1})})}var ia=h.createContext(null),oa=ia.Provider,aa=(0,G.X)({root:[u.l0.position.absolute,u.l0.width("100%"),u.l0.height("100%"),u.l0.pl(8)]});function la(){var e,n,t=(0,C.P5)({controlName:"flag-filetree-git-status"}),o=(0,Jo.Z)(function(){var e=(0,r.Z)((function(e){var n,r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return t?[4,e.getRepositoryState()]:[2,{status:null,error:null}];case 1:return(n=i.sent()).error?[2,n]:n.type!==ea.y5.NORMAL?[2,{status:null,error:null}]:[4,e.status()];case 2:return(r=i.sent()).error?[2,r]:[2,{status:r,error:null}]}}))}));return function(n){return e.apply(this,arguments)}}(),[t]);return o&&!o.error&&(null===(e=o.status)||void 0===e?void 0:e.changes)?function(e){var n=new Map,t=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var l=o.value;n.set(l.path,{index:l.type.index,worktree:l.type.worktree})}}catch(s){r=!0,i=s}finally{try{t||null==a.return||a.return()}finally{if(r)throw i}}return n}(null===(n=o.status)||void 0===n?void 0:n.changes):null}function sa(){var e=h.useContext(ia);if(!e)throw new Error("Expected filetree");return(0,o.BX)(p.G,{css:na.root,children:[(0,o.tZ)(nn.h,{"data-cy":"filetree-add-file",alt:"New file",tooltipPlacement:"top",onClick:function(){e.create(T.Tv.File)},children:(0,o.tZ)(Uo.Z,{})}),(0,o.tZ)(nn.h,{alt:"New folder",tooltipPlacement:"top",onClick:function(){e.create(T.Tv.Directory)},children:(0,o.tZ)(Xo.Z,{})})]})}function ca(){var e=h.useContext(ia);if(!e)throw new Error("Expected filetree");return(0,o.tZ)(p.G,{"data-cy":"sidebar-filetree-section",css:aa.root,children:(0,o.tZ)(Yo.s8,{store:e.store})})}function ua(){return(0,Yo.ND)()?(0,o.tZ)(sa,{}):(0,o.tZ)(ta,{})}function da(){return(0,Yo.ND)()?(0,o.tZ)(ca,{}):(0,o.tZ)(ra,{})}var pa={title:"Files",controls:(0,o.tZ)(ua,{}),content:(0,o.tZ)(da,{})},fa=t(25969),ha=t(47236),ma=(0,t(14124).O4)("kaboom3000UpdateNoticeClosed",!1),va=(0,G.X)({notice:[u.l0.borderRadius(4),u.l0.p(8),u.l0.colWithGap(4)],title:[u.l0.rowWithGap(4),u.l0.align.center],titleRow:[u.l0.flex.row,u.l0.justify.spaceBetween,u.l0.align.center]});var ga=function(){var e=(0,_.Z)().fs,n=(0,L.Z)(h.useState(!1),2),t=n[0],r=n[1],i=(0,L.Z)((0,ha.KO)(ma),2),a=i[0],l=i[1];return h.useEffect((function(){e.readFile("package.json").then((function(e){if(!e.error)try{var n,t=null===(n=JSON.parse(e.content.toString()).dependencies)||void 0===n?void 0:n.kaboom;if(t){var i=/\d+/.exec(t);if(null===i||void 0===i?void 0:i[0])Number(i[0])>=3e3&&r(!0)}}catch(o){}}))}),[e]),!t||a?null:(0,o.BX)(Je.T,{elevated:!0,css:va.notice,children:[(0,o.BX)(p.G,{css:va.titleRow,children:[(0,o.BX)(p.G,{css:va.title,children:[(0,o.tZ)("img",{alt:"mark",src:"/public/images/mark.png",width:"24",height:"24"}),(0,o.tZ)(d.xv,{variant:"subheadDefault",children:"Update notice"})]}),(0,o.tZ)(nn.h,{onClick:function(){r(!1),l(!0)},alt:"Close",children:(0,o.tZ)(ot.Z,{})})]}),(0,o.tZ)(d.xv,{multiline:!0,children:"You're using Kaboom v3000! Things might work differently from v2000."}),(0,o.tZ)("a",{href:"https://kaboomjs.com/blog/3000",target:"_blank",children:"New features"}),(0,o.tZ)("a",{href:"https://kaboomjs.com/doc/migration-3000",target:"_blank",children:"Migration guide"})]})},Za=t(47923);var ba=function(e){var n=e.title,t=e.sub,r=void 0!==t&&t,i=e.actions,a=void 0===i?[]:i;return(0,o.BX)(Jn.Ug,{justify:"space-between",align:"center",children:[(0,o.tZ)(sn(),{id:"fd8117a15303f4ca",children:".header-action.jsx-fd8117a15303f4ca{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;width:var(--space-24);height:var(--space-24);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);color:var(--foreground-dimmer)}.header-action.jsx-fd8117a15303f4ca:hover{background:var(--background-higher);cursor:pointer}"}),(0,o.tZ)(at.Z,{level:r?5:4,children:n}),(0,o.tZ)(Jn.Ug,{spacing:"4px",align:"center",children:a?a.map((function(e,n){return(0,o.tZ)("div",{onClick:e.action,className:"jsx-fd8117a15303f4ca header-action",children:e.icon},n)})):null})]})};var xa=function(e){var n=e.fileDrag,t=e.children,r=(0,L.Z)(h.useState(!1),2),i=r[0],a=r[1],l=h.useRef(0);return(0,o.BX)("div",{onDragEnter:function(e){if(n){e.preventDefault(),e.stopPropagation();var t=!0;if(e.dataTransfer.items&&e.dataTransfer.items.length>0){if(n.accept)for(var r=e.dataTransfer.items,i=0;i<r.length;i++){var o=r[i];n.accept.includes(o.type)||(t=!1)}t&&(a(!0),l.current++)}}},onDragLeave:function(e){n&&(e.preventDefault(),e.stopPropagation(),l.current--,0===l.current&&a(!1))},onDrop:function(e){n&&(e.preventDefault(),e.stopPropagation(),l.current=0,a(!1),(0,D.Z)(e.dataTransfer.files).filter((function(e){return n.accept.includes(e.type)})).forEach(n.onDrop))},className:"jsx-68ea6c6d36b196a3 section",children:[(0,o.tZ)(sn(),{id:"68ea6c6d36b196a3",children:".section.jsx-68ea6c6d36b196a3{position:relative;width:100%}.dragfilter.jsx-68ea6c6d36b196a3{position:absolute;width:100%;height:100%;top:0;left:0;background:var(--accent-primary-default);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);opacity:.2}.dragfilter.hidden.jsx-68ea6c6d36b196a3{display:none!important}"}),t,(0,o.tZ)("div",{className:"jsx-68ea6c6d36b196a3 "+(mn()("dragfilter",{hidden:!i})||"")})]})};var ya=function(){var e=(0,_.Z)().session,n=(0,L.Z)(h.useState(!1),2),t=n[0],r=n[1];return(0,o.BX)(xa,{children:[(0,o.tZ)(ba,{title:"Kaboom",actions:[{icon:(0,o.tZ)(Mi.Z,{rotate:t?0:-90}),action:function(){return r(!t)}}]}),t?(0,o.BX)(Jn.gC,{spacing:1,children:[(0,o.tZ)("div",{}),(0,o.tZ)(pt.Z,{Icon:Za.Z,size:"small",onClick:function(){return e.openFile("template.html")},children:"Edit HTML Template"})]}):null]})},wa=t(81671);var Ca=t(33229),ka=t(95269),La=t(96324);function Sa(e){var n=e.path,t=e.initialExpanded,r=e.fs,i=(0,L.Z)(h.useState(null),2),o=i[0],a=i[1],l=(0,L.Z)(h.useState(null),2),s=l[0],c=l[1],u=(0,L.Z)(h.useState(Boolean(t)),2),d=u[0],p=u[1],f=(0,Ca.Z)();h.useEffect((function(){if(d){var e=r.watchDir(n,{onChange:function(e){a(e.filter((function(e){return!(0,ka.C)(n===La.Ql?e.filename:n+"/"+e.filename)})))},onError:function(e){c(e)}});return function(){f.current&&a(null),e()}}}),[r,n,d,a,c]);var m=h.useCallback((function(){p(!0)}),[]),v=h.useCallback((function(){p(!1)}),[]);return d?s?{collapse:v,expand:m,children:null,expanded:d,loading:!1,error:s}:o?{collapse:v,expand:m,children:o,loading:!1,error:s,expanded:d}:{collapse:v,expand:m,children:o,loading:!0,error:s,expanded:d}:{collapse:v,expand:m,children:null,loading:!1,error:null,expanded:d}}var Ra,Ia=t(44867),Ta=t(60006);function Ba(e){return function(n){for(var t in e)n.key===t&&e[t](n)}}function Ea(e,n){Ra||(Ra=document.createElement("input")).setAttribute("type","file"),Ra.setAttribute("accept",n.join(","));var t=function(){Ra.files&&((0,D.Z)(Ra.files).forEach(e),Ra.removeEventListener("change",t))};Ra.addEventListener("change",t),Ra.click()}var Ga=t(60109);var Ma=function(e){var n=e.isActive,t=e.name,r=e.icon,i=e.options,a=e.onClick,l=e.onRename,s=(0,L.Z)(h.useState(!1),2),c=s[0],u=s[1],d=(0,L.Z)(h.useState(null),2),p=d[0],f=d[1],m=(0,Ia.Z)((function(){u(!1)}),[]),v=(0,Ia.Z)((function(){f(null)}),[]);return h.useEffect((function(){v.current&&null!==p&&v.current.focus()}),[v,p]),(0,o.BX)("div",{onClick:a,className:"jsx-103c0085cc983ea1 "+(mn()("entry",{active:n&&null===p})||""),children:[(0,o.BX)(Jn.Ug,{spacing:1,align:"center",children:[r,null===p?(0,o.tZ)("p",{className:"jsx-103c0085cc983ea1",children:t}):(0,o.tZ)(st.ZP,{ref:v,value:p,onChange:function(e){f(e.currentTarget.value)},onKeyDown:Ba({Escape:function(){f(null)},Enter:function(){l&&p&&l(p),f(null)}})})]}),i&&i.length>0?(0,o.tZ)("div",{onClick:function(e){e.stopPropagation(),u(!c)},className:"jsx-103c0085cc983ea1 "+(mn()("options-icon",{active:n})||""),children:(0,o.tZ)(Ga.Z,{})}):null,i&&i.length>0&&c?(0,o.tZ)("div",{ref:m,onKeyDown:Ba({Escape:function(){u(!1)}}),className:"jsx-103c0085cc983ea1 options-box",children:i.map((function(e){return e?(0,o.tZ)("div",{onClick:function(n){n.stopPropagation(),u(!1),e.action(),"Rename"===e.name&&f(t)},className:"jsx-103c0085cc983ea1 "+(mn()("option",{danger:e.danger})||""),children:e.name},e.name):null}))}):null,(0,o.tZ)(sn(),{id:"103c0085cc983ea1",children:".entry.jsx-103c0085cc983ea1{width:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);padding:var(--space-8);color:var(--foreground-dimmer);position:relative}.entry.active.jsx-103c0085cc983ea1{background:var(--accent-primary-default)!important;color:var(--white)!important;font-weight:var(--font-weight-medium)!important}.entry.jsx-103c0085cc983ea1:hover{color:var(--foreground-default);background:var(--background-higher);cursor:pointer}.options-icon.jsx-103c0085cc983ea1{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;width:var(--space-16);height:var(--space-16);opacity:0;color:var(--foreground-dimmest)}.options-icon.jsx-103c0085cc983ea1:hover{color:var(--foreground-dimmest)}.options-icon.active.jsx-103c0085cc983ea1{opacity:1!important;color:var(--white)!important}.entry.jsx-103c0085cc983ea1:hover .options-icon.jsx-103c0085cc983ea1{opacity:1}.options-box.jsx-103c0085cc983ea1{position:absolute;top:var(--space-32);right:var(--space-16);padding:var(--space-4);background:var(--background-default);border:1px solid var(--outline-dimmest);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);font-size:var(--font-size-subhead-default);font-weight:var(--font-weight-regular)!important;z-index:500}.option.jsx-103c0085cc983ea1{padding:var(--space-8);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);color:var(--foreground-default)}.option.danger.jsx-103c0085cc983ea1{color:var(--accent-negative-default)}.option.jsx-103c0085cc983ea1:hover{background:var(--background-higher)}.option.danger.jsx-103c0085cc983ea1:hover{background:var(--accent-negative-default);color:var(--white)}"})]})},Da=t(3220);function Pa(e){var n=e.close,t=e.entries,r=(0,_.Z)(),i=r.fs,a=r.session,l=(0,Ia.Z)(n,[]),s=(0,it.Z)().showError,c=(0,L.Z)(function(e){var n=(0,L.Z)(h.useState(e),2),t=n[0],r=n[1];return[t,r,function(e){var n=null;switch(e.currentTarget.type){case"checkbox":n=e.currentTarget.checked;break;case"number":case"range":n=Number(e.currentTarget.value);break;default:n=e.currentTarget.value}r((0,un.Z)((0,se.Z)({},t),(0,ae.Z)({},e.currentTarget.name,n)))}]}({name:""}),3),u=c[0],d=c[2];return h.useEffect((function(){l.current&&l.current.focus()}),[l]),(0,o.tZ)(st.ZP,{ref:l,name:"name",onChange:d,onKeyDown:Ba({Escape:n,Enter:function(){var e="".concat(u.name,".js"),r="code/".concat(e);t.includes(e)?s("file '".concat(u.name,"' already exists")):(i.writeFile(r,K.Z.from("")).then((function(){a.openFile(r)})),n())}})})}var ja=function(e){var n=e.onFileOpen,t=(0,_.Z)().fs,r=(0,W.R3)(),i=(0,L.Z)(h.useState(!1),2),a=i[0],l=i[1],s=(0,it.Z)().showError,c=(0,L.Z)(h.useState(null),2),u=c[0],d=c[1],p=(Sa({path:"code",initialExpanded:!0,fs:t}).children||[]).filter((function(e){return e.type===T.Tv.File})).map((function(e){return e.filename})).sort();return(0,o.BX)(xa,{fileDrag:{accept:["text/javascript"],onDrop:function(e){var n="code/".concat(e.name);p.includes(n)?s("scene '".concat((0,tr.eb)(e.name),"' already exists")):e.text().then((function(e){t.writeFile(n,K.Z.from(e))}))}},children:[(0,o.tZ)(ba,{sub:!0,title:"Code",actions:[{icon:(0,o.tZ)($.Z,{}),action:function(){return l(!0)}}]}),(0,o.tZ)(wa.Z,{height:"4px"}),(0,o.tZ)("div",{children:p.map((function(e){var i="code/".concat(e),a=(0,tr.eb)(e),l=[{name:"Rename",action:function(){}}];return"main"!==a&&l.push({name:"Delete",action:function(){return d(i)},danger:!0}),(0,o.tZ)(Ma,{isActive:i===r,onClick:function(){return n(i)},onRename:function(e){t.moveFile(i,"code/".concat(e,".js")).then((function(e){e.error&&s("failed to rename")}))},name:a,options:l},a)}))}),a?(0,o.tZ)(Pa,{entries:p,close:function(){return l(!1)}}):null,u?(0,o.tZ)(on.u,{isOpen:Boolean(u),onRequestClose:function(){return d(null)},children:(0,o.tZ)(Ta.Z,{danger:!0,prompt:"Delete scene '".concat((0,tr.eb)(u),"' ?"),desc:"Are you sure you want to delete this scene? This action cannot be undone.",onCancel:function(){return d(null)},confirmText:"Yes, delete this scene",icon:(0,o.tZ)(Da.Z,{}),onConfirm:function(){t.deleteFile(u),d(null)}})}):null]})},_a=t(72251),Ua=t(63067),Xa=t(44926),Va=t(26673),za=t(42735),Wa=t(45005),Aa=t.n(Wa);var Fa=function(e){var n=e.kind,t=e.renderItem,r=e.onRequestClose,i=e.onAdd,a=function(e){var t="".concat(g,"/").concat(e);Aa()(t).then((function(e){return e.arrayBuffer()})).then((function(o){var a="".concat(n,"/").concat(e);s.writeFile(a,K.Z.from(o)).then((function(n){if(n.error)throw new Error(n.error);c.openFile(a),i&&i(e,t)})),r()})).catch((function(){return Z("Failed to fetch ".concat(e))}))},l=(0,_.Z)(),s=l.fs,c=l.session,u=(0,L.Z)(h.useState([]),2),d=u[0],p=u[1],f=(0,L.Z)(h.useState(""),2),m=f[0],v=f[1],g="https://kaboomjs.com/".concat(n),Z=(0,it.Z)().showError;return h.useEffect((function(){Aa()("https://kaboomjs.com/api/assets/".concat(n)).then((function(e){return e.json()})).then((function(e){return p(e)})).catch((function(){return Z("Failed to fetch assets lib listing")}))}),[p,Z,g]),(0,o.BX)("div",{className:"jsx-d616aed56d26af98 assets",children:[(0,o.BX)(Jn.gC,{spacing:2,children:[(0,o.tZ)(at.Z,{level:3,children:"Assets Lib (beta)"}),0===d.length?(0,o.tZ)(lt.Z,{foreground:2,children:"Loading..."}):(0,o.BX)(o.HY,{children:[(0,o.tZ)(st.ZP,{large:!0,label:"Search",onChange:function(e){v(e.target.value)}}),(0,o.tZ)("div",{className:"jsx-d616aed56d26af98 box",children:d.filter((function(e){return!m||e.includes(m)})).map((function(e){return(0,o.tZ)(h.Fragment,{children:t({name:e,url:"".concat(g,"/").concat(e),add:function(){return a(e)}})},e)}))}),(0,o.tZ)(pt.Z,{size:"small",onClick:function(){d.length>0&&a(d[Math.floor(Math.random()*d.length)])},children:"I\u2019m Feeling Lucky"})]})]}),(0,o.tZ)(sn(),{id:"d616aed56d26af98",children:".assets.jsx-d616aed56d26af98{padding:var(--space-24)}.box.jsx-d616aed56d26af98{width:100%;height:320px;overflow-x:hidden;overflow-y:scroll}"})]})};function Na(e){var n=e.url,t=e.add;return(0,o.BX)(o.HY,{children:[(0,o.tZ)("img",{src:n,loading:"lazy",onClick:t,alt:"sprite asset",className:"jsx-4ad892a0258c4ced entry"}),(0,o.tZ)(sn(),{id:"4ad892a0258c4ced",children:".entry.jsx-4ad892a0258c4ced{padding:var(--space-16);height:120px;-ms-interpolation-mode:nearest-neighbor;image-rendering:-webkit-optimize-contrast;image-rendering:-moz-crisp-edges;image-rendering:-o-pixelated;image-rendering:pixelated;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4)}.entry.jsx-4ad892a0258c4ced:hover{cursor:pointer;background:var(--background-root)}"})]})}function Oa(e){var n=e.close,t=e.entries,r=e.onFileOpen,i=(0,_.Z)().fs,a=(0,Ia.Z)(n,[]),l=h.useRef(null),s=(0,it.Z)().showError,c=(0,L.Z)(h.useState({name:"",width:32,height:32}),2),f=c[0],m=c[1];h.useEffect((function(){l.current&&l.current.focus()}),[l]);var v=function(){if(0!==f.name.length){var e=f.width,o=f.height;if(isNaN(e)||isNaN(o)||e<=0||o<=0)s("invalid width / height!");else if(e>256||o>256)s("only supports sprites smaller than 256x256 yet");else{var a="".concat(f.name,".pedit"),l="sprites/".concat(a);t.includes(a)?s("sprite '".concat(f.name,"' already exists")):(i.writeFile(l,K.Z.from(JSON.stringify({fromKaboom:!0,width:f.width,height:f.height}))).then((function(){r(l)})),n())}}else s("invalid 'name'")},g=(0,rr.H)();return(0,o.tZ)("div",{ref:a,className:"dialog",onKeyDown:Ba({Escape:n,Enter:v}),children:(0,o.tZ)(Je.T,{elevated:!0,css:[u.l0.borderRadius(8),u.l0.p(8),u.l0.mt(8)],children:(0,o.BX)(p.G,{css:[u.l0.colWithGap(16)],children:[(0,o.BX)(p.G,{css:[u.l0.colWithGap(4)],children:[(0,o.tZ)("label",{htmlFor:g("name"),children:(0,o.tZ)(d.xv,{color:"dimmer",variant:"small",children:"Name"})}),(0,o.tZ)(za.II,{id:g("name"),ref:l,value:f.name,onChange:function(e){m((0,un.Z)((0,se.Z)({},f),{name:e.target.value}))}})]}),(0,o.BX)(p.G,{css:[u.l0.rowWithGap(8)],children:[(0,o.BX)(p.G,{css:[u.l0.colWithGap(4),{flex:"1 1 0px"}],children:[(0,o.tZ)("label",{htmlFor:g("width"),children:(0,o.tZ)(d.xv,{color:"dimmer",variant:"small",children:"Width"})}),(0,o.tZ)(za.II,{id:g("width"),value:"".concat(f.width),onChange:function(e){return m((0,un.Z)((0,se.Z)({},f),{width:parseInt(e.target.value,10)||0}))}})]}),(0,o.BX)(p.G,{css:[u.l0.colWithGap(4),{flex:"1 1 0px"}],children:[(0,o.tZ)("label",{htmlFor:g("height"),children:(0,o.tZ)(d.xv,{color:"dimmer",variant:"small",children:"Height"})}),(0,o.tZ)(za.II,{id:g("height"),value:"".concat(f.height),onChange:function(e){return m((0,un.Z)((0,se.Z)({},f),{height:parseInt(e.target.value,10)||0}))}})]})]}),(0,o.BX)(p.G,{css:[u.l0.rowWithGap(12),u.l0.justify.end],children:[(0,o.tZ)(en.zx,{onClick:n,text:"Cancel"}),(0,o.tZ)(en.zx,{colorway:"primary",onClick:v,text:"Create",iconLeft:(0,o.tZ)($.Z,{})})]})]})})})}var Ha=function(e){var n=e.onFileOpen,t=(0,_.Z)().fs,r=(0,it.Z)().showError,i=(0,W.R3)(),a=(0,W.Qt)(),l=(0,L.Z)(h.useState(!1),2),s=l[0],c=l[1],u=(0,L.Z)(h.useState(!1),2),d=u[0],p=u[1],f=(0,L.Z)(h.useState(null),2),m=f[0],v=f[1],g=(0,Va.Z)(i),Z=(0,Xa.Z)({fs:t,onContentProcess:function(e,n){if(n.endsWith("pedit")){var t=JSON.parse(e.toString());if(!t.fromKaboom)return t.frames[0]}else{var r=(0,tr.yC)(n);if(r)return"data:".concat(r,";base64,").concat(e.toString("base64"))}return""}}),b=(Sa({path:"sprites",initialExpanded:!0,fs:t}).children||[]).filter((function(e){return e.type===T.Tv.File})).map((function(e){return e.filename})).sort(),x=["image/png","image/jpeg",".pedit"],y=function(e){var n="sprites/".concat(e.name);if(b.includes(n))return r("sprite '".concat((0,tr.eb)(e.name),"' already exists"));e.arrayBuffer().then((function(e){t.writeFile(n,K.Z.from(e))}))},w=[{icon:(0,o.tZ)(_a.Z,{}),action:function(){return p(!0)}},{icon:(0,o.tZ)(Ua.Z,{}),action:function(){return Ea(y,x)}},{icon:(0,o.tZ)($.Z,{}),action:function(){return c(!0)}}];return(0,o.BX)(xa,{fileDrag:{accept:x,onDrop:y},children:[(0,o.tZ)(ba,{sub:!0,title:"Sprites",actions:w}),(0,o.tZ)(wa.Z,{height:"4px"}),(0,o.tZ)("div",{className:"jsx-286709118fe5858",children:b.map((function(e){var l="sprites/".concat(e),s=(0,tr.r6)(e),c=(0,tr.eb)(e),u=Z(l),d=g?[{name:"Insert load code",action:function(){var e,n,t,r="".concat("pedit"===s?"loadPedit":"loadSprite","(").concat(JSON.stringify(c),", ").concat(JSON.stringify(l),");");g({code:r,insertAt:null!==(t=null===(e=a())||void 0===e||null===(n=e.position)||void 0===n?void 0:n.offset)&&void 0!==t?t:0})}}]:[];return(0,o.tZ)(Ma,{isActive:l===i,onClick:function(){return n(l)},onRename:function(e){t.moveFile(l,"sprites/".concat(e,".").concat(s)).then((function(e){e.error&&r("failed to rename")}))},icon:(0,o.tZ)("div",{className:"jsx-286709118fe5858 preview-img",children:u.state===Xa.j.Ready&&(0,o.tZ)("img",{src:u.content,alt:"",className:"jsx-286709118fe5858"})}),name:c,options:(0,D.Z)(d).concat([{name:"Rename",action:function(){}},{name:"Delete",action:function(){return v(l)},danger:!0}])},c)}))}),s?(0,o.tZ)(Oa,{entries:b,close:function(){return c(!1)},onFileOpen:n}):null,m?(0,o.tZ)(on.u,{isOpen:Boolean(m),onRequestClose:function(){return v(null)},children:(0,o.tZ)(Ta.Z,{danger:!0,prompt:"Delete sprite '".concat((0,tr.eb)(m),"' ?"),desc:"Are you sure you want to delete this sprite? This action cannot be undone.",confirmText:"Yes, delete this sprite",icon:(0,o.tZ)(Da.Z,{}),onCancel:function(){return v(null)},onConfirm:function(){t.deleteFile(m),v(null)}})}):null,(0,o.tZ)(on.u,{isOpen:d,onRequestClose:function(){return p(!1)},maxWidth:872,children:(0,o.tZ)(Fa,{kind:"sprites",renderItem:Na,onRequestClose:function(){return p(!1)}})}),(0,o.tZ)(sn(),{id:"286709118fe5858",children:".preview-img.jsx-286709118fe5858{width:var(--space-32);height:var(--space-32);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;overflow:hidden}.preview-img.jsx-286709118fe5858 img.jsx-286709118fe5858{width:100%;-ms-interpolation-mode:nearest-neighbor;image-rendering:-webkit-optimize-contrast;image-rendering:-moz-crisp-edges;image-rendering:-o-pixelated;image-rendering:pixelated;image-rendering:-webkit-optimize-contrast;image-rendering:-moz-crisp-edges;image-rendering:crisp-edges}"})]})};function qa(e){var n=e.name,t=e.url,r=e.add;return(0,o.BX)(Jn.Ug,{justify:"space-between",align:"center",children:[(0,o.BX)(Jn.gC,{spacing:1,children:[(0,o.tZ)(lt.Z,{children:n}),(0,o.tZ)("audio",{src:t,controls:!0})]}),(0,o.tZ)(pt.Z,{onClick:r,children:"Import"})]})}var $a=function(e){var n=e.onFileOpen,t=(0,_.Z)().fs,r=(0,W.R3)(),i=(0,W.Qt)(),a=(0,it.Z)().showError,l=(0,L.Z)(h.useState(null),2),s=l[0],c=l[1],u=(0,L.Z)(h.useState(!1),2),d=u[0],p=u[1],f=(0,Va.Z)(r),m=(Sa({path:"sounds",initialExpanded:!0,fs:t}).children||[]).filter((function(e){return e.type===T.Tv.File})).map((function(e){return e.filename})).sort(),v=["audio/ogg","audio/mpeg","audio/wav"],g=function(e){var n="sounds/".concat(e.name);if(m.includes(n))return a("sound '".concat((0,tr.eb)(e.name),"' already exists"));e.arrayBuffer().then((function(e){t.writeFile(n,K.Z.from(e))}))},Z=[{icon:(0,o.tZ)(_a.Z,{}),action:function(){return p(!0)}},{icon:(0,o.tZ)(Ua.Z,{}),action:function(){return Ea(g,v)}}];return(0,o.BX)(xa,{fileDrag:{accept:v,onDrop:g},children:[(0,o.tZ)(ba,{sub:!0,title:"Sounds",actions:Z}),(0,o.tZ)(wa.Z,{height:"4px"}),(0,o.tZ)("div",{children:m.map((function(e){var l,s=(0,tr.eb)(e),u="sounds/".concat(e),d=f?[{name:"Insert load code",action:function(){var e,n;return f({insertAt:null!==(l=null===(e=i())||void 0===e||null===(n=e.position)||void 0===n?void 0:n.offset)&&void 0!==l?l:0,code:"loadSound(".concat(JSON.stringify(s),", ").concat(JSON.stringify(u),");")})}}]:[];return(0,o.tZ)(Ma,{isActive:u===r,onClick:function(){return n(u)},onRename:function(n){t.moveFile(u,"sounds/".concat(n,".").concat((0,tr.r6)(e))).then((function(e){e.error&&a("failed to rename")}))},name:s,options:(0,D.Z)(d).concat([{name:"Rename",action:function(){}},{name:"Delete",action:function(){return c(u)},danger:!0}])},s)}))}),s?(0,o.tZ)(on.u,{isOpen:Boolean(s),onRequestClose:function(){return c(null)},children:(0,o.tZ)(Ta.Z,{danger:!0,prompt:"Delete sound '".concat((0,tr.eb)(s),"' ?"),desc:"Are you sure you want to delete this sound? This action cannot be undone.",confirmText:"Yes, delete this sound",icon:(0,o.tZ)(Da.Z,{}),onCancel:function(){return c(null)},onConfirm:function(){t.deleteFile(s),c(null)}})}):null,(0,o.tZ)(on.u,{isOpen:d,onRequestClose:function(){return p(!1)},maxWidth:872,children:(0,o.tZ)(Fa,{kind:"sounds",renderItem:qa,onRequestClose:function(){return p(!1)},onAdd:function(e,n){return new window.Audio(n).play()}})})]})},Ya=t(59228);function Ka(e){var n=e.file,t=e.name,r=(0,z.cT)();return(0,o.BX)("div",{onClick:function(){r({pane:{type:"markdown",data:{path:n}}})},className:"jsx-148e6ca45d3ccd5a entry",children:[(0,o.BX)(Jn.Ug,{spacing:1,align:"center",children:[(0,o.tZ)(Ya.Z,{}),(0,o.tZ)(lt.Z,{foreground:2,fontWeight:"regular",children:null!==t&&void 0!==t?t:(0,tr.eb)(n)})]}),(0,o.tZ)(sn(),{id:"148e6ca45d3ccd5a",children:".entry.jsx-148e6ca45d3ccd5a{cursor:pointer}"})]})}var Qa=function(){var e=(0,L.Z)(h.useState(!0),2),n=e[0],t=e[1],r=(0,L.Z)(h.useState(!1),2),i=r[0],a=r[1],l=(0,_.Z)().fs,s=Sa({path:"learn",initialExpanded:!0,fs:l});h.useEffect((function(){var e=!1;return l.stat("README.md").then((function(n){e||n.exists&&a(!0)})),function(){e=!0}}),[l]);var c=(s.children||[]).filter((function(e){return e.type===T.Tv.File&&(0,tr.gK)(e.filename)})).map((function(e){return e.filename})).sort();return(0,o.BX)(xa,{children:[(0,o.tZ)(ba,{sub:!0,title:"Learn",actions:[{icon:(0,o.tZ)(Mi.Z,{rotate:n?0:-90}),action:function(){return t(!n)}}]}),n?(0,o.BX)(Jn.gC,{spacing:1,children:[(0,o.tZ)("div",{}),i?(0,o.tZ)(Ka,{name:"Intro",file:"README.md"}):null,c.map((function(e){return(0,o.tZ)(Ka,{file:"learn/".concat(e)},e)}))]}):null]})};function Ja(e){var n=e.onFileOpen;return(0,o.tZ)(p.G,{css:[u.l0.p(8),u.l0.flex.growAndShrink(1),u.l0.overflow("scroll"),{userSelect:"none"}],children:(0,o.BX)(Jn.gC,{spacing:1,children:[(0,o.tZ)(ga,{}),(0,o.tZ)(ya,{}),(0,o.tZ)(ja,{onFileOpen:n}),(0,o.tZ)(Ha,{onFileOpen:n}),(0,o.tZ)($a,{onFileOpen:n}),(0,o.tZ)(Qa,{}),(0,o.tZ)("div",{}),(0,o.tZ)(pt.Z,{Icon:fa.Z,size:"small",onClick:function(){return window.open("https://kaboomjs.com")},children:"Docs"}),(0,o.tZ)(pt.Z,{Icon:fa.Z,size:"small",onClick:function(){return window.open("https://kaboomjs.com/play")},children:"Examples"}),(0,o.tZ)(pt.Z,{Icon:fa.Z,size:"small",onClick:function(){return window.open("https://kaboomjs.com/doc/migration-3000")},children:"v3000 migration guide"})]})})}function el(){var e=(0,z.CA)();return(0,o.tZ)(Ja,{onFileOpen:function(n){return e({path:n})}})}var nl={title:"Kaboom",content:(0,o.tZ)(el,{})},tl=t(92928),rl=(0,G.X)({header:[u.l0.fontWeight.medium]});function il(){var e=yo(),n=(0,Fi.Z)((function(n){n.height&&e({id:Eo.Resources,preferredHeight:n.height})}));return(0,o.tZ)(p.G,{innerRef:n,children:(0,o.tZ)(tl.Kq,{})})}function ol(e){return e.collapsed?(0,o.tZ)(tl.lR,{}):(0,o.tZ)(p.G,{css:[rl.header],children:"Repl Resources"})}var al={title:(0,o.tZ)(ol,{collapsed:!0}),content:(0,o.tZ)(il,{})},ll=t(64174),sl=t(94514),cl=t(53849),ul=t(99425),dl=t(6490),pl={root:u.l0.px(4),rowWrap:(0,a.iv)([u.l0.borderRadius(8)]),row:(0,a.iv)([tn.gU.nofill,u.l0.rowWithGap(8),u.l0.p(4),u.l0.minHeight(32),u.l0.align.center,{transition:"initial"}]),icon:(0,a.iv)([u.l0.position.relative,{"& > svg":u.l0.color.foregroundDimmer}]),textWrap:[u.l0.colWithGap(2),u.l0.flex.growAndShrink(1)],heading:[u.l0.flex.growAndShrink(1),{opacity:.5}],text:[u.l0.flex.growAndShrink(1)]};function fl(e){var n=e.title,t=e.icon,r=e.active,i=e.highlightRanges,a=e.heading,l=e.dragRef;return(0,o.tZ)(p.G,{css:pl.root,children:(0,o.tZ)(Je.T,{elevated:r,css:pl.rowWrap,children:(0,o.BX)(Je.T,{innerRef:l,css:pl.row,children:[(0,o.tZ)(p.G,{css:pl.icon,children:t}),(0,o.BX)(p.G,{css:pl.textWrap,children:[a?(0,o.tZ)(d.xv,{variant:"small",color:"dimmest",css:pl.heading,children:a}):null,(0,o.tZ)(d.xv,{css:pl.text,color:(null===i||void 0===i?void 0:i.length)?"dimmest":"default",children:(null===i||void 0===i?void 0:i.length)?(0,o.tZ)(ct.xK,{style:{color:u.TV.foregroundDimmest},matchStyle:{fontWeight:u.TV.fontWeightBold,color:u.TV.foregroundDefault},source:n,matches:i.map((function(e){return{column:e.from,length:e.to-e.from}}))}):n})]})]})})})}var hl=t(98689),ml=t(13924);var vl=t(5473),gl=t(35813),Zl=function(e){var n=e.toolsGridItemRef,t=e.useTourResult,r=e.innerRef,i=e.shouldHideToolTip,a=function(){var e=(0,ml.X)(),n=(0,hl.Z)(e),t=(0,h.useState)(!e),r=t[0],i=t[1],o=Boolean(e&&e.isLoading);return(0,h.useEffect)((function(){if(!o){var e=n.current;e&&i(Boolean(null===e||void 0===e?void 0:e.isDone))}}),[o]),r}(),l=(0,gl.Z)(),s=(0,C.P5)({controlName:"flag-neon-databases"}),c=(0,C.P5)({controlName:"flag-neon-databases-tour"}),u=t.shouldDisplay,p=t.register,f=t.dismiss,m=!i&&"nix"===l&&s&&c&&a&&n&&u;return(0,h.useEffect)((function(){s&&c&&a&&p()}),[s,c,a,p]),m?(0,o.tZ)(vl.k,{placement:"right",targetElement:n.current,activeStep:{id:"PostgresDatabasesTour",title:"New: PostgreSQL Database",content:function(){return(0,o.tZ)(d.xv,{multiline:!0,children:"PostgreSQL Databases let you store, read and write persistent data quickly. Great for storing user or application data that changes over time."})}},currentStepIndex:0,done:f,goto:function(){},totalSteps:1,disableAnimation:!0,innerRef:r}):null},bl=(0,h.createContext)({toolTourMap:{}}),xl=function(e){return(0,h.useContext)(bl).toolTourMap[e.type]},yl=function(e){var n=e.panes,t=e.children,r=e.isCollapsed,i=(0,xt.Z)("workspace","workspace-tools-databases-postgres-tour"),a=(0,h.useRef)(null),l=(0,h.useRef)(null),s=n.length,c=(0,h.useState)(!1),u=c[0],d=c[1];return(0,h.useLayoutEffect)((function(){var e;d(r),null===(e=l.current)||void 0===e||e.updateTooltip()}),[s,r]),(0,o.BX)(bl.Provider,{value:{toolTourMap:{neon:{buttonRef:a,dismissTour:i.dismiss}}},children:[(0,o.tZ)(Zl,{toolsGridItemRef:a,useTourResult:i,innerRef:l,shouldHideToolTip:u}),t]})},wl=t(34204),Cl=t(26555),kl={38:20},Ll={root:(0,a.iv)([tn.gU.filled,u.l0.position.relative,u.l0.center,u.l0.borderRadius(8),{"& > svg":u.l0.color.foregroundDimmer}]),hovered:(0,a.iv)({backgroundColor:tn.vb.interactiveBackgroundActive,"& > svg":u.l0.color.foregroundDefault}),active:(0,a.iv)([tn.gU.filled[":not([disabled])"][":active"],{"& > svg":u.l0.color.foregroundDimmer}]),focused:(0,a.iv)([{boxShadow:"0 0 0 2px "+u.TV.accentPrimaryDefault,outline:"2px solid transparent",outlineOffset:"4px"}])};function Sl(e){var n=e.indicator,t=e.children,r=e.isDragging,i=e.className,a=e.size,l=void 0===a?38:a;return(0,o.BX)(p.G,{className:i,css:r?[Ll.root,Ll.active]:Ll.root,style:{width:l,height:l},children:[(0,h.cloneElement)(t,{size:kl[l]}),n?(0,o.tZ)(Cl.B,{small:!0}):null]})}var Rl={root:(0,a.iv)([u.l0.viewStyle,u.l0.reset.button,u.l0.colWithGap(4),u.l0.cursor.pointer,u.l0.center,u.l0.pt(2),u.l0.pt(4),{"&:hover":[u.l0.color.foregroundDefault]},{"&:hover .text":[u.l0.color.foregroundDefault]},{"&:hover .icon":[Ll.hovered]},{"&:active .icon":[Ll.active]},{"&:focus-visible .icon":[Ll.focused]}]),text:(0,a.iv)([u.l0.flex.growAndShrink(1),{fontSize:10}])};function Il(e){var n=e.pane,t=e.onClick,r=e.dragRef,i=e.buttonRef,a=e.onKeyDown,l=e.tabIndex,s=(0,E.Se)(),c=s.Icon({pane:n,size:20}),u=s.getTitle(n),d=(0,W.b2)({paneType:n.type}),p=xl(n),f=(0,wl.lq)(null===p||void 0===p?void 0:p.buttonRef,i,r),m=(0,h.useCallback)((function(e){t(e),null===p||void 0===p||p.dismissTour()}),[t,p]);return(0,o.BX)("button",{css:Rl.root,onClick:m,ref:f,onKeyDown:a,tabIndex:l,children:[(0,o.tZ)(Sl,{className:"icon",indicator:d,children:c}),(0,o.tZ)(Bl,{className:"text",children:u})]})}var Tl={root:(0,a.iv)([u.l0.flex.growAndShrink(1),{fontSize:10,textAlign:"center"}])};function Bl(e){var n=e.children,t=e.className;return(0,o.tZ)(d.xv,{className:t,css:Tl.root,children:n})}var El={root:(0,a.iv)([u.l0.position.absolute]),icon:(0,a.iv)([u.l0.shadow(2)]),textContainer:(0,a.iv)([u.l0.position.absolute,u.l0.left("50%"),u.l0.bottom("0"),u.l0.width("200%"),u.l0.center,{transform:"translate(-50%, calc(100% + ".concat(4,"px))")}])};function Gl(e){var n=e.pane,t=e.x,r=e.y,i=(0,E.Se)(),a=i.Icon({pane:n,size:20}),l=i.getTitle(n),s=(0,W.b2)({paneType:n.type});return(0,o.BX)(p.G,{css:El.root,style:{transform:"translate(".concat(t,"px, ").concat(r,"px)")},children:[(0,o.tZ)(Sl,{isDragging:!0,css:El.icon,indicator:s,children:a}),(0,o.tZ)(p.G,{css:El.textContainer,children:(0,o.tZ)(Bl,{children:l})})]})}var Ml={root:(0,a.iv)([u.l0.position.absolute,u.l0.shadow(2),u.l0.borderRadius(8),u.l0.minWidth(100)])};function Dl(e){var n=e.pane,t=e.x,r=e.y,i=(0,E.Se)(),a=i.Icon({pane:n,size:20}),l=i.getTitle(n);return(0,o.tZ)(p.G,{css:Ml.root,style:{transform:"translate(".concat(t,"px, ").concat(r,"px)")},children:(0,o.tZ)(fl,{active:!0,icon:a,title:l})})}function Pl(){var e=(0,ul.u)();if(!e.display)return null;var n=e.item,t=e.monitor.getSourceClientOffset();return t?n.grid?(0,o.BX)(o.HY,{children:[(0,o.tZ)(sl.a,{cursor:"grabbing"}),(0,o.tZ)(Gl,{pane:n.pane,x:t.x,y:t.y})]}):(0,o.BX)(o.HY,{children:[(0,o.tZ)(sl.a,{cursor:"grabbing"}),(0,o.tZ)(Dl,{pane:n.pane,x:t.x,y:t.y})]}):null}var jl=(0,a.iv)({position:"fixed",pointerEvents:"none",zIndex:z.MI.filetreeDragLayer,left:0,top:0,width:"100%",height:"100%"});function _l(){var e=(0,cl.f)((function(e){return{item:e.getItem(),itemType:e.getItemType(),isDragging:e.isDragging()}})),n=e.isDragging,t=e.itemType===B.z.NewPane;return n&&t?(0,o.tZ)("div",{css:jl,children:(0,o.tZ)(Pl,{})}):null}var Ul=t(63260),Xl=t(74513),Vl={ghostwriterChat:{background:u.TV.backgroundDefault,foreground:u.TV.blurpleStronger},deployments:{background:u.TV.backgroundDefault,foreground:u.TV.greenStrongest},docs:{background:u.TV.backgroundDefault,foreground:u.TV.yellowStrongest},chat:{background:u.TV.backgroundDefault,foreground:u.TV.blueStronger},threadInbox:{background:u.TV.backgroundDefault,foreground:u.TV.blueStronger},packager:{background:u.TV.backgroundDefault,foreground:u.TV.purpleStrongest},git:{background:u.TV.backgroundDefault,foreground:u.TV.greenStrongest},debugger:{background:u.TV.backgroundDefault,foreground:u.TV.orangeStronger},database:{background:u.TV.backgroundDefault,foreground:u.TV.blurpleStronger},shell:{background:u.TV.backgroundDefault,foreground:u.TV.blueStrongest},runnerOutput:{background:u.TV.backgroundDefault,foreground:u.TV.yellowStrongest},webview:{background:u.TV.backgroundDefault,foreground:u.TV.foregroundDimmer},replAuth:{background:u.TV.backgroundDefault,foreground:u.TV.orangeStrongest},adminPanel:{background:u.TV.backgroundDefault,foreground:u.TV.redStronger},unitTests:{background:u.TV.backgroundDefault,foreground:u.TV.greenStrongest},extensionStore:{background:u.TV.backgroundDefault,foreground:u.TV.yellowStronger},neon:{background:u.TV.backgroundDefault,foreground:u.TV.blueStrongest},sshConfigurator:{background:u.TV.backgroundDefault,foreground:u.TV.yellowStrongest},preferences:{background:u.TV.backgroundDefault,foreground:u.TV.greyStrongest}},zl=(0,Di.$)(["background","foreground"]),Wl=zl.cssVars,Al=zl.styleTokens,Fl={root:(0,a.iv)([u.l0.viewStyle,u.l0.reset.button,u.l0.colWithGap(4),u.l0.cursor.pointer,u.l0.center,u.l0.pt(2),u.l0.pt(4),{"&:hover":[u.l0.color.foregroundDefault],"&:active .frame":{opacity:.5},"&:focus-visible .icon":[{boxShadow:"0 0 0 2px ".concat(Al.foreground),outline:"2px solid transparent",outlineOffset:"4px"}]}]),text:[u.l0.flex.growAndShrink(1),{fontSize:10}]},Nl={root:(0,a.iv)([tn.gU.filled,u.l0.position.relative,u.l0.center,u.l0.borderRadius(8),{"> svg":{filter:"drop-shadow(0 0 3px rgba(255, 255, 255, 0.5))"}},u.l0.overflow("hidden"),{background:Al.background,border:"none","& > svg":{fill:Al.foreground}}]),frame:(0,a.iv)([u.l0.position.absolute,u.l0.top(0),u.l0.left(0),u.l0.right(0),u.l0.bottom(0),u.l0.borderRadius(8),{border:"1px solid ".concat(Al.foreground),opacity:.15}])};function Ol(e){var n,t=e.indicator,r=e.children,i=e.className,a=e.size,l=void 0===a?38:a,s=e.background,c=e.foreground;return(0,o.BX)(p.G,{className:i,css:Nl.root,style:(n={width:l,height:l},(0,ae.Z)(n,Wl.background,s),(0,ae.Z)(n,Wl.foreground,c),n),children:[(0,o.tZ)(p.G,{className:"frame",css:Nl.frame}),(0,h.cloneElement)(r,{size:kl[l]}),t?(0,o.tZ)(Cl.B,{small:!0}):null]})}var Hl={background:u.TV.backgroundDefault,foreground:u.TV.foregroundDimmer};function ql(e){var n,t,r=e.pane,i=e.onClick,a=e.dragRef,l=e.buttonRef,s=e.onKeyDown,c=e.tabIndex,d=(0,E.Se)(),p=d.Icon({pane:r,size:20}),f=d.getTitle(r),m=(0,W.b2)({paneType:r.type});(0,C.P5)({controlName:"flag-colored-tool-icons-ghostwriter-marketing"})&&"ghostwriterChat"===r.type&&(n={background:u.TV.blurpleDimmest,foreground:u.TV.blurpleStrongest});var v=null!==(t=null!==n&&void 0!==n?n:Vl[r.type])&&void 0!==t?t:Hl,g=v.background,Z=v.foreground,b=xl(r),x=(0,wl.lq)(null===b||void 0===b?void 0:b.buttonRef,l,a),y=(0,h.useCallback)((function(e){i(e),null===b||void 0===b||b.dismissTour()}),[i,b]);return(0,o.BX)("button",{css:Fl.root,onClick:y,ref:x,onKeyDown:s,tabIndex:c,children:[(0,o.tZ)(Ol,{background:g,foreground:Z,className:"icon",indicator:m,children:p}),(0,o.tZ)(Bl,{className:"text",children:f})]})}function $l(e){return(0,C.P5)({controlName:"flag-colored-tool-icons"})?(0,o.tZ)(ql,(0,se.Z)({},e)):(0,o.tZ)(Il,(0,se.Z)({},e))}function Yl(e){var n=e.pane,t=(0,z.cT)(),r=(0,z.N8)(),i=(0,L.Z)((0,ll.c)({type:B.z.NewPane,item:function(){return{type:B.z.NewPane,pane:n,grid:!0}},end:function(){r()}}),3),a=i[1],l=i[2],s=h.useRef(null),c=(0,L.Z)((0,Ul.XZ)(s,!1),4),u=c[0],d=c[1],p=c[2],f=c[3];return(0,Ul.Ym)(d,s),(0,dl.K)(l),(0,o.tZ)($l,{pane:n,dragRef:a,buttonRef:s,tabIndex:u,onKeyDown:p,onClick:function(){f(),t({pane:n}),function(e){var n={action:"opened"};switch(Xl.c_.addBreadcrumb({category:"dock",message:"Opened ".concat(e)}),(0,x.j)(x.U3.TOOL_OPENED,{source:"Sidebar Dock",tool:e}),e){case"git":return(0,x.j)(x.U3.GIT_FEATURE_USED,{action:"pane-opened",source:"git-pane"});case"envEditor":return(0,x.j)(x.U3.ENV_EDITOR_USED,n);case"database":return(0,x.j)(x.U3.DATABASE_USED,{action:"opened",type:"ReplitKV",provider:"replit"});case"neon":return(0,x.j)(x.U3.DATABASE_USED,{action:"opened",type:"PostgreSQL",provider:"neon"});case"replAuth":return(0,x.j)(x.U3.AUTH_SIDEBAR_USED,n);case"packager":return(0,x.j)(x.U3.PACKAGE_MANAGER_USED,n);case"unitTests":return(0,x.j)(x.U3.REPL_UNIT_TEST_USED,n);case"debugger":return(0,x.j)(x.U3.DEBUGGER_USED,n);case"extensionStore":(0,x.j)(x.U3.EXTENSION_STORE_VIEWED,{source:"tools-sidebar"})}}(n.type)}})}var Kl=(0,a.iv)([u.l0.pl(8),{display:"grid",gap:8,gridTemplateColumns:"repeat(auto-fill, minmax(".concat(60,"px, 1fr))"),gridAutoFlow:"dense"}]);function Ql(){var e=Bo(Eo.Dock),n=(0,N.B)(),t=n.length,r=yo();return(0,h.useEffect)((function(){var e=Math.min(300,40*t);r({id:Eo.Dock,preferredHeight:e})}),[t,r]),(0,o.tZ)(yl,{panes:n,isCollapsed:e,children:(0,o.BX)(o.HY,{children:[(0,o.tZ)(_l,{}),(0,o.tZ)(p.G,{role:"toolbar",css:Kl,"aria-label":"Dock","aria-orientation":"horizontal",children:(0,o.tZ)(Ul.uP,{options:{direction:"horizontal",loopAround:!0},children:n.map((function(e){return(0,o.tZ)(Yl,{pane:e},"extension"===e.type?e.data.installationId:e.type)}))})})]})})}var Jl={title:"Tools",content:(0,o.tZ)(Ql,{})},es=t(35652),ns={kaboom:nl,files:pa,dock:Jl,resources:al},ts={root:(0,a.iv)([u.l0.rowWithGap(4),u.l0.align.center,u.l0.height(Zo),{userSelect:"none"}]),header:(0,a.iv)([u.l0.reset.button,u.l0.focusRing,u.l0.borderRadius(4),u.l0.ml(8),u.l0.flex.growAndShrink(1),u.l0.rowWithGap(4),u.l0.align.center,u.l0.cursor.pointer]),title:(0,a.iv)([u.l0.fontWeight.medium]),border:(0,a.iv)([u.l0.position.absolute,u.l0.top(0),u.l0.right(0),u.l0.width("calc(100% - ".concat(u.TV.space8,")")),{pointerEvents:"none",borderTop:"1px solid",borderColor:u.TV.outlineDimmest}]),content:(0,a.iv)([u.l0.flex.growAndShrink(1),u.l0.overflowY("auto"),u.l0.scrollbar.hidden])},rs=(0,h.memo)((function(e){var n=Bo(e.id),t=To(),r=ns[e.id],i=r.title,a=r.controls;return(0,o.BX)(p.G,{css:ts.root,children:[(0,o.BX)(p.G,{id:"sidebar-section-header-".concat(e.id),tag:"button",onClick:function(){return t(e.id)},css:ts.header,"aria-expanded":!n,"aria-controls":"sidebar-section-content-".concat(e.id),children:[(0,o.tZ)(jo.Z,{rotate:n?0:90}),"string"===typeof i?(0,o.tZ)(d.xv,{css:ts.title,children:i}):h.cloneElement(i,{collapsed:n})]}),a||null]})})),is=(0,h.memo)((function(e){var n=ns[e.id].content,t=Bo(e.id);return(0,o.tZ)(p.G,{id:"sidebar-section-content-".concat(e.id),inert:t?"true":void 0,css:[ts.content,"files"===e.id?u.l0.position.relative:{}],children:(0,o.tZ)(p.G,{css:u.l0.pb(8),children:n})})})),os={root:(0,a.iv)([u.l0.position.relative,u.l0.height(0),u.l0.width("100%"),{zIndex:1,"&:hover > div":{transform:"scaleY(2)"},cursor:"ns-resize"}]),hoverArea:(0,a.iv)([u.l0.position.relative,u.l0.height(8),u.l0.top(-4)])},as=(0,h.memo)((function(e){var n=fo(Mo),t=Po({id:e.id});return(0,o.tZ)(p.G,{css:os.root,onPointerDown:function(t){Bi(t,{start:function(){n({type:"start",id:e.id})},move:function(e){var t=e.delta;n({type:"update",delta:t.y})},end:function(e){var t=e.delta;n({type:"end",delta:t.y})}})},children:(0,o.tZ)(p.G,{style:t?{transform:"scaleY(100)"}:void 0,css:os.hoverArea})})}));function ls(e){var n=h.useRef(null),t=(0,Dr.T)(),r=Po({id:e.id}),i=po(Do),a=Lo(e.id);return h.useEffect((function(){return(0,es.A)(n,"height",a.current+"px"),a.subscribe((function(e){(0,es.A)(n,"height",e+"px")}))}),[a]),(0,o.BX)(p.G,{innerRef:n,style:{zIndex:r?2:void 0,position:"relative",transition:t||i?void 0:"height 120ms ease-out"},children:[e.border?(0,o.tZ)(p.G,{css:ts.border}):null,(0,o.tZ)(rs,{id:e.id}),(0,o.tZ)(is,{id:e.id}),e.resizable?(0,o.tZ)(as,{id:e.id}):null]})}var ss=t(25028),cs=t(97413);function us(e){var n=e.question,t=e.children;return(0,o.BX)(p.G,{css:u.l0.colWithGap(8),children:[(0,o.BX)(d.xv,{multiline:!0,variant:"subheadDefault",children:["Q. ",n]}),(0,o.tZ)(d.xv,{multiline:!0,children:t})]})}var ds=function(){return(0,o.BX)(p.G,{css:[u.l0.p(16),u.l0.colWithGap(32)],children:[(0,o.BX)(p.G,{css:[u.l0.colWithGap(16)],children:[(0,o.tZ)(d.h4,{variant:"headerDefault",level:2,children:"FAQ"}),(0,o.BX)(us,{question:"What is Replit?",children:["Replit is a simple yet powerful online compiler, IDE, interpreter and interactive environment for programming languages. The name comes from the"," ",(0,o.tZ)(ps,{href:"http://en.wikipedia.org/wiki/REPL",children:"read-eval-print loop"}),", the interactive top-level used by languages like Lisp and Python."]}),(0,o.BX)(us,{question:"How do I start?",children:["Once you have"," ",(0,o.tZ)(mi(),{href:"/templates",children:(0,o.tZ)("a",{children:"selected a template"})}),", type some code into the editor on the left, then click on the run"," ",(0,o.tZ)("span",{})," button at the top. Alternatively, you can type an expression into the console on the right side of the screen and then hit Enter. Your expression will be evaluated and its result will be printed. Repeat until satisfied."]}),(0,o.BX)(us,{question:"Can I save my session?",children:['Yes! You can save your session (which we call a "Repl") and share it with others on our'," ",(0,o.tZ)(ps,{href:"/community",children:"community"}),". Both the editor's content and the Repl will be preserved and can be executed once again using the created link to continue from where you left off."]}),(0,o.tZ)(us,{question:"Can I write files?",children:"Yes! You can do all sorts of things with files. You can add files, split up your code into multiple modules, you can read and write data to files, you can even generate images and plots."}),(0,o.tZ)(us,{question:"Can I use Replit on my phone or tablet?",children:"Yes! As a web application, Replit can be used on any device that has a modern web browser."}),(0,o.tZ)(us,{question:"How does Replit work?",children:"For all new repls, code is sent to our servers where it will be executed in a secure sandbox. The result is then sent back and rendered on the website. However, some of our old interpreters can run directly in your browser without going to the server."}),(0,o.BX)(us,{question:"Can I Embed Replit?",children:["Yes! Read the"," ",(0,o.tZ)("a",{target:"_blank",href:"/site/docs/repls/embed",children:"instructions"})," ","in our docs."]}),(0,o.BX)(us,{question:"Can I clear the console programmatically?",children:["In most languages, we support ANSI Escape Sequences, so you can clear the screen by printing the sequence ",(0,o.tZ)("code",{children:"\\033[2J"})," to the console. Read more on escape sequences"," ",(0,o.tZ)("a",{href:"http://www.isthe.com/chongo/tech/comp/ansi_escapes.html",target:"blank",children:"here"}),"."]}),(0,o.BX)(us,{question:"What languages does Replit support?",children:["We support all open-source languages. You can find most popular languages on our"," ",(0,o.tZ)(ps,{href:"/templates",children:"Templates"})," page. But if you can't find the language you want, you can customize a blank Repl to support it using the magic of Nix."," ",(0,o.tZ)(ps,{href:"https://docs.replit.com/programming-ide/configuring-repl",children:"Learn how"}),"!"]})]}),(0,o.BX)(p.G,{css:[u.l0.colWithGap(16)],children:[(0,o.tZ)(d.h4,{variant:"headerDefault",level:2,children:"Docs"}),(0,o.BX)(d.xv,{multiline:!0,children:["Visit our ",(0,o.tZ)(ps,{href:"/site/docs",children:"docs page"})," ","for more helpful documentation."]}),(0,o.BX)(p.G,{css:[u.l0.colWithGap(8)],children:[(0,o.tZ)(d.xv,{multiline:!0,variant:"subheadDefault",children:"Commonly Accessed Documentation"}),(0,o.BX)(p.G,{children:[(0,o.tZ)(d.xv,{multiline:!0,children:(0,o.tZ)(ps,{href:"/site/docs/repls/packages",children:"Importing Packages"})}),(0,o.tZ)(d.xv,{multiline:!0,children:(0,o.tZ)(ps,{href:"/site/docs/repls/secret-keys",children:"Using API keys / secrets / env files"})}),(0,o.tZ)(d.xv,{multiline:!0,children:(0,o.tZ)(ps,{href:"/site/docs/repls/web-hosting",children:"Web Hosting"})}),(0,o.tZ)(d.xv,{multiline:!0,children:(0,o.tZ)(ps,{href:"/site/docs/repls/http-servers",children:"Deploying a Web Server"})}),(0,o.tZ)(d.xv,{multiline:!0,children:(0,o.tZ)(ps,{href:"/site/docs/repls/python-plots",children:"Generating Plots in Python"})})]})]}),(0,o.BX)(p.G,{css:[u.l0.colWithGap(8)],children:[(0,o.tZ)(d.xv,{multiline:!0,variant:"subheadDefault",children:"Editor Shortcuts"}),(0,o.BX)(d.xv,{multiline:!0,children:["We use virtually all of the same keyboard shortcuts as VS Code, which you can check out"," ",(0,o.tZ)(ps,{href:"https://code.visualstudio.com/docs/getstarted/keybindings#_keyboard-shortcuts-reference",children:"here"}),". You can also check out some of the most common shortcuts from our own"," ",(0,o.tZ)(ps,{href:"https://docs.replit.com/programming-ide/working-shortcuts",children:"docs"}),"."]})]})]})]})},ps=function(e){var n=e.href,t=e.children;return(0,o.tZ)("a",{href:n,target:"_blank",children:t})},fs=t(25472),hs=t(47633),ms=t(10782),vs=t(98298);function gs(){var e=(0,ce.Z)(["\n  query WorkspaceSessionPresence($userIds: [Int!]!) {\n    usersByIds(ids: $userIds) {\n      id\n      image\n    }\n  }\n"]);return gs=function(){return e},e}var Zs=(0,ue.Ps)(gs());var bs=t(86763),xs=t.n(bs),ys=t(44391);function ws(e,n){var t={timestamp:Math.floor(Date.now()/1e3),activeFile:null},r=e.get(n.id);r?r.sessions.set(n.session,t):e.set(n.id,{id:n.id,username:n.name,color:(0,hs.i7)((0,D.Z)(e.values())),roles:n.roles,sessions:new Map([[n.session,t]])})}var Cs=(0,Zr.cn)(new Map),ks=(0,vo.kv)(Cs,(function(e){var n=new Map,t=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var l=(0,L.Z)(o.value,2)[1],s=null,c=!0,u=!1,d=void 0;try{for(var p,f=l.sessions[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){var h=(0,L.Z)(p.value,2)[1];h.activeFile&&(s&&s.timestamp>h.timestamp||(s=h))}}catch(g){u=!0,d=g}finally{try{c||null==f.return||f.return()}finally{if(u)throw d}}if(null===s||void 0===s?void 0:s.activeFile){var m=n.get(s.activeFile),v={id:l.id,username:l.username,image:l.image,color:l.color,roles:l.roles};m?m.push(v):n.set(s.activeFile,[v])}}}catch(g){r=!0,i=g}finally{try{t||null==a.return||a.return()}finally{if(r)throw i}}return n}),so());(0,vo.kv)(Cs,(function(e){return(0,D.Z)(e.values()).map((function(e){return{id:e.id,username:e.username,color:e.color,image:e.image}}))}),so());function Ls(e){var n=e.id,t=e.name,r=e.session,i=e.roles;return n&&t&&r&&i?{id:n,name:t,session:r,roles:i}:null}function Ss(e){var n=e.seconds,t=e.nanos;return"number"!==typeof n||"number"!==typeof t?null:(0,hs.gs)({seconds:n,nanos:t})}var Rs=(0,Zr.cn)(null,(function(e,n,t,r){n(Cs,(function(e){return(0,ao.ZP)(e,(function(e){var n;if(null===(n=t.roster)||void 0===n?void 0:n.user){var i=!0,o=!1,a=void 0;try{for(var l,s=t.roster.user[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var c=Ls(l.value);null!==c&&((null===c||void 0===c?void 0:c.id)!==r&&ws(e,c))}}catch(y){o=!0,a=y}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}}else if(t.join){var u=Ls(t.join);if(!u)return;if(u.id===r)return;ws(e,u)}else if(t.part){var d=t.part,p=d.id,f=d.session;if(!p||!f)return;!function(e,n){var t=e.get(n.id);t&&(1===t.sessions.size?e.delete(n.id):t.sessions.delete(n.session))}(e,{id:p,session:f})}else if(t.fileOpened){var h=t.fileOpened,m=h.session,v=h.userId,g=h.file,Z=t.fileOpened.timestamp?Ss(t.fileOpened.timestamp):null;if(!Z||!m||!v||!g)return;!function(e,n){var t=e.get(n.userId);if(t){var r=t.sessions.get(n.session);r?(r.timestamp=n.timestamp,r.activeFile=n.file):t.sessions.set(n.session,{timestamp:n.timestamp,activeFile:n.file})}}(e,{timestamp:Z,session:m,userId:v,file:g})}else if(t.sessionTimestampUpdated){var b=t.sessionTimestampUpdated.session,x=t.sessionTimestampUpdated.timestamp?Ss(t.sessionTimestampUpdated.timestamp):null;if(!x||!b)return;!function(e,n){var t=n.session,r=n.timestamp,i=!0,o=!1,a=void 0;try{for(var l,s=e[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var c=(0,L.Z)(l.value,2)[1].sessions.get(t);if(c){c.timestamp=r;break}}}catch(y){o=!0,a=y}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}}(e,{timestamp:x,session:b})}else;}))}))})),Is=(0,Zr.cn)(null,function(){var e=(0,r.Z)((function(e,n){var t,r,o,a,l,s,c,u,d,p,f;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:t=[],r=e(Cs),o=!0,a=!1,l=void 0;try{for(s=r[Symbol.iterator]();!(o=(c=s.next()).done);o=!0)u=(0,L.Z)(c.value,2),d=u[0],u[1].image||t.push(d)}catch(h){a=!0,l=h}finally{try{o||null==s.return||s.return()}finally{if(a)throw l}}return t.length?[4,null===vs.l||void 0===vs.l?void 0:vs.l.query({query:Zs,variables:{userIds:t}})]:[2];case 1:return p=i.sent(),(f=null===p||void 0===p?void 0:p.data.usersByIds)?(n(Cs,(function(e){return(0,ao.ZP)(e,(function(e){var n=!0,t=!1,r=void 0;try{for(var i,o=f[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var a=i.value,l=e.get(a.id);l&&(l.image=a.image)}}catch(h){t=!0,r=h}finally{try{n||null==o.return||o.return()}finally{if(t)throw r}}}))})),[2]):[2]}}))}));return function(n,t){return e.apply(this,arguments)}}());var Ts=t(3069),Bs={container:(0,a.iv)([u.l0.position.absolute,u.l0.top(0),u.l0.left(0),u.l0.width("100%"),u.l0.height("100%"),u.l0.minWidth(z.T0)]),header:(0,a.iv)([u.l0.pl(8),{zIndex:3}]),content:(0,a.iv)([u.l0.flex.growAndShrink(1)]),footer:(0,a.iv)([u.l0.pl(8),u.l0.pt(4),u.l0.colWithGap(8),{zIndex:2}]),help:(0,a.iv)([u.l0.pb(8),u.l0.flex.growAndShrink(1),u.l0.justify.center])};function Es(){var e=(0,z.cT)(),n=(0,h.useState)(!1),t=n[0],r=n[1],i=(0,xr.gf)(Br.id),a=kr(),l=[{type:"button",key:"faq",onClick:function(){r(!0),(0,x.j)(x.U3.FAQ_OPENED)},content:(0,o.BX)(o.HY,{children:[(0,o.tZ)(ss.Z,{}),(0,o.tZ)(d.xv,{children:"What is Replit?"})]})},{type:"button",key:"shortcuts",onClick:function(){a(),(0,x.j)(x.U3.KEYBOARD_SHORTCUTS_OPENED)},content:(0,o.BX)(o.HY,{children:[(0,o.tZ)(cs.Z,{}),(0,o.tZ)(d.xv,{children:"Shortcuts"}),i?(0,o.tZ)(xr.bM,{keyCombo:i,small:!0}):null]})}];return(0,o.BX)(p.G,{css:Bs.footer,children:[(0,o.tZ)(oo.M,{}),(0,o.tZ)(p.G,{css:Bs.help,children:(0,o.tZ)(Oi.Z,{extraItems:l,onDocsClick:function(n){n.preventDefault(),e({pane:{type:"docs",data:{url:null}}})}})}),(0,o.tZ)(on.u,{isOpen:t,maxWidth:872,onRequestClose:function(){return r(!1)},children:(0,o.tZ)(ds,{})})]})}function Gs(){var e=fo(ko),n=fo(Ro),t=(0,Ni.oj)(),r=(0,h.useRef)(null);(0,h.useEffect)((function(){if(r.current){var n=r.current.getBoundingClientRect().height;e(t?{height:n,sections:[{id:Eo.Files,percent:0},{id:Eo.Kaboom,percent:60},{id:Eo.Dock,percent:40},{id:Eo.Resources,percent:0}]}:{height:n,sections:[{id:Eo.Files,percent:60},{id:Eo.Dock,percent:40},{id:Eo.Resources,percent:0}]})}}),[e,t]);var i=(0,Fi.Z)((function(e){e&&n(e.height)}),{wait:100,type:"debounce"});return(0,Ai.l)(i,r)}var Ms=(0,h.memo)((function(){var e=function(){var e=(0,L.Z)(h.useState(null),2),n=e[0],t=e[1],r=(0,z.CA)(),i=(0,$o.L)(),o=(0,A.T)(!0),a=(0,h.useCallback)((function(e){return!o(e.filename)}),[o]),l=(0,_.Z)().fs,s=(0,Ko.Z)().preferences,c=(0,z.lz)(),u="cmdOrCtrlKey"===(null===s||void 0===s?void 0:s.multiselectModifierKey)?"cmdOrCtrlKey":"altKey",d=(0,Yo.pR)({fs:l,filter:a,fontSize:s.fontSize,onFileDoubleClick:function(e,n){c(n)},onFileSelect:function(e){var n=e.path,t=e.type,o=e.event,a="click"===t&&"altKey"===u?(0,Qo.j)(o):o.altKey;r({path:n,newTab:a}),i(n,{newTab:a})},multiselectModifierKey:u,onConflicts:function(e){return t({type:"conflics",data:e})}}),p=la();return h.useEffect((function(){return d.setFileStatus(p)}),[d,p]),{filetree:d,activeModal:n,closeModal:function(){return t(null)}}}(),n=e.filetree,t=e.activeModal,r=e.closeModal,i=(0,ms.yL)(ks);return(0,h.useEffect)((function(){return n.setPresenceState(i.current),i.subscribe(n.setPresenceState)}),[n,i]),(0,o.BX)(oa,{value:n,children:[(0,o.tZ)(Ds,{}),(0,o.tZ)(on.u,{isOpen:"conflics"===(null===t||void 0===t?void 0:t.type),onRequestClose:r,children:"conflics"===(null===t||void 0===t?void 0:t.type)?(0,o.tZ)(Ts.Z,{paths:t.data.conflics.map((function(e){return e.path})),onCancel:r,onConfirm:function(){var e=t.data;"move"===e.type?n.move({nodes:e.nodes,to:e.to,overwrite:!0}):n.upload({files:e.files,parentPath:e.to,overwrite:!0}),r()}}):null})]})})),Ds=(0,h.memo)((function(){var e=po(So),n=Gs(),t=(0,h.useRef)(null),r=(0,di.Z)(f.y.Sidepane),i=(0,fs.Z)().isTutorial?null:r,a=e[e.length-1];return(0,o.tZ)(ro.Provider,{value:t,children:(0,o.BX)(p.G,{innerRef:i,css:Bs.container,children:[(0,o.tZ)(p.G,{css:Bs.header,children:(0,o.tZ)(to,{})}),(0,o.tZ)(p.G,{css:Bs.content,innerRef:n,children:e.map((function(e,n){return(0,o.tZ)(ls,{id:e,resizable:e!==a,border:0!==n},e)}))}),(0,o.tZ)(Es,{})]})})})),Ps={id:"sidebar.toggle",name:"Toggle sidebar",description:"Opens or closes the sidebar",default:(0,Tr.l2)({cmdOrCtrl:!0,shift:!0,key:"b"})},js=(0,Di.$)(["width","visibility"]),_s=js.cssVars,Us=js.styleTokens,Xs=(0,a.iv)([u.l0.height("100%"),u.l0.position.absolute,u.l0.top(0),u.l0.left(0),u.l0.flex.row,u.l0.flex.growAndShrink(1),u.l0.overflow("auto"),{width:Us.width,visibility:Us.visibility}]);function Vs(){var e=(0,h.useRef)(null),n=(0,z.Ap)();(0,Ei.jv)(e,n.width,(function(e){return(0,ae.Z)({},_s.width,e+"px")})),(0,Ei.jv)(e,n.isOpen,(function(e){return(0,ae.Z)({},_s.visibility,e?"visible":"hidden")}));var t=(0,Yo.ND)();return(0,o.BX)(o.HY,{children:[(0,o.tZ)(ho,{children:(0,o.tZ)(p.G,{css:Xs,innerRef:e,children:t?(0,o.tZ)(Ms,{}):(0,o.tZ)(Ds,{})})}),(0,o.tZ)(Wi,{})]})}var zs=(0,h.memo)(Vs),Ws=t(50605),As=t(37880),Fs=(0,G.X)({button:[u.l0.py(4),u.l0.viewStyle,u.l0.reset.button,u.l0.rowWithGap(2),u.l0.align.center,u.l0.color.foregroundDefault,u.l0.cursor.pointer,u.l0.borderRadius(8),{":hover svg":{fill:Gt.TV.foregroundDefault},"&:focus-visible":{boxShadow:"0 0 0 2px ".concat(Gt.TV.accentPrimaryDefault)}}],wrapper:[u.l0.borderRadius(8),u.l0.width(300),u.l0.maxHeight("60vh"),u.l0.flex.column],newReplButtonWrapper:[u.l0.p(8)],replsListContainer:[u.l0.flex.shrink(1),u.l0.borderRadius(8)]});function Ns(){var e=(0,h.useState)(!1),n=e[0],t=e[1],r=(0,h.useState)(!1),i=r[0],a=r[1],l=(0,w.useRouter)();return(0,o.BX)(o.HY,{children:[(0,o.BX)(yt.x,{background:"root",isOpen:n,onOpenChange:function(e){i||t(e)},placement:"bottom start",label:"Navigation menu",noArrow:!0,children:[(0,o.BX)("button",{css:Fs.button,"data-cy":"global-nav-dropdown-btn",children:[(0,o.tZ)(si.N2,{color:Gt.TV.foregroundDefault,size:20}),(0,o.tZ)(ni.Z,{color:Gt.TV.foregroundDimmest,size:12})]}),(0,o.BX)(p.G,{css:Fs.wrapper,children:[(0,o.tZ)(p.G,{css:Fs.newReplButtonWrapper,children:(0,o.tZ)(en.zx,{colorway:"primary",text:"Create a Repl",iconLeft:(0,o.tZ)($.Z,{}),onClick:function(){return a(!0)}})}),(0,o.tZ)(p.G,{css:Fs.replsListContainer,children:(0,o.tZ)(Ws.Z,{showReplContextualActions:!1,onClick:function(e){l.push({pathname:"/replEnvironmentDesktop",query:{replUrl:e}},{pathname:e})}})})]})]}),(0,o.tZ)(on.u,{isOpen:i,onRequestClose:function(){return a(!1)},maxWidth:600,centered:!0,children:(0,o.tZ)(As.Z,{onCancel:function(){return a(!1)}})})]})}var Os=t(73135),Hs=(0,G.X)({root:[u.l0.rowWithGap(8),u.l0.align.center]});function qs(e){return(0,o.BX)(p.G,{css:Hs.root,children:[(0,o.tZ)(d.xv,{children:e.text}),(0,o.tZ)(xr.bM,{small:!0,keyCombo:e.shortcut})]})}var $s=(0,G.X)({root:[u.l0.reset.button,u.l0.height(16),u.l0.width(16),u.l0.center,u.l0.cursor.pointer,u.l0.borderRadius(8),u.l0.p(12),{opacity:.75,transition:"opacity 0.1s","&:hover":{opacity:1},"&:focus-visible":{boxShadow:"0 0 0 2px ".concat(u.TV.accentPrimaryDefault)}}],iconContainer:[u.l0.flex.row,u.l0.align.center,{height:14,width:16,border:"1px solid ".concat(u.TV.foregroundDefault),borderRadius:u.TV.borderRadius2}],icon:[{height:"100%",borderRight:"1px solid ".concat(u.TV.foregroundDefault),transition:"0.1s ease-out width, 0.1s background-color"}]});function Ys(){var e=(0,z.Ap)(),n=(0,Gi.Z)(e.isOpen),t=(0,di.Z)(f.y.SidebarButton),r=e.toggle;(0,xr.Il)((function(){return[Ps.id,function(){return r()}]}),[r]);var i=(0,xr.gf)(Ps.id),a=(n?"Close":"Open")+" sidebar",l=(0,L.Z)(h.useState(!1),2),s=l[0],c=l[1],d=i?(0,o.tZ)(qs,{shortcut:i,text:a}):a;return(0,o.tZ)(pn.u,{tooltip:d,placement:"right",children:(0,o.tZ)(p.G,{tag:"button",alt:a,innerRef:t,css:$s.root,onClick:function(){r(),c(!1)},onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)},children:(0,o.BX)(p.G,{css:$s.iconContainer,children:[(0,o.tZ)(p.G,{css:$s.icon,style:{width:n&&!s||!n&&s?"40%":"20%",backgroundColor:n?u.TV.foregroundDefault:"transparent"}}),(0,o.tZ)(p.G,{})]})})})}function Ks(e){var n,t=e.repl,r=e.currentUser,i=(0,Os.Z)(),a=(0,z.cT)();return(0,o.BX)(p.G,{css:[u.l0.rowWithGap(8),u.l0.align.center,u.l0.justify.start,u.l0.width("calc(50% - ".concat((an.al.small+8)/2,"px)")),(n={},(0,ae.Z)(n,u.BC.max("tabletMax"),[u.l0.width("fit-content")]),(0,ae.Z)(n,u.BC.min("tabletMax"),[u.l0.width("calc(50% - ".concat((an.al.large+8)/2,"px)"))]),n)],children:[(0,o.tZ)(p.G,{css:u.l0.noDragRegion,children:(0,o.tZ)(Ys,{})}),(0,o.tZ)(p.G,{css:u.l0.noDragRegion,children:i?(0,o.tZ)(Ns,{}):(0,o.tZ)(Si,{})}),(0,o.tZ)(p.G,{css:[u.l0.flex.shrink(1),u.l0.maxWidth(530),u.l0.align.center,{"& > span":[u.l0.viewStyle,u.l0.flex.shrink(1)]},u.l0.noDragRegion],children:(0,o.tZ)(ri,{repl:t,onDeployClick:function(e){a({pane:{type:"deployments",data:{initialMode:e}}})}})}),(0,o.BX)(p.G,{css:u.l0.noDragRegion,children:[(0,o.tZ)(Ri.m,{}),(null===r||void 0===r?void 0:r.isFirewallMode)?(0,o.tZ)(ii.Z,{isWorkspace:!0}):null]})]})}var Qs=t(57332),Js=function(e){(0,x.j)(x.U3.NAV_ITEM_CLICK,{target:e,source:"header-avatar-menu"})},ec={button:(0,a.iv)([u.l0.p(4),u.l0.viewStyle,u.l0.reset.button,u.l0.rowWithGap(2),u.l0.align.center,u.l0.color.foregroundDefault,u.l0.cursor.pointer,u.l0.borderRadius(8),{transition:"box-shadow 120ms ease-out",":hover svg":{fill:u.TV.foregroundDefault},":focus-visible":{boxShadow:"0 0 0 2px ".concat(u.TV.accentPrimaryDefault)}}]),surface:(0,a.iv)([u.l0.borderRadius(8),u.l0.minWidth(80),{"& > a:first-of-type":{borderRadius:"7px 7px 0 0"}},{"& > a:last-of-type":{borderRadius:"0 0 7px 7px"}}]),link:(0,a.iv)([u.l0.viewStyle,u.l0.color.foregroundDefault,u.l0.p(8),tn.gU.listItem])};function nc(){var e=(0,di.Z)(f.y.AvatarButton),n=function(e){var n=(0,se.Z)({},he,e);return de.a(ve,n)}().data,t=(0,h.useState)(!1),r=t[0],i=t[1],a=null===n||void 0===n?void 0:n.currentUser,l=a?(0,Qs.Ru)(a):null,s=l?[{label:"Profile",trackingLabel:"Profile",as:l.as,href:l.href},{label:"Account",trackingLabel:"Account",dataCy:"avatar-dropdown-account-link",as:"/account",href:"/account"},{trackingLabel:"CLUI",label:"CLUI",as:"/~/cli",href:"/~/cli"},{trackingLabel:"Log out",label:"Log out",href:"/logout"}]:[];return(0,o.BX)(yt.x,{isOpen:r,onOpenChange:i,placement:"bottom start",label:"User menu",noArrow:!0,children:[function(n){var t=n.ref,r=(0,oi.Z)(n,["ref"]);return(0,o.tZ)("div",{ref:e,children:(0,o.BX)("button",(0,un.Z)((0,se.Z)({},r),{ref:t,css:ec.button,children:[(0,o.tZ)(dn.q,{size:24,src:(null===a||void 0===a?void 0:a.image)||null,username:(null===a||void 0===a?void 0:a.username)||""}),(0,o.tZ)(ni.Z,{color:u.TV.foregroundDimmest,size:12})]}))})},(0,o.tZ)(Je.T,{elevated:!0,background:"higher",css:ec.surface,children:s.map((function(e){return(0,o.tZ)(mi(),{passHref:!0,as:e.as,href:e.href,prefetch:!1,children:(0,o.tZ)("a",{role:"menuitem",tabIndex:0,onClick:function(){Js(e.trackingLabel)},onKeyDown:function(){Js(e.trackingLabel)},css:ec.link,children:e.label})},e.label)}))})]})}var tc,rc=t(69033),ic=t(96035),oc=t(84561),ac=t(66910),lc=t(3740),sc=t(81685),cc=t(95872),uc=t(2882),dc=t(98824),pc=t(51992),fc=t(7885);!function(e){e.Publish="Publish",e.UpdatePublishedTemplate="UpdatePublishedTemplate",e.UpdatePublishedRepl="UpdatePublishedRepl"}(tc||(tc={}));var hc={surface:(0,a.iv)([u.l0.borderRadius(8),u.l0.maxHeight("80vh"),u.l0.maxWidth(382),u.l0.overflowY("auto"),u.l0.backgroundColor.backgroundDefault]),ctas:(0,a.iv)([u.l0.colWithGap(16),u.l0.p(16),{borderBottom:"1px solid",borderColor:u.TV.outlineDimmer},{":last-child":{borderBottom:0}}])};function mc(e){var n,t,r,i=e.repl,a=(0,L.Z)(h.useState(!1),2),l=a[0],s=a[1],c=(0,L.Z)(h.useState(null),2),f=c[0],m=c[1],v=(0,z.cT)(),g=i.hostingDeploymentPermissions.canDeploy&&"nix"===i.lang.id&&!i.config.isVnc,Z="HostingDeployment"===(null===(n=i.hostingDeployment)||void 0===n?void 0:n.__typename)&&i.hostingDeployment.currentBuild,b="ReplPowerUpTypes"===(null===(t=i.powerUps)||void 0===t?void 0:t.__typename)?i.powerUps.hostingTier:void 0,y=b&&!Z,w=i.currentUserPermissions.publish,C=!(null===i||void 0===i?void 0:i.publishedAs),k=(null===i||void 0===i?void 0:i.publishedAs)===le.O2.RegularRepl,S=i.publishedAs===le.O2.Template,R=(0,sc.Z)(),I=function(e,n){s(!1),v({pane:{type:"deployments",data:{initialMode:e}}}),n&&(0,x.j)(n,{source:"release_popover"})};return(0,o.BX)(o.HY,{children:[(0,o.BX)(yt.x,{isOpen:l,onOpenChange:s,placement:"bottom end",label:"Release",css:hc.surface,noArrow:!0,children:[(0,o.tZ)(en.zx,{onClick:function(){s(!l),l&&(0,fc.JP)()},iconLeft:(0,o.tZ)(lc.Z,{}),text:"Release",css:(0,ae.Z)({},u.BC.max("tabletMin"),{"div span":[u.l0.display.none],"div svg":[u.l0.mr(0)]})}),(0,o.BX)(o.HY,{children:[(0,o.BX)(p.G,{css:hc.ctas,children:[g&&(Z||b||y)?(0,o.BX)(o.HY,{children:[y?(0,o.tZ)(dc.U,{hostingTier:b}):null,Z?(0,o.BX)(o.HY,{children:[(0,o.tZ)(dc._,{currentBuild:Z,hostingTier:null!==b&&void 0!==b?b:void 0}),(0,o.tZ)(en.zx,{text:Z.status===le.Fe.Success||Z.status===le.Fe.Failed?"Redeploy project":"View deploy in progress",iconLeft:(0,o.tZ)(lc.Z,{}),onClick:function(){return I()}})]}):null,!Z&&b?(0,o.tZ)(en.zx,{text:"Deploy your project",iconLeft:(0,o.tZ)(lc.Z,{}),onClick:function(){return I("showDeployOptionsOnInsert",x.U3.DEPLOY_PROJECT_SELECTED)}}):null]}):null,g&&!(Z||b||y)?(0,o.BX)(p.G,{css:u.l0.colWithGap(8),children:[(0,o.tZ)(en.zx,{text:"Deploy your project",iconLeft:(0,o.tZ)(lc.Z,{}),colorway:"primary",onClick:function(){return I("showDeploymentTiersOnInsert",x.U3.DEPLOY_PROJECT_SELECTED)}}),(0,o.tZ)(d.xv,{multiline:!0,children:"Create a production build of your project so people can use it without being interrupted by changes in progress."})]}):null,g?null:(0,o.BX)(p.G,{css:u.l0.colWithGap(8),children:[(0,o.tZ)(en.zx,{text:"Deploy your project",iconLeft:(0,o.tZ)(lc.Z,{}),colorway:"primary",disabled:!0}),(0,o.tZ)(d.xv,{multiline:!0,children:"Create a production build of your project so people can use it without being interrupted by changes in progress."}),(0,o.tZ)(pc.Z,{lang:(0,un.Z)((0,se.Z)({},i.lang),{isVnc:null!==(r=i.config.isVnc)&&void 0!==r&&r})})]})]}),(0,o.BX)(p.G,{css:hc.ctas,children:[w&&C&&!R?(0,o.BX)(pn.u,{tooltip:"This Repl is private. You need to make it public in order to publish it!",isDisabled:!(null===i||void 0===i?void 0:i.isPrivate),children:[(0,o.tZ)(en.zx,{type:"button",css:u.l0.mb(8),text:"Publish your project",disabled:null===i||void 0===i?void 0:i.isPrivate,iconLeft:(0,o.tZ)(ac.Z,{}),onClick:function(){s(!1),m(tc.Publish),(0,fc.Vj)()}}),(0,o.tZ)(d.xv,{multiline:!0,children:"Share your project with the Replit community"})]}):null,S?(0,o.tZ)(en.zx,{type:"button",iconLeft:(0,o.tZ)(Ua.Z,{}),onClick:function(){s(!1),m(tc.UpdatePublishedTemplate)},text:"Update template"}):null,k?(0,o.tZ)(en.zx,{type:"button",iconLeft:(0,o.tZ)(oc.Z,{}),onClick:function(){s(!1),m(tc.UpdatePublishedRepl)},text:"Update project"}):null]})]})]}),f?(0,o.BX)(o.HY,{children:[(0,o.tZ)(on.u,{isOpen:f===tc.Publish,onRequestClose:function(){return m(null)},noPadding:!0,maxWidth:872,fitContent:!0,children:(0,o.tZ)(ic.Z,{source:"release_popover",replId:i.id})}),(0,o.tZ)(on.u,{isOpen:f===tc.UpdatePublishedTemplate,onRequestClose:function(){return m(null)},children:(0,o.tZ)(cc.Z,{repl:i})}),(0,o.tZ)(on.u,{isOpen:f===tc.UpdatePublishedRepl,onRequestClose:function(){return m(null)},children:(0,o.tZ)(uc.Z,{repl:i,onDone:function(){return m(null)},source:"release_popover"})})]}):null]})}var vc,gc=t(9495),Zc=t(11912),bc=t(8415),xc=t(98131),yc=t(96642),wc=function(e){return e&&e.args?(e.args&&e.args.length>=3&&"sh"===e.args[0]&&"-c"===e.args[1]?e.args.slice(2):e.args).join(" "):""},Cc=function(e){var n=e.hideModal,t=(0,_.Z)(),a=t.dotReplit,l=t.session,s=(0,Ca.Z)(),c=(0,it.Z)().showError,f=(0,L.Z)(h.useState(!1),2),m=f[0],v=f[1],g=(0,L.Z)(h.useState(""),2),Z=g[0],b=g[1],x=h.useCallback((function(){n(),l.openFile(xc.Z)}),[l,n]),y=h.useCallback((function(){return c("Failed to update run command, please try again or contact support")}),[c]),w=(0,L.Z)(h.useState(null),2),C=w[0],k=w[1];h.useEffect((function(){var e=function(){var e=(0,r.Z)((function(){var e,n,t;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return[4,a.getConfig()];case 1:return n=r.sent(),s.current?(n.errorMessage?k({error:n.error,errorMessage:n.errorMessage}):k(null),t=null===n||void 0===n||null===(e=n.config)||void 0===e?void 0:e.run,b(wc(t)),[2]):[2]}}))}));return function(){return e.apply(this,arguments)}}();e()}),[a,s]);var S=h.useCallback((0,r.Z)((function(){var e;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:if(!s.current)return[2];t.label=1;case 1:return t.trys.push([1,3,4,5]),e=Z?(0,yc.KQ)(Z):(0,yc.xz)("run"),v(!0),[4,a.updateDotReplit([e])];case 2:return t.sent(),s.current?(n(),[3,5]):[2];case 3:return t.sent(),y(),[3,5];case 4:return s.current&&v(!1),[7];case 5:return[2]}}))})),[Z,y,a,n]);return(0,o.BX)(p.G,{css:[u.l0.colWithGap(8),u.l0.p(2),m&&u.l0.cursor.progress],children:[(0,o.tZ)(d.h4,{level:1,variant:"text",css:[u.l0.fontWeight.normal,u.l0.color.foregroundDimmer],children:"Run Command"}),C?(0,o.tZ)(d.xv,{children:C.errorMessage}):(0,o.BX)(o.HY,{children:[(0,o.tZ)(za.II,{value:Z,onChange:function(e){return b(e.target.value)},spellCheck:!1,placeholder:"Command to run"}),(0,o.BX)(p.G,{css:[u.l0.rowWithGap(12),u.l0.mt(12)],children:[(0,o.tZ)(en.zx,{onClick:x,text:"Advanced"}),(0,o.tZ)(p.G,{css:u.l0.flex.grow(1)}),(0,o.tZ)(en.zx,{colorway:"blue",text:"Save",onClick:S})]})]})]})};!function(e){e[e.Closed=0]="Closed",e[e.MenuOpen=1]="MenuOpen",e[e.EditorOpen=2]="EditorOpen"}(vc||(vc={}));var kc=(0,a.iv)([u.l0.position.relative,u.l0.noDragRegion,(0,ae.Z)({},u.BC.min("tabletMin"),[u.l0.position.absolute,u.l0.right(-40),u.l0.top(8)])]),Lc=(0,a.iv)([u.l0.p(8),u.l0.maxWidth(300)]);function Sc(e){var n,t=e.runner,r=e.shortcut,i=(0,W.R3)(),a=(0,z.Vu)(),l=(0,gc.T)(),s=h.useMemo((function(){return(0,Zc.Z)(l||null,a.map((function(e){return e.filePath||""})),i,(null===l||void 0===l?void 0:l.entrypoint)||"")}),[i,a,l]),c=(0,h.useState)(void 0),m=c[0],v=c[1];h.useEffect((function(){(s.length>0&&!m||m&&!s.find((function(e){return e.runner.id===m.runner.id&&e.filePath===m.filePath})))&&v(s[0])}),[s]);var g=(0,L.Z)(h.useState(vc.Closed),2),Z=g[0],x=g[1],y=(0,b.e)(f.y.Run),w=[];return(n=w).push.apply(n,(0,D.Z)(s.map((function(e,n){return(0,o.tZ)(bc.ck,{"aria-label":"Run ".concat(e.filePath," (").concat(e.runner.name,")"),children:(0,o.tZ)(p.G,{css:u.l0.rowWithGap(8),children:(0,o.BX)(d.xv,{children:["Run ",e.filePath,"\xa0(",e.runner.name,")"]})})},n)})))),w.push((0,o.tZ)(bc.ck,{"aria-label":"custom",children:(0,o.tZ)(p.G,{css:u.l0.rowWithGap(8),children:(0,o.tZ)(d.xv,{children:"Custom..."})})},"custom")),(0,o.BX)(o.HY,{children:[(0,o.BX)(yt.x,{onOpenChange:function(e){x(e?vc.MenuOpen:vc.Closed)},isOpen:Z!==vc.Closed,label:"Run Options",noArrow:!0,children:[(0,o.tZ)(an.ZP,{shortcut:r,runner:t,runConfig:m,disableTooltip:null===y||void 0===y?void 0:y.isActive}),(0,o.BX)(p.G,{css:Lc,children:[Z===vc.MenuOpen&&(0,o.tZ)(bc.v2,{label:"Configure Repl run",onAction:function(e){if("custom"===e)x(vc.EditorOpen);else{x(vc.Closed);var n=s[Number(e)];v(n),t.run(n)}},children:w}),Z===vc.EditorOpen&&(0,o.tZ)(Cc,{hideModal:function(){return x(vc.Closed)}})]})]}),(0,o.tZ)(p.G,{css:kc,children:(0,o.tZ)(nn.h,{alt:"Configure Repl run",size:28,onClick:function(){x((function(e){return e===vc.Closed?vc.MenuOpen:vc.Closed}))},css:[u.l0.color.foregroundDimmest],children:(0,o.tZ)(ni.Z,{})})})]})}var Rc=t(39159),Ic=t(75040);function Tc(e,n){var t=n.onReceiveAnnotationUpdate,r=void 0===t?function(){}:t,i=(0,it.Z)().showError,o=(0,L.Z)(h.useState(null),2),a=o[0],l=o[1],s=(0,Rc.xT)({variables:{replId:e}}),c=function(){var e,n=null===(e=s.data)||void 0===e?void 0:e.currentUser;return n?{user:{__typename:"User",id:n.id,username:n.username,image:n.image}}:null},u=function(n,t){var r=n.readQuery({query:Rc.yi,variables:{replId:e}});if(!r)throw new Error("expected data");if("Repl"!==r.repl.__typename)throw new Error("expected repl");var i=[],o=r.repl.annotationAnchors,a=o.findIndex((function(e){return e.id===t.id}));i=-1===a?(0,D.Z)(o).concat([t]):(0,D.Z)(o.slice(0,a)).concat([t],(0,D.Z)(o.slice(a+1))),n.writeQuery({query:Rc.yi,variables:{replId:e},data:(0,un.Z)((0,se.Z)({},r),{repl:(0,un.Z)((0,se.Z)({},r.repl),{annotationAnchors:i})})})},d=(0,L.Z)((0,Rc.AS)({onError:function(e){return i(e.message)},update:function(e,n){var t;if(n.errors)n.errors.forEach((function(e){return i(e.message)}));else{var r=null===(t=n.data)||void 0===t?void 0:t.createAnnotationAnchor;r&&("UserError"===r.__typename?i(r.message):"AnnotationAnchor"===r.__typename&&u(e,r))}}}),1),p=d[0],f=(0,L.Z)((0,Rc.gE)({onError:function(e){return i(e.message)},update:function(e,n){var t;if(n.errors)n.errors.forEach((function(e){return i(e.message)}));else{var r=null===(t=n.data)||void 0===t?void 0:t.createAnnotationMessage;r&&("UserError"===r.__typename?i(r.message):"AnnotationAnchor"===r.__typename&&u(e,r))}}}),1),m=f[0],v=(0,L.Z)((0,Rc.Rp)({onError:function(e){return i(e.message)},update:function(e,n){var t;if(n.errors)n.errors.forEach((function(e){return i(e.message)}));else{var r=null===(t=n.data)||void 0===t?void 0:t.updateAnnotationAnchor;r&&("UserError"===r.__typename?i(r.message):"AnnotationAnchor"===r.__typename&&u(e,r))}}}),1),g=v[0],Z=(0,L.Z)((0,Ic.n)(),1)[0],b=(0,L.Z)((0,Rc.Hj)(),1)[0];(0,Rc.Tt)({variables:{replId:e},onData:function(e){var n=e.data.data,t=e.client,i=null===n||void 0===n?void 0:n.updatedAnnotation;i&&(u(t,i),r(i))}});var x=(0,L.Z)(h.useState([]),2),y=x[0],w=x[1];h.useEffect((function(){var e,n,t=[];"Repl"===(null===(e=s.data)||void 0===e?void 0:e.repl.__typename)&&(n=t).push.apply(n,(0,D.Z)(s.data.repl.annotationAnchors));a&&t.push((0,un.Z)((0,se.Z)({},a),{isGeneral:Boolean(a.isGeneral),messages:[],isResolved:!1,__typename:"AnnotationAnchor"})),w(t)}),[s,a]);var C=h.useMemo((function(){return y.find((function(e){return e.isGeneral}))}),[y]),k=h.useMemo((function(){return y.reduce((function(e,n){return n.isResolved?e:n.messages.some((function(e){return!1===e.seen}))?e+1:e}),0)}),[y]),S=function(e){var n=e.annotationAnchor,t=e.annotationMessage,r=e.highlight;p({variables:{annotationAnchor:n,annotationMessage:t,highlight:r},optimisticResponse:{__typename:"RootMutationType",createAnnotationAnchor:(0,un.Z)((0,se.Z)({},c(),n),{isGeneral:Boolean(n.isGeneral),__typename:"AnnotationAnchor",messages:t?[(0,un.Z)((0,se.Z)({},c(),t),{content:{text:t.text,__typename:"TextMessageContentType"},anchor:{id:n.id,__typename:"AnnotationAnchor"},__typename:"AnnotationMessage",timeCreated:Date.now(),currentUserIsAuthor:!0,seen:!0})]:[],isResolved:!1})}})},R=(0,j.Z)((function(){return Ti()(b,1e3,{trailing:!1})}),[b]);return{annotations:y,loading:s.loading,generalThread:C,unreadThreadCount:k,placeholderAnchorId:null===a||void 0===a?void 0:a.id,createAnnotationAnchorPlaceholder:function(e){var n=e.annotationAnchor;l(n)},deleteAnnotationAnchorPlaceholder:function(){l(null)},createAnnotationAnchor:S,createAnnotationMessage:function(n){var t=n.anchor,r=n.annotationMessage,i=n.highlight;(null===a||void 0===a?void 0:a.id)===t.id?(l(null),S({annotationAnchor:(0,se.Z)({},a),annotationMessage:r,highlight:i})):m({variables:{replId:e,anchorId:t.id,annotationMessage:r,highlight:i},optimisticResponse:{__typename:"RootMutationType",createAnnotationMessage:(0,un.Z)((0,se.Z)({},t),{messages:(0,D.Z)(t.messages.filter((function(e){return!e.id.startsWith("chat-")}))).concat([(0,un.Z)((0,se.Z)({},c(),r),{content:{text:r.text,__typename:"TextMessageContentType"},anchor:{id:t.id,__typename:"AnnotationAnchor"},__typename:"AnnotationMessage",timeCreated:Date.now(),currentUserIsAuthor:!0,seen:!0})])})}})},updateAnnotationAnchor:function(e){var n=e.annotationAnchor,t=e.changes;g({variables:{id:n.id,changes:t},optimisticResponse:{__typename:"RootMutationType",updateAnnotationAnchor:(0,un.Z)((0,se.Z)({},n,t),{isResolved:"boolean"===typeof t.isResolved?t.isResolved:n.isResolved})}})},updateThreadPreview:function(e){var n=e.threadId,t=e.messageId;R({variables:{threadId:n,messageId:t}})},markAllMessagesInReplAsSeenByUser:function(){Z({variables:{replId:e}})}}}var Bc=function(e){var n=Tc(e,{onReceiveAnnotationUpdate:function(){}}).generalThread;return(0,h.useMemo)((function(){return n?n.messages.filter((function(e){return!1===e.seen})).length:0}),[n])};function Ec(e){var n=Tc(e,{onReceiveAnnotationUpdate:function(){}}).annotations;return(0,h.useMemo)((function(){return n.reduce((function(e,n){return n.isGeneral?e:e+n.messages.filter((function(e){return!1===e.seen})).length}),0)}),[n])}var Gc={container:(0,a.iv)([u.l0.position.relative]),button:(0,a.iv)([u.l0.position.relative,tn.gU.nofill,u.l0.width(32),u.l0.height(32),u.l0.borderRadius(8,0,0,8)]),notificationDot:(0,a.iv)(u.l0.display.none)},Mc=function(){var e=(0,kn.Z)(),n=Bc(e),t=Ec(e),r=(0,z.LR)(),i=(0,z.cT)();return(0,o.tZ)(p.G,{css:[u.l0.flex.row,u.l0.align.center,{"&:only-child .open-chat-button":[u.l0.width(24),u.l0.height(24),u.l0.borderRadius(8),tn.gU.listItem],"&:only-child .notification-dot-on-button":[u.l0.display.block],"&:not(:only-child) .notification-dot-on-icon":[u.l0.display.block]}],children:(0,o.tZ)(nn.h,{alt:"Open Chat and Threads",onClick:function(){r(),i({pane:{type:"chat"}})},css:Gc.button,className:"open-chat-button",children:(0,o.BX)(o.HY,{children:[n>0||t>0?(0,o.tZ)(p.G,{className:"notification-dot-on-button",css:Gc.notificationDot,children:(0,o.tZ)(Cl.B,{})}):null,(0,o.BX)(p.G,{css:Gc.container,children:[n>0||t>0?(0,o.tZ)(p.G,{className:"notification-dot-on-icon",css:Gc.notificationDot,children:(0,o.tZ)(Cl.B,{})}):null,(0,o.tZ)(oc.Z,{})]})]})})})},Dc=t(80567),Pc=t(68608),jc=t(95499),_c=t(22847),Uc=t(10224),Xc=t(590),Vc=t(32079),zc=t(64517);function Wc(){var e=(0,ce.Z)(["\n  fragment ReplEnvironmentDesktopMyReplsSearchRepl on Repl {\n    id\n    title\n    timeUpdated\n    url\n    iconUrl\n    owner {\n      ... on User {\n        id\n        username\n        image\n      }\n      ... on Team {\n        id\n        username\n        image\n      }\n    }\n  }\n"]);return Wc=function(){return e},e}function Ac(){var e=(0,ce.Z)(["\n  query ReplEnvironmentDesktopMyReplsSearch($query: String, $count: Int) {\n    currentUser {\n      id\n      search {\n        repls(query: $query, count: $count) {\n          id\n          ...ReplEnvironmentDesktopMyReplsSearchRepl\n        }\n      }\n    }\n  }\n  ","\n"]);return Ac=function(){return e},e}var Fc=(0,ue.Ps)(Wc()),Nc=(0,ue.Ps)(Ac(),Fc);var Oc=(0,G.X)({root:[u.l0.rowWithGap(8),u.l0.align.center,u.l0.px(8),{textDecoration:"none"}],info:[u.l0.colWithGap(2),u.l0.flex.growAndShrink(1)],meta:{fontSize:10}});function Hc(e){var n=e.repl,t=e.height,r=e.isActive,i=e.search,a=n.title,l=(0,h.useMemo)((function(){return i?ut.Z.match(i,a):null}),[i,a]);return(0,o.tZ)(mi(),{href:n.url,passHref:!0,children:(0,o.BX)(p.G,{tag:"a",style:{height:t},css:Oc.root,children:[(0,o.tZ)(Xc.ZP,{alt:n.title,size:32,iconUrl:n.iconUrl}),(0,o.BX)(p.G,{css:Oc.info,children:[(0,o.tZ)(Vc.x,{text:n.title,highlight:null===l||void 0===l?void 0:l.ranges,dimmed:!r}),(0,o.BX)(d.xv,{css:Oc.meta,color:"dimmest",children:[n.owner.username," \u2022 edited ",(0,zc.F)(n.timeUpdated)]})]})]})})}function qc(e,n){return function(){return{score:1,render:{height:44,content:(0,o.tZ)(Hc,{repl:n,height:44,search:e})}}}}function $c(e){return Yc.apply(this,arguments)}function Yc(){return Yc=(0,r.Z)((function(e){var n,t;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:if(!vs.l)throw new Error("Expected apolloClient");return[4,vs.l.query({query:Nc,variables:e})];case 1:return t=r.sent().data,[2,(null===(n=t.currentUser)||void 0===n?void 0:n.search.repls.filter((function(e){return Boolean(e.owner)})))||[]]}}))})),Yc.apply(this,arguments)}function Kc(e){var n=e.description,t=e.onRun,a=(0,hl.Z)(t);return(0,j.Z)((function(){return{match:(0,U.zf)({defaultScore:.5}),data:{type:"context",label:"My Repls",icon:(0,o.tZ)(Uc.Z,{}),description:n},commands:function(e){var n=e.search,t=e.active;return(0,r.Z)((function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return t?[4,$c({query:n,count:50})]:[2,[]];case 1:return[2,e.sent().map((function(e){return function(e){var n=e.repl,t=e.search,r=e.run;return{match:qc(t,n),data:{type:"action",label:n.title,icon:(0,o.tZ)(Xc.ZP,{alt:n.title,size:16,iconUrl:n.iconUrl}),run:function(){return r(n)}}}}({repl:e,search:n,run:function(){return a.current(e)}})}))]}}))}))()}}}),[n,a])}var Qc=t(31743),Jc={nextTab:{id:"tabs.next",name:"Switch to next tab",default:void 0},previousTab:{id:"tabs.previous",name:"Switch to previous tab",default:void 0},newTab:{id:"tabs.new",name:"New tab",description:"Opens a tab in the current active group",default:(0,ae.Z)({},le.Bd.DesktopApp,(0,Tr.l2)({cmdOrCtrl:!0,key:"t"}))},closeTab:{id:"tabs.close",name:"Close tab",description:"Close the current active tab",default:(0,ae.Z)({},le.Bd.DesktopApp,(0,Tr.l2)({cmdOrCtrl:!0,key:"w"}))},reopenClosedTab:{id:"tabs.reopenClosed",name:"Reopen closed tab",default:(0,ae.Z)({},le.Bd.DesktopApp,(0,Tr.l2)({cmdOrCtrl:!0,shift:!0,key:"t"}))},findFile:{id:"files.find",name:"Find file",default:(0,Tr.l2)({cmdOrCtrl:!0,key:"p"})},searchFileContents:{id:"files.searchContents",name:"Search file contents",default:V.q},run:{id:"repl.run",name:"Run Repl",default:(0,Tr.l2)({cmdOrCtrl:!0,key:"Enter"})},toggleInviteDialog:{id:"repl.multiplayers",name:"See multiplayers",default:(0,Tr.l2)({cmdOrCtrl:!0,key:"m"})},showShell:{id:"repl.showShell",name:"Show shell",default:(0,Tr.l2)({cmdOrCtrl:!0,shift:!0,key:"s"}),description:"Opens or reveals a Shell in a tab"},showConsole:{id:"repl.showConsole",name:"Show console",description:"Opens or reveals the Console in a tab",default:void 0},showDocs:{id:"repl.showDocs",name:"Show docs",description:"Opens or reveals the Replit Docs in a tab",default:void 0},showGhostwriter:{id:"repl.showGhostwriter",name:"Show Ghostwriter",description:"Opens or reveals Ghostwriter in a tab",default:void 0},showSettings:{id:"repl.showSettings",name:"Show settings",description:"Opens or reveals the Settings tab",default:void 0},showGit:{id:"repl.showGit",name:"Show git",description:"Opens or reveals the Git tool in a tab",default:void 0},toggleFloatPaneGroup:{id:"paneGroup.toggleFloat",name:"Toggle float group",description:"Floats or un-floats the current active group",default:void 0},toggleMaximizePaneGroup:{id:"paneGroup.toggleMaximize",name:"Toggle maximize group",description:"Maximizes or restores the current active group",default:void 0},removePaneGroup:{id:"paneGroup.close",name:"Close group",description:"Closes all tabs in the current active group",default:void 0},removeOthersInPaneGroup:{id:"paneGroup.closeOthers",name:"Close other tabs in group",description:"Closes all tabs except the visible one in the current active group",default:void 0},insertPaneGroupUp:{id:"paneGroup.insertUp",name:"Insert group above",description:"Adds a new group above the current active group",default:void 0},insertPaneGroupRight:{id:"paneGroup.insertRight",name:"Insert group right",description:"Adds a new group to the right of the current active group",default:void 0},insertPaneGroupLeft:{id:"paneGroup.insertLeft",name:"Insert group left",description:"Adds a new group to the left of the current active group",default:void 0},insertPaneGroupDown:{id:"paneGroup.insertDown",name:"Insert group below",description:"Adds a new group below the current active group",default:void 0},moveTabUpGroup:{id:"tabs.move.groupUp",name:"Move tab into group above",description:"Moves the current active tab into the group above",default:void 0},moveTabRightGroup:{id:"tabs.move.groupRight",name:"Move tab into group right",description:"Moves the current active tab into the group to the right",default:void 0},moveTabLeftGroup:{id:"tabs.move.groupLeft",name:"Move tab into group left",description:"Moves the current active tab into the group to the left",default:void 0},moveTabDownGroup:{id:"tabs.move.groupDown",name:"Move tab into group below",description:"Moves the current active tab into the group below",default:void 0},moveFocusUp:{id:"paneGroup.focusUp",name:"Move focus to group above",description:"Move focus to the group above the current active group",default:void 0},moveFocusRight:{id:"paneGroup.focusRight",name:"Move focus to group right",description:"Move focus to the group to the right of the current active group",default:void 0},moveFocusLeft:{id:"paneGroup.focusLeft",name:"Move focus to group left",description:"Move focus to the group to the left of the current active group",default:void 0},moveFocusDown:{id:"paneGroup.focusDown",name:"Move focus to group below",description:"Move focus to the group below the current active group",default:void 0}},eu=Object.values(Jc);function nu(e){var n=e.isAdmin,t=e.isServer,r=e.hostedUrl,i=kr(),a=(0,h.useState)(!1),l=a[0],s=a[1],c=(0,W.AA)(),u=(0,_.Z)(),d=u.fs,p=u.container,f=u.runner,m=(0,an.L7)(f),v=(0,A.T)(),g=(0,z.CA)(),Z=(0,z.km)(),b=(0,z.ii)(),x=(0,z.HM)(),y=(0,z.zs)(),w=(0,z.Fh)(),k=(0,z.je)(),L=(0,z.Hb)(),S=(0,z._F)(),R=(0,z.uD)(),I=(0,z.OO)(),T=(0,z.Lo)().toggleMaximizePane,B=(0,z.lI)(),E=(0,z.Kt)(),G=(0,z.DR)(),M=(0,z.Bd)(),D=(0,Qc.Y6)(S);(0,xr.Il)((function(){return[Jc.newTab.id,function(){return Z()}]}),[Z]),(0,xr.Il)((function(){return[Jc.nextTab.id,function(){return L("next")}]}),[L]),(0,xr.Il)((function(){return[Jc.previousTab.id,function(){return L("previous")}]}),[L]),(0,xr.Il)((function(){return[Jc.closeTab.id,function(){return b()}]}),[b]),(0,xr.Il)((function(){return[Jc.reopenClosedTab.id,function(){return w()}]}),[w]),(0,xr.Il)((function(){return[Jc.moveTabUpGroup.id,function(){return y("above")}]}),[y]),(0,xr.Il)((function(){return[Jc.moveTabRightGroup.id,function(){return y("rightOf")}]}),[y]),(0,xr.Il)((function(){return[Jc.moveTabLeftGroup.id,function(){return y("leftOf")}]}),[y]),(0,xr.Il)((function(){return[Jc.moveTabDownGroup.id,function(){return y("below")}]}),[y]),(0,xr.Il)((function(){return S?[Jc.insertPaneGroupUp.id,function(){return M({paneId:S,placement:"above",autoFocus:!0})}]:void 0}),[S]),(0,xr.Il)((function(){return S?[Jc.insertPaneGroupRight.id,function(){return M({paneId:S,placement:"rightOf",autoFocus:!0})}]:void 0}),[S]),(0,xr.Il)((function(){return S?[Jc.insertPaneGroupLeft.id,function(){return M({paneId:S,placement:"leftOf",autoFocus:!0})}]:void 0}),[S]),(0,xr.Il)((function(){return S?[Jc.insertPaneGroupDown.id,function(){return M({paneId:S,placement:"below",autoFocus:!0})}]:void 0}),[S]),(0,xr.Il)((function(){return[Br.id,function(){return i()}]}),[i]);var P=(0,xr.gf)(Jc.findFile.id);(0,xr.Il)((function(){return[Jc.findFile.id,function(){return i(X.i({openFile:g,fs:d,shouldHideFile:v,getRecentFiles:c,keyboardShortcut:P}))}]}),[i]),Er(X.i({openFile:g,fs:d,shouldHideFile:v,getRecentFiles:c,keyboardShortcut:P}));var j=(0,xr.gf)(Jc.searchFileContents.id),F=(0,C.P5)({controlName:"flag-search-replace-clui",default:!1,type:"boolean"}),N=(0,z.Vz)(),O=(0,C.P5)({controlName:"flag-search-replace-pane"});(0,xr.Il)((function(){return[Jc.searchFileContents.id,function(){if(O){var e,n=void 0;if("codeEditor"===(null===D||void 0===D?void 0:D.type))n=null===(e=D.getCurrentSelectionText)||void 0===e?void 0:e.call(D);var t={type:"searchReplace",data:{initialQuery:n}},r=N({pane:t,activate:!0});n&&x({paneId:r,pane:t})}else i(V.F({container:p,keyboardShortcut:j,openFile:g,flagSearchReplaceCLUI:F}))}]}),[D,i,g,O,F,N,x]),(0,xr.Il)((function(){return S?[Jc.toggleFloatPaneGroup.id,function(){return I(S)}]:void 0}),[S]),(0,xr.Il)((function(){return S?[Jc.toggleMaximizePaneGroup.id,function(){return T(S)}]:void 0}),[S]),(0,xr.Il)((function(){return R?[Jc.removePaneGroup.id,function(){B({paneGroupId:R}),G()}]:void 0}),[R]),(0,xr.Il)((function(){return S?[Jc.removeOthersInPaneGroup.id,function(){E(S)}]:void 0}),[S]),(0,xr.Il)((function(){return[Jc.moveFocusUp.id,function(){return k("above")}]}),[]),(0,xr.Il)((function(){return[Jc.moveFocusDown.id,function(){return k("below")}]}),[]),(0,xr.Il)((function(){return[Jc.moveFocusRight.id,function(){return k("rightOf")}]}),[]),(0,xr.Il)((function(){return[Jc.moveFocusLeft.id,function(){return k("leftOf")}]}),[]),Er(q()),Er(V.F({container:p,keyboardShortcut:j,openFile:g,flagSearchReplaceCLUI:F})),(0,xr.Il)((function(){if(m!==jc.A.OFFLINE)return[Jc.run.id,function(){m===jc.A.RUNNING&&f.stopRun(),f.run()}]}),[m]);var H=(0,xr.gf)(Jc.run.id);return Er({match:U.pl,data:{type:"action",icon:(0,o.tZ)(Dc.Z,{}),label:"Run",description:"Run Repl",run:function(){f.run()},keyboardShortcut:H}},{enabled:m===jc.A.IDLE}),Er({match:U.pl,data:{type:"action",icon:(0,o.tZ)(Pc.Z,{}),label:"Stop",description:"Stop Repl",run:function(){f.stopRun()}}},{enabled:m===jc.A.RUNNING}),Er({match:U.pl,data:{type:"action",icon:(0,o.tZ)(_c.Z,{}),label:"Kill 1",description:"Kill the Repl pid1 process if it's in a bad state (admin only)",run:function(){p.exec("kill","1")}}},{enabled:n}),Er({match:U.pl,data:{type:"action",icon:(0,o.tZ)(fa.Z,{}),label:"Open development URL",run:function(){window.open(r,"_blank")}}},{enabled:t}),Er(Kc({description:"Jump to another Repl",onRun:function(e){window.location.href=e.url}})),Er({match:(0,U.zf)({defaultScore:.5}),data:{type:"action",label:"Create",icon:(0,o.tZ)($.Z,{}),description:"Create a new Repl",run:function(){s(!0)}}}),(0,o.tZ)(on.u,{isOpen:l,onRequestClose:function(){return s(!1)},maxWidth:600,centered:!0,children:(0,o.tZ)(li.Z,{})})}var tu,ru=(0,h.memo)(nu),iu=t(58727),ou=t(45040),au=t(38817),lu=t(91816),su=t(49660),cu=[le.Sy.Submit,le.Sy.Resubmit,le.Sy.UpdateModelSolution,le.Sy.PublishTemplate,le.Sy.EditTemplate,le.Sy.ReviewSubmission],uu={root:(0,a.iv)([u.l0.height(60),u.l0.width("100%"),u.l0.top(0),u.l0.left(0),u.l0.flex.row,u.l0.align.center,u.l0.justify.spaceBetween,u.l0.py(8),u.l0.px(12),u.l0.position.absolute,{userSelect:"none"}]),center:(0,a.iv)([u.l0.height(42),u.l0.justify.center,u.l0.noDragRegion,(tu={},(0,ae.Z)(tu,u.BC.max("tabletMin"),[u.l0.rowWithGap(8),u.l0.align.center]),(0,ae.Z)(tu,u.BC.min("tabletMin"),[u.l0.position.absolute,{transform:"translate(-50%, -50%)",left:"50%",top:"50%"}]),tu)]),right:(0,a.iv)([u.l0.rowWithGap(8),u.l0.align.center,u.l0.justify.end,u.l0.noDragRegion]),socialGroup:(0,a.iv)([u.l0.flex.row,u.l0.align.stretch,u.l0.borderRadius(8)]),inviteButton:(0,a.iv)([tn.gU.nofill,u.l0.borderRadius(0,8,8,0),(0,ae.Z)({},u.BC.max("tabletMax"),{svg:[u.l0.mr(0)],span:[u.l0.display.none]})]),divider:(0,a.iv)(u.l0.height("100%"))},du={macOSRoot:[uu.root,u.l0.dragRegion,{paddingLeft:au.T+24}]};function pu(e){var n,t,r,i,a=(0,w.useRouter)(),l=(0,_.Z)(),s=l.runner,c=l.presence,m=(0,kn.Z)(),v=(0,L.Z)(h.useState(!1),2),g=v[0],Z=v[1],y=(0,b.e)(f.y.Run),k=(0,b.e)(f.y.Share),S=(0,di.Z)(f.y.NotificationsButton),R=(0,Os.Z)(),I=(0,su.NJ)(),T=(0,L.Z)(h.useState(!1),2),B=T[0],E=T[1],G=function(e){var n=(0,se.Z)({},qe,e);return de.a(Ke,n)}({variables:{id:m}}).data,M=(0,z.cT)(),D=Sn(),P=kr(),j=(0,Ln.Z)({presence:c}),X=(0,C.P5)({controlName:"flag-toolchain-multiple-runners"}),V=(0,C.P5)({controlName:"flag-deployments"}),W=(0,iu.c)(),A=(0,C.P5)({controlName:"flag-multiplayer-management-2"}),F="Repl"===(null===G||void 0===G?void 0:G.repl.__typename)?G.repl:null,N=(null===F||void 0===F?void 0:F.multiplayers)&&F.multiplayers.length>0,H=(0,h.useRef)(null),q=(0,h.useRef)(null),$=(0,h.useRef)(g&&(null===k||void 0===k?void 0:k.isActive));(0,h.useEffect)((function(){$.current&&!(null===k||void 0===k?void 0:k.isActive)&&Z(!1),$.current=g&&(null===k||void 0===k?void 0:k.isActive)}),[k,g]),(0,h.useEffect)((function(){(null===k||void 0===k?void 0:k.isActive)&&(g&&q.current?null===k||void 0===k||k.delegateTooltip(q.current):k.delegateTooltip(H.current))}),[k,g,q]);var Y="Team"===(null===F||void 0===F||null===(n=F.owner)||void 0===n?void 0:n.__typename),K=Boolean("Team"===(null===F||void 0===F||null===(t=F.owner)||void 0===t?void 0:t.__typename)&&(null===(r=null===F||void 0===F?void 0:F.owner.capabilities)||void 0===r?void 0:r.isEducationPlan)),Q=cu.find((function(e){return e===(null===F||void 0===F?void 0:F.workspaceCta)})),J=!K&&(null===F||void 0===F?void 0:F.currentUserPermissions.editMultiplayers),ee=Boolean(V&&(null===F||void 0===F?void 0:F.hostingDeploymentPermissions.canDeploy)&&!W);(0,xr.Il)((function(){if(!K)return[Jc.toggleInviteDialog.id,function(){return Z((function(e){return!e}))}]}),[Z]);var ne=(0,xr.gf)(Jc.toggleInviteDialog.id);Er({match:U.pl,data:{type:"action",label:"Multiplayer",icon:(0,o.tZ)(Vt.Z,{}),description:"Open multiplayer mode",keyboardShortcut:ne,run:function(){Z(!0)}}},{enabled:!K});var te=(0,xr.gf)(Jc.run.id),re=(0,xr.gf)(Br.id);return(0,o.BX)(Je.T,{tag:"header",css:R&&I?du.macOSRoot:uu.root,children:[(0,o.tZ)(Ks,{repl:e.repl,currentUser:e.currentUser}),(0,o.tZ)(p.G,{innerRef:null===y||void 0===y?void 0:y.delegateTooltip,dataCy:"ws-run-btn",onClick:function(){(null===y||void 0===y?void 0:y.isActive)&&y.next()},css:uu.center,children:X?(0,o.tZ)(Sc,{runner:s,shortcut:te}):(0,o.tZ)(an.ZP,{runner:s,disableTooltip:null===y||void 0===y?void 0:y.isActive,shortcut:te})}),(0,o.BX)(p.G,{css:uu.right,children:[(null===F||void 0===F?void 0:F.lesson)?(0,o.tZ)(Qr,{lesson:F.lesson}):null,(0,o.tZ)(nn.h,{size:24,onClick:function(){P()},alt:"Search & run commands",tooltipContents:(0,o.BX)(p.G,{children:[(0,o.tZ)(d.xv,{children:"Search & run commands"}),re?(0,o.tZ)(p.G,{css:[u.l0.center,u.l0.pt(4)],children:(0,o.tZ)(xr.bM,{keyCombo:re})}):null]}),tooltipPlacement:"bottom-end",children:(0,o.tZ)(O.Z,{})}),(0,o.BX)(Je.T,{css:[uu.socialGroup],background:j.length>1||J?"default":"root",children:[N?(0,o.tZ)(Mc,{}):null,N&&j.length>1?(0,o.tZ)(p.G,{children:(0,o.tZ)(rn.X,{css:uu.divider})}):null,A?(0,o.tZ)(Yn,{onAvatarClick:D}):(0,o.tZ)(Dn,{onAvatarClick:D}),J&&(j.length>1||N)?(0,o.tZ)(p.G,{children:(0,o.tZ)(rn.X,{css:uu.divider})}):null,J?(0,o.tZ)(o.HY,{children:(0,o.tZ)(p.G,{innerRef:H,css:{"&:only-child .invite-button":[u.l0.borderRadius(8)]},children:(0,o.tZ)(Ct,{showPopover:F.currentUserPermissions.inviteGuests,children:A?(0,o.BX)(yt.x,{isOpen:g,placement:"bottom end",label:"Invite",css:u.l0.width(400),onOpenChange:function(e){!g||B?(e&&(0,x.j)(x.U3.INVITE_MODAL_OPENED,{replId:F.id,source:"replEnvironment"}),Z(e)):Z(!1)},noArrow:!0,children:[(0,o.tZ)(en.zx,{iconLeft:(0,o.tZ)(Qe.Z,{}),text:"Invite",css:[uu.inviteButton],className:"invite-button"}),(0,o.tZ)("div",{ref:q,children:(0,o.tZ)(Nt,{handleUpgradeTriggered:function(e){return E(e)},replId:m,isTeamRepl:Y})})]}):(0,o.tZ)(en.zx,{onClick:function(){(0,x.j)(x.U3.INVITE_MODAL_OPENED,{replId:F.id,source:"replEnvironment"}),Z(!0)},iconLeft:(0,o.tZ)(Qe.Z,{}),text:"Invite",css:[uu.inviteButton],className:"invite-button"})})})}):null]}),ee&&F?(0,o.tZ)(mc,{repl:F}):null,W?(0,o.tZ)(en.zx,{text:"Extension Devtools",iconLeft:(0,o.tZ)(ou.Z,{}),onClick:function(){M({pane:{type:"extensionDevtools"}})}}):null,Q?(0,o.tZ)(vr,{cta:Q,replId:m,isGroupProject:Boolean(null===F||void 0===F||null===(i=F.template)||void 0===i?void 0:i.isGroupProject),openIOtesterPane:function(){M({pane:{type:"autograder"}})}}):null,R?(0,o.tZ)(lu.S,{}):(0,o.BX)(o.HY,{children:[(0,o.tZ)(p.G,{innerRef:S,children:(0,o.tZ)(rc.Z,{sidebarIsOpen:!0,pathname:a.pathname,showCount:!1})}),(0,o.tZ)(nc,{})]})]}),A?null:(0,o.tZ)(on.u,{isOpen:g,onRequestClose:function(){return Z(!1)},children:(0,o.tZ)(p.G,{innerRef:q,children:Y?(0,o.tZ)(Zt,{replId:m}):(0,o.tZ)(Lt,{replId:m})})})]})}var fu=(0,h.memo)(pu),hu=t(31296),mu={base:(0,a.iv)([u.l0.position.absolute,u.l0.borderRadius(8),{pointerEvents:"none",border:"1px solid",transitionProperty:"border, box-shadow",transitionDuration:cn.H.duration,transitionTimingFunction:cn.H.timingFunction}]),floating:(0,a.iv)([{borderColor:u.TV.outlineDimmest},u.l0.shadow(2)]),dragging:(0,a.iv)([{borderColor:u.TV.outlineStronger},u.l0.shadow(3)]),active:(0,a.iv)([{borderColor:u.TV.outlineDimmer}])};function vu(e){var n=e.paneId,t=(0,z.L0)(n),r=(0,Gi.Z)(t.isFloating),i=(0,Gi.Z)(t.isActive),a=(0,Gi.Z)(t.isBeingDragged),l=(0,Gi.Z)(t.hasBorder),s=(0,Gi.Z)(t.headerHeight);return l?(0,o.tZ)(p.G,{style:{width:"calc(100% + 2px)",left:-1,height:"calc(100% + ".concat(s,"px + 2px)"),top:-(s+1)},css:[mu.base,r&&mu.floating,i&&mu.active,a&&mu.dragging]}):null}var gu=(0,h.memo)(vu),Zu=t(8952),bu=t(85647),xu=t(91309),yu=p.K.div,wu=(0,a.iv)([u.l0.width("100%"),u.l0.position.absolute,u.l0.left(0),{cursor:"ns-resize",zIndex:1,":hover":{transform:"scaleY(4)"}}]),Cu=(0,a.iv)([u.l0.height("100%"),u.l0.position.absolute,u.l0.top(0),{cursor:"ew-resize",zIndex:1,":hover":{transform:"scaleX(4)"}}]),ku=(0,a.iv)([u.l0.position.absolute,{zIndex:2,transform:"scale(2)",":hover":{transform:"scale(4)"}}]);function Lu(e){var n="topLeft"===e||"topRight"===e?"bottom":"top";return{transformOrigin:"".concat("topLeft"===e||"bottomLeft"===e?"right":"left"," ").concat(n)}}var Su={topLeft:(0,a.iv)([u.l0.top(0),u.l0.left(0),Lu("topLeft")]),topRight:(0,a.iv)([u.l0.top(0),u.l0.right(0),Lu("topRight")]),bottomLeft:(0,a.iv)([u.l0.bottom(0),u.l0.left(0),Lu("bottomLeft")]),bottomRight:(0,a.iv)([u.l0.bottom(0),u.l0.right(0),Lu("bottomRight")])};function Ru(e){var n=e.edge,t=e.size,r=e.onPointerDown;if("top"===n||"bottom"===n)return(0,o.tZ)(yu,{onPointerDown:r,style:(0,ae.Z)({height:t},n,-t),css:wu});if("right"===n||"left"===n)return(0,o.tZ)(yu,{onPointerDown:r,style:(0,ae.Z)({width:t},n,-t),css:Cu});var i="topLeft"===n||"bottomRight"===n?"nwse-resize":"nesw-resize";return(0,o.tZ)(yu,{onPointerDown:r,style:{height:t,width:t,cursor:i},css:[ku,Su[n]]})}var Iu=["bottom","right","left","bottomRight","bottomLeft"],Tu=(0,h.memo)((function(e){var n=(0,z.ze)();return(0,o.tZ)(o.HY,{children:Iu.map((function(t){return(0,o.tZ)(Ru,{size:8,edge:t,onPointerDown:function(r){Bi(r,{start:function(){n({type:"start",paneId:e.paneId,edge:t})},move:function(e){var t=e.delta;n({type:"update",moveDelta:t})},end:function(){n({type:"end"})}})}},t)}))})})),Bu=["top","right","left","topRight","topLeft"],Eu=(0,h.memo)((function(e){var n=(0,z.ze)();return(0,o.tZ)(o.HY,{children:Bu.map((function(t){return(0,o.tZ)(Ru,{size:8,edge:t,onPointerDown:function(r){Bi(r,{start:function(){n({type:"start",paneId:e.paneId,edge:t})},move:function(e){var t=e.delta;n({type:"update",moveDelta:t})},end:function(){n({type:"end"})}})}},t)}))})}));var Gu=(0,Di.$)(["fixedPositionOffsetX","fixedPositionOffsetY","transformX","transformY","scale","transformOriginX","width","height","transitionDuration","interactionBlanketDisplay","pointerEvents","userSelect"]),Mu=Gu.cssVars,Du=Gu.styleTokens,Pu=(0,a.iv)({transform:"translate(".concat(Du.fixedPositionOffsetX,", ").concat(Du.fixedPositionOffsetY,")")}),ju=(0,G.X)({root:[u.l0.position.absolute,u.l0.top(0),u.l0.left(0),u.l0.borderRadius(0,0,8,8),{transitionProperty:"transform",transitionTimingFunction:"ease-out",transform:"translate(".concat(Du.transformX,", ").concat(Du.transformY,") scale(").concat(Du.scale,")"),transformOrigin:"".concat(Du.transformOriginX," top"),width:Du.width,height:Du.height,transitionDuration:Du.transitionDuration,"--fixed-position-offset-x":Du.fixedPositionOffsetX,"--fixed-position-offset-y":Du.fixedPositionOffsetY}],container:[u.l0.position.relative,u.l0.width("100%"),u.l0.flex.growAndShrink(1),{overflow:"auto",zIndex:1,userSelect:Du.userSelect},!hu.gn&&{"& .cm-editor > .cm-tooltip":Pu,"& .cm-editor > .cm-tooltip.cm-tooltip-thread":{left:"0px !important",transform:"translateY(".concat(Du.fixedPositionOffsetY,"px)")},".cm-custom-context-menu":Pu,"& iframe":{pointerEvents:Du.pointerEvents}}],interactionBlanket:[u.l0.coverContainer,{zIndex:1,display:Du.interactionBlanketDisplay}]});function _u(e){var n=e.paneId,t=(0,Dr.T)(),r=(0,z.Xo)(),i=function(e){var n=e.paneId,t=(0,L.Z)((0,I.L)({accept:[T.Tv.File,B.z.Pane,B.z.NewPane],collect:function(e){return{isOver:e.isOver()}},hover:function(e,t){var r=t.getClientOffset();r&&o.drag({pageX:r.x,pageY:r.y,over:n})},drop:function(e,t){var r=t.getClientOffset();if(r)if(e.type!==B.z.Pane){if(e.type===T.Tv.File||e.type===T.Tv.Directory){var i=e.nodes.filter((function(e){return e.type===T.Tv.File})).map((function(e){return{type:(0,E.Dp)({path:e.path}),data:{path:e.path}}}));i.length>0&&o.drop({type:"newPaneGroup",panes:i,pageX:r.x,pageY:r.y,over:n})}if(e.type===B.z.NewPane){var a=e.pane;o.drop({type:"newPaneGroup",panes:[a],pageX:r.x,pageY:r.y,over:n})}}else o.drop({type:"pane",paneId:e.paneId,pageX:r.x,pageY:r.y,over:n})}}),2),r=t[0].isOver,i=t[1],o=(0,z.s7)({isOver:r});return i}({paneId:n}),a=(0,z.L0)(n),l=(0,Gi.Z)(a.isActive),s=(0,Gi.Z)(a.isFloating),c=(0,Gi.Z)(a.paneType),u=(0,Os.Z)(),d=(0,su.NJ)()&&u?S.Mz:0,f=s,m=!s,v=(0,h.useRef)(null);(0,Ei.jv)(v,a.size,(function(e){var n,t=e.width,r=e.height;return n={},(0,ae.Z)(n,Mu.width,t+"px"),(0,ae.Z)(n,Mu.height,r+"px"),n})),(0,Ei.jv)(v,a.transform,(function(e){var n,t=e.x,r=e.y,i=e.scale;return n={},(0,ae.Z)(n,Mu.transformX,Math.round(t)+"px"),(0,ae.Z)(n,Mu.transformY,Math.round(r)+"px"),(0,ae.Z)(n,Mu.scale,i.toString()),n})),(0,Ei.jv)(v,a.transformOriginXAtom,(function(e){return(0,ae.Z)({},Mu.transformOriginX,e)})),(0,Ei.jv)(v,a.viewportInset,(function(e){var n,t=e.x,r=e.y;return n={},(0,ae.Z)(n,Mu.fixedPositionOffsetX,-t+"px"),(0,ae.Z)(n,Mu.fixedPositionOffsetY,-r-d+"px"),n})),(0,Ei.jv)(v,a.isHidden,(function(e){return{opacity:e?"0":"1",visibility:e?"hidden":"visible"}})),(0,Ei.jv)(v,a.animate,(function(e){return(0,ae.Z)({},Mu.transitionDuration,e&&t?"140ms":"0ms")})),(0,Ei.jv)(v,a.zIndex,(function(e){return{"z-index":e.toString()}})),(0,Ei.jv)(v,a.disableInteractions,(function(e){var n;return n={},(0,ae.Z)(n,Mu.interactionBlanketDisplay,e?"block":"none"),(0,ae.Z)(n,Mu.userSelect,e?"none":"auto"),(0,ae.Z)(n,Mu.pointerEvents,e?"none":"auto"),n}));var g=l?void 0:function(){r(n,{commit:"codeEditor"!==c})};return(0,o.tZ)(Qc.Xq,{value:n,children:(0,o.tZ)(Je.T,{role:"tabpanel",id:n,"aria-labelledby":"tab-".concat(n),innerRef:(0,Ai.l)(v,m?i:void 0),css:ju.root,elevated:!0,children:(0,o.BX)(Zu.Z,{origin:"ErrorBoundary: PaneContainer",bsod:!0,tags:(0,j.Z)((function(){return{paneType:c}}),[c]),children:[(0,o.tZ)(gu,{paneId:n}),(0,o.tZ)(p.G,{css:ju.container,onMouseDown:g,onContextMenu:g,children:(0,o.tZ)(Xu,{paneId:n})}),f?(0,o.tZ)(Tu,{paneId:n}):null,(0,o.tZ)(p.G,{css:ju.interactionBlanket})]},n)})})}function Uu(e){var n=e.paneId,t=(0,E.Se)().Content,r=(0,z.L0)(n),i=(0,Gi.Z)(r.isHidden),a=(0,Gi.Z)(r.data),l=(0,Gi.Z)(r.isActive),s=(0,Gi.Z)(r.isCommitted);(0,bu.Np)(n,a);var c=(0,z.CA)(),u=(0,z.cT)(),d=(0,z.Vz)(),p=(0,z.HM)(),f=(0,z.Z0)(),h=(0,j.Z)((function(){return function(e){switch(e.operation){case"commit":f(n);break;case"open":if(e.secondary)d({pane:e.pane,activate:!0});else if((0,E.Ur)(e.pane)&&null!=e.pane.data.path){var t=e.pane.data,r=t.path,i=(0,oi.Z)(t,["path"]);c((0,se.Z)({path:r},i))}else u({pane:e.pane});break;case"replace":p({paneId:n,pane:e.pane});break;default:(0,xu.Z)(e)}}}),[f,u,c,n,d,p]);return(0,o.tZ)(t,{pane:a,options:{paneId:n,isHidden:i,performPaneOperation:h,isActive:l,isCommitted:s}})}var Xu=(0,h.memo)(Uu),Vu=(0,h.memo)(_u),zu=t(34495);var Wu=t(18988),Au=t(10422),Fu=t(31230),Nu=(0,G.X)({root:[u.l0.position.relative],count:[u.l0.top(-6),u.l0.right(-6),u.l0.minWidth(12),u.l0.borderRadius(8),u.l0.position.absolute,u.l0.backgroundColor.backgroundHighest,u.l0.shadow(3),{textAlign:"center",fontSize:10,border:"1px solid",borderColor:u.TV.outlineDefault}]});function Ou(e){var n=e.count,t=(0,oi.Z)(e,["count"]);return(0,o.BX)(p.G,{css:Nu.root,children:[(0,o.tZ)(ot.Z,(0,se.Z)({},t)),(0,o.tZ)(p.G,{css:Nu.count,children:n})]})}function Hu(e){var n=e.paneId,t=(0,z.L0)(n),r=(0,Gi.Z)(t.isCommitted),i=(0,z.Z0)();if(!r)return{match:U.pl,data:{type:"action",label:"Keep open",icon:(0,o.tZ)(Fu.Z,{}),run:function(){i(n)}}}}function qu(e){var n=e.paneId,t=e.paneGroupId,r=(0,E.Se)(),i=(0,z.ec)(n),a=(0,z.A)(),l=(0,z.Kt)(),s=(0,z.R5)({paneGroupId:t});return(0,j.Z)((function(){var e=r.getTitle(i),t=[{match:U.pl,data:{type:"action",label:"Close "+e,icon:(0,o.tZ)(ot.Z,{}),run:function(){a(n)}}}];return s&&s>1&&t.push({match:U.pl,data:{type:"action",label:"Close all other tabs",icon:(0,o.tZ)(Ou,{count:s-1}),run:function(){l(n)}}}),t}),[r,i,n,a,l,s])}var $u=function(e){return{data:e,match:U.pl}};var Yu=t(46699),Ku=t(94517),Qu=(0,G.X)({root:[u.l0.position.fixed,u.l0.top(0),u.l0.left(0),u.l0.borderRadius(8),u.l0.shadow(3),{border:"1px solid",borderColor:u.TV.outlineDefault}]});function Ju(e){var n=function(e){var n=e.paneId,t=e.paneGroupId,r=(0,Qc.Y6)(n),i=Hu({paneId:n}),a=nd({paneId:n}),l=qu({paneId:n,paneGroupId:t}),s=(0,E.Se)(),c=(0,z.ec)(n);return(0,j.Z)((function(){var e,n,t,u=null!==(n=null===r||void 0===r||null===(e=r.actions)||void 0===e?void 0:e.map(ed))&&void 0!==n?n:[],d=null!==(t=null===r||void 0===r?void 0:r.commands)&&void 0!==t?t:[];return{data:{type:"context",label:"Search actions",icon:(0,o.tZ)(s.Icon,{pane:c})},commands:function(){return(0,D.Z)(u).concat((0,D.Z)(d),[{data:{type:"group",key:"secondary"},commands:function(){return[i,a].concat((0,D.Z)(l)).filter(Boolean)}}])}}}),[r,s,c,i,a,l])}({paneGroupId:e.paneGroupId,paneId:e.paneId});(0,Ku.x)({key:"Escape"},{run:function(){e.close()}});var t=Math.round(e.x)+"px",r=Math.round(e.y)+"px";return(0,Au.createPortal)((0,o.tZ)(Wu.MT,{autoFocus:!0,restoreFocus:!0,children:(0,o.tZ)(Je.T,{elevated:!0,innerRef:e.menuRef,css:Qu.root,style:{transform:"translate(".concat(t,", ").concat(r,")"),width:e.width,maxHeight:e.maxHeight},children:(0,o.tZ)(M.X,{iconBreadcrumbs:!0,command:n,onSelect:function(n){"action"===n.data.type&&n.data.run(),e.close()}})})}),document.body)}var ed=function(e){return{data:e,match:U.pl}};function nd(e){var n=e.paneId,t=function(e){var n=e.paneId,t=(0,E.Se)(),r=(0,N.B)(),i=(0,z.FQ)();return(0,j.Z)((function(){return{data:{type:"context",label:"Tools",icon:(0,o.tZ)(F.Z,{})},commands:function(){return r.map((function(e){return{match:U.pl,data:{type:"action",label:t.getTitle(e),icon:t.Icon({pane:e}),run:function(){(0,x.j)(x.U3.TOOL_OPENED,{source:"Tab Menu",tool:e.type}),i({paneId:n,pane:e})}}}}))}}}),[r,t,i,n])}({paneId:n}),a=function(e){var n=e.paneId,t=(0,W.Bx)(),r=(0,z.Vu)(),i=(0,z.FQ)();return(0,j.Z)((function(){var e=r.map((function(e){return e.filePath})),a=t.filter((function(n){return!e.includes(n)}));return{data:{type:"context",label:"Recent",icon:(0,o.tZ)(P.Z,{})},commands:function(e){var t=e.search;return(0,X.w)({paths:a,search:t,run:function(e){var t=(0,E.Dp)({path:e});i({paneId:n,pane:{type:t,data:{path:e}}})}})}}}),[t,i,n,r])}({paneId:n}),l=function(e){var n=e.paneId,t=(0,_.Z)().fs,a=(0,z.FQ)();return(0,j.Z)((function(){return{match:U.pl,data:{type:"context",label:"Files",icon:(0,o.tZ)(Fu.Z,{})},commands:function(e){var o=e.search,l=e.active;return(0,r.Z)((function(){var e;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return o||l?[4,t.listFiles()]:[2,[]];case 1:if((e=r.sent()).error)return[2,[]];if(!e.files)throw new Error("Expected files");return[2,(0,X.w)({paths:e.files,search:o,run:function(e){var t=(0,E.Dp)({path:e});a({paneId:n,pane:{type:t,data:{path:e}}})}})]}}))}))()}}}),[t,a,n])}({paneId:n});return(0,j.Z)((function(){return{match:U.pl,data:{type:"context",label:"Change tab",icon:(0,o.tZ)(Yu.Z,{})},commands:function(e){var n=e.search,r=e.active;return n||r?[a,l,t]:[]}}}),[a,t,l])}var td=p.K.div;function rd(e){var n=e.paneId,t=e.paneGroupId,r=e.isActive,i=e.onClose,a=e.dragGroup,l=(0,oi.Z)(e,["paneId","paneGroupId","isActive","onClose","dragGroup"]),s=(0,z.L0)(n),c=(0,Gi.Z)(s.hasMovedWhileDragging),d=(0,Gi.Z)(s.isCommitted),p=(0,z.Z0)(),f=(0,z.ec)(n),m=(0,E.Se)(),v=m.getTitle(f),g=m.Icon({pane:f,size:16}),Z=(0,Dr.T)(),b=function(){var e=function(){o(null)},n=(0,h.useRef)(null),t=(0,h.useRef)(null),r=(0,h.useState)(null),i=r[0],o=r[1];return(0,h.useEffect)((function(){var r=function(n){n.target!==a&&n.target!==l&&((null===a||void 0===a?void 0:a.contains(n.target))||(null===l||void 0===l?void 0:l.contains(n.target))||e())},o=function(){i&&(0,gr.Z)(document.activeElement,HTMLIFrameElement)&&e()};if(i){var a=t.current,l=n.current;return window.addEventListener("blur",o),document.addEventListener("mousedown",r),function(){window.removeEventListener("blur",o),document.removeEventListener("mousedown",r)}}}),[i]),{tabContainerRef:n,state:i,toggleMenu:function(){if(i)e();else{var t=n.current;if(t){var r=t.getBoundingClientRect(),a=r.x,l=r.y+r.height+8,s=Math.min(Math.max(r.width,200),window.innerWidth-16-a),c=Math.min(500,window.innerHeight-l-16);o({x:a,y:l,width:s,maxHeight:c})}}},menuRef:t,closeMenu:e}}(),y=b.tabContainerRef,w=b.menuRef,C=b.toggleMenu,k=b.closeMenu,S=b.state,R=(0,L.Z)((0,ll.c)({type:B.z.Pane,item:function(){var e,t=(null===(e=y.current)||void 0===e?void 0:e.getBoundingClientRect().width)||80;return{type:B.z.Pane,paneId:n,width:t}},collect:function(e){return{isDragging:e.isDragging()}}}),2),I=R[0].isDragging,T=R[1],G=(0,z.y8)();(0,h.useEffect)((function(){return G(I)}),[G,I]);var M=(0,z.q6)({paneGroupId:t}).dnd,D=(0,h.useRef)(!1);(0,h.useEffect)((function(){a&&c&&(D.current=!0,window.addEventListener("click",(function(){D.current=!1})))}),[c,a]);var P=M&&a?function(e){1!==e.button&&Bi(e,{start:M.start,move:M.update,end:M.end})}:void 0;(0,h.useEffect)((function(){r&&y.current&&(0,zu.Z)(y.current,{behavior:Z?"auto":"smooth",scrollMode:"if-needed"})}),[r,Z,y]);var j=r?function(e){e.preventDefault(),C()}:void 0;return(0,o.BX)(o.HY,{children:[S&&r?(0,o.tZ)(Ju,{maxHeight:S.maxHeight,menuRef:w,x:S.x,y:S.y,width:S.width,close:k,paneId:n,paneGroupId:t}):null,(0,o.tZ)(td,{ref:y,css:I?[u.l0.width(0),u.l0.visibility.hidden]:[u.l0.px(2)],onAuxClick:function(e){1===e.button&&(e.preventDefault(),e.stopPropagation(),Xl.c_.addBreadcrumb({category:"pane",message:"Tab closed: "+f.type,data:{reason:"middle click"}}),(0,x.j)(x.U3.WS_TAB_CLOSED,{paneType:f.type}),i())},onMouseUp:function(e){1===e.button&&(e.preventDefault(),e.stopPropagation())},children:(0,o.tZ)(fd,{innerRef:P?void 0:T,title:v,icon:g,isActive:r,italicizeTitle:!!(0,E.Ur)(f)&&!d,paneId:n,onClick:function(){!D.current&&r&&(C(),p(n)),D.current=!1},onContextMenu:j,onMouseDown:function(e){r||(D.current=!0,Xl.c_.addBreadcrumb({category:"pane",message:"Tab clicked: "+f.type}),(0,x.j)(x.U3.WS_TAB_OPENED,{paneType:f.type}),l.onClick(),e.stopPropagation())},onPointerDown:P,onClose:function(){Xl.c_.addBreadcrumb({category:"pane",message:"Tab closed: "+f.type}),(0,x.j)(x.U3.WS_TAB_CLOSED,{paneType:f.type}),i()}})})]})}var id=p.K.button,od=(0,a.iv)([u.l0.display.inlineFlex,u.l0.height("100%"),u.l0.flex.row,u.l0.align.center,u.l0.borderRadius(8),{"& > *":u.l0.height("100%"),userSelect:"none",transitionProperty:"border",transitionDuration:cn.H.duration,transitionTimingFunction:cn.H.timingFunction,border:"1px solid transparent","&:hover":{border:"1px solid ".concat(tn.vb.interactiveBackground)}}]),ad=(0,a.iv)([u.l0.truncate,u.l0.maxWidth(180)]),ld=(0,a.iv)([u.l0.width(16),u.l0.height(16),u.l0.position.relative]),sd=(0,a.iv)([u.l0.cursor.pointer,u.l0.center,u.l0.rowWithGap(4),u.l0.pl(4),u.l0.pr(4),u.l0.focusRing,tn.gU.nofill,u.l0.borderRadius(8,0,0,8),{border:"none",font:"inherit",lineHeight:"normal",color:"inherit"}]),cd=(0,a.iv)([u.l0.center]);function ud(){return(0,o.tZ)(p.G,{css:cd,children:(0,o.tZ)(ni.Z,{size:12,color:u.TV.foregroundDefault})})}var dd=(0,G.X)({root:[u.l0.height("100%"),u.l0.center,{"& > div":u.l0.height("100%")}],button:[u.l0.height("100%"),u.l0.width(24),u.l0.center,u.l0.borderRadius(0,8,8,0),{"& svg":{minWidth:12,minHeight:12,width:12,height:12}}]});function pd(e){var n=e.onClick,t=e.tabIndex,r=e.isActive,i={borderLeft:"1px solid",borderColor:u.TV.backgroundHighest};return(0,o.tZ)(p.G,{css:dd.root,style:r?i:void 0,children:(0,o.tZ)(nn.h,{onClick:n,alt:"Close",tabIndex:t,css:dd.button,children:(0,o.tZ)(ot.Z,{})})})}function fd(e){var n=e.title,t=e.onClick,r=e.onContextMenu,i=e.onClose,a=e.isActive,l=e.italicizeTitle,s=e.innerRef,c=e.icon,f=e.onMouseDown,m=e.onPointerDown,v=e.paneId,g=h.useRef(null),Z=(0,L.Z)((0,Ul.XZ)(g,!1),4),b=Z[0],x=Z[1],y=Z[2],w=Z[3];return(0,Ul.Ym)(x,g),(0,o.BX)(Je.T,{elevated:a,innerRef:s,css:[od,a?u.l0.color.foregroundDefault:u.l0.color.foregroundDimmer],children:[(0,o.BX)(id,{role:"tab",ref:g,tabIndex:b,onKeyDown:y,onMouseDown:f,onClick:function(e){w(),t(e)},onPointerDown:m,onContextMenu:r,css:sd,"aria-selected":a,"aria-controls":v,id:"tab-".concat(v),children:[(0,o.tZ)(p.G,{css:[{opacity:a?1:.6},c&&ld],children:c||null}),(0,o.tZ)(d.xv,{css:[{fontStyle:l?"italic":"inherit"},ad],children:n}),a?(0,o.tZ)(ud,{}):null]}),a?(0,o.tZ)(vd,{paneId:v}):null,(0,o.tZ)(pd,{isActive:a,onClick:i,tabIndex:x?0:-1})]})}var hd=(0,G.X)({root:[u.l0.rowWithGap(0)],button:[u.l0.height("100%"),u.l0.center,u.l0.borderRadius(0)]});function md(e){var n=e.icon,t=e.run,r=e.label;return(0,o.tZ)(nn.h,{css:hd.button,onClick:function(){return t()},alt:r,children:n})}function vd(e){var n=e.paneId,t=(0,Qc.Y6)(n),r=null===t||void 0===t?void 0:t.actions;return(null===r||void 0===r?void 0:r.length)?(0,o.tZ)(p.G,{css:hd.root,children:r.map((function(e){var n=e.icon,t=e.label,r=e.run;return(0,o.tZ)(md,{icon:n,label:t,run:r},t)}))}):null}function gd(){var e=(0,_.Z)().presence,n=(0,L.Z)(h.useState(e.getFollowingUsers()),2),t=n[0],r=n[1];return h.useEffect((function(){return r(e.getFollowingUsers()),e.onFollowingUsersChanged((function(e){r(e.followingUsers)}))}),[e]),t}var Zd={root:(0,a.iv)([u.l0.rowWithGap(4),u.l0.align.center]),text:(0,a.iv)([u.l0.flex.shrink(1),u.l0.align.center]),username:(0,a.iv)([u.l0.flex.shrink(2),u.l0.maxWidth(140),u.l0.truncate])};function bd(){var e=gd();return 0===e.length?null:1===e.length?(0,o.tZ)(xd,{user:e[0]}):(0,o.BX)(d.xv,{variant:"small",color:"dimmest",css:Zd.text,children:[e.length," users are observing you"]})}function xd(e){var n=e.user,t=n.id,r=n.username,i=n.color,a=(0,Mn.pu)([t]),l={id:t,username:r,color:i,image:null===a||void 0===a?void 0:a.get(t)};return(0,o.BX)(p.G,{css:Zd.root,children:[(0,o.tZ)(dn.q,{size:16,src:l.image||null,username:l.username,ringColor:l.color}),(0,o.tZ)(d.xv,{variant:"small",color:"dimmer",css:Zd.username,children:r}),(0,o.tZ)(d.xv,{variant:"small",color:"dimmest",css:Zd.text,children:"is observing you"})]})}var yd={root:(0,a.iv)([u.l0.rowWithGap(4),u.l0.align.center]),text:(0,a.iv)([u.l0.flex.shrink(1),u.l0.align.center]),username:(0,a.iv)([u.l0.flex.shrink(2),u.l0.maxWidth(140),u.l0.truncate])};function wd(e){var n=e.id,t=e.username,r=e.color,i=(0,Mn.pu)([n]),a=(0,_.Z)().presence,l={id:n,username:t,color:r,image:null===i||void 0===i?void 0:i.get(n)};return(0,o.BX)(p.G,{css:yd.root,children:[(0,o.tZ)(dn.q,{size:16,src:l.image||null,username:l.username,ringColor:l.color}),(0,o.tZ)(d.xv,{css:yd.text,variant:"small",color:"dimmest",children:"Observing"}),(0,o.tZ)(d.xv,{css:yd.username,variant:"small",color:"dimmer",children:t}),(0,o.tZ)(nn.h,{alt:"Stop observing",size:18,onClick:function(){a.unfollowUser()},children:(0,o.tZ)(ot.Z,{})})]})}var Cd=t(37380);function kd(e){var n=e.activeFile,t=e.paneId,r=(0,z.Ek)(),i=(0,z.Fg)(),a=(0,z.dK)(),l=n&&(0,tr.gK)(n),s=(0,z.cr)({paneId:t}),c=function(e){var n=e.paneId,t=(0,Cd.Z)(),r=(0,z.cr)({paneId:n});return t&&r?t:null}({paneId:t}),d=function(e){var n=e.paneId,t=gd();return(0,z.cr)({paneId:n})&&t.length>0?t:null}({paneId:t}),f=null;return c?f=(0,o.tZ)(wd,{id:c.id,username:c.username,color:c.color}):l&&s&&n&&(f=r?(0,o.tZ)(en.zx,{css:[tn.gU.nofill],small:!0,iconLeft:(0,o.tZ)(nt.Z,{}),text:"Close preview",onClick:function(){i({type:"markdown"})}}):(0,o.tZ)(en.zx,{css:[tn.gU.nofill],small:!0,iconLeft:(0,o.tZ)(et.Z,{}),text:"Open preview",onClick:function(){n&&a({type:"markdown",data:{path:n}})}})),null!==f||d?(0,o.BX)(p.G,{css:[u.l0.px(4),u.l0.rowWithGap(8)],children:[d&&n?(0,o.tZ)(bd,{}):null,f]}):null}var Ld=p.K.div,Sd=(0,a.iv)([u.l0.flex.growAndShrink(1),u.l0.minWidth(16),u.l0.height("100%")]);function Rd(e){var n=e.paneGroupId,t=(0,z.q6)({paneGroupId:n}),r=t.isDragging,i=t.dnd,a=(0,z.Lo)().toggleMaximizedPaneGroup,l=(0,z.oL)(n),s=(0,Gi.Z)(l.isMaximized);if(!i)return null;var c=r?"grabbing":"grab";return(0,o.tZ)(Ld,{onDoubleClick:function(){a({paneGroupId:n})},css:Sd,style:{cursor:s?void 0:c},onPointerDown:s?void 0:function(e){0===e.button&&Bi(e,{start:i.start,move:i.update,end:i.end})}})}function Id(e){var n,t=null!==(n=e.size)&&void 0!==n?n:20;return(0,o.tZ)(p.G,{css:[u.l0.center,{fontSize:u.TV.fontSizeSmall,border:"1px solid",borderColor:u.TV.outlineDefault},u.l0.borderRadius(8)],style:{width:t,height:t},children:(0,o.tZ)(p.G,{css:{lineHeight:1},children:e.count})})}var Td=t(96799),Bd=t(42968),Ed=t(6467),Gd=t(38666),Md=t(69778),Dd=t(85462),Pd=t(56),jd=t(51492),_d=t(4252),Ud=t(20324),Xd=new Map([["leftOf",{commandId:Jc.insertPaneGroupUp.id,label:"Insert Left",icon:(0,o.tZ)(Md.Z,{})}],["rightOf",{commandId:Jc.insertPaneGroupRight.id,label:"Insert Right",icon:(0,o.tZ)(Dd.Z,{})}],["above",{commandId:Jc.insertPaneGroupLeft.id,label:"Insert Up",icon:(0,o.tZ)(Pd.Z,{})}],["below",{commandId:Jc.insertPaneGroupDown.id,label:"Insert Down",icon:(0,o.tZ)(jd.Z,{})}]]);function Vd(e){var n=function(e){var n=e.paneId,t=e.paneGroupId,r=(0,Ud.xF)(),i=(0,z.Bd)(),o=(0,z.oL)(t),a=(0,Gi.Z)(o.isMaximized),l=(0,Gi.Z)(o.isFloating),s=!a&&!l;return(0,j.Z)((function(){return s?(0,D.Z)(Xd.entries()).map((function(t){var o,a=(0,L.Z)(t,2),l=a[0],s=a[1],c=s.commandId,u=s.label,d=s.icon;return{match:U.pl,data:{label:u,icon:d,type:"action",keyboardShortcut:null!==(e=null===(o=r.get(c))||void 0===o?void 0:o.shortcut)&&void 0!==e?e:void 0,run:function(){i({placement:l,paneId:n,autoFocus:!0}),(0,x.j)(x.U3.WS_SPLIT_USED,{action:"opened",placement:l})}}}})):[];var e}),[s,r,i,n])}({paneId:e.paneId,paneGroupId:e.paneGroupId});return(0,j.Z)((function(){var e=n;return[{match:U.pl,data:{type:"context",label:"Add pane",icon:(0,o.tZ)(_d.Z,{})},commands:function(n){var t=n.active,r=n.search;return t||r?e:[]}}]}),[n])}function zd(e){var n=e.paneGroupId,t=e.paneId,r=Vd({paneId:t,paneGroupId:n}),i=function(e){var n=e.paneGroupId,t=(0,z.Lo)(),r=t.maximizePaneGroup,i=t.restoreMaximizedPaneGroup,a=(0,z.oL)(n),l=(0,Gi.Z)(a.isMaximized),s=(0,xr.gf)(Jc.toggleMaximizePaneGroup.id);return(0,j.Z)((function(){return l?[{match:U.pl,data:{type:"action",label:"Restore",icon:(0,o.tZ)(Gd.Z,{}),run:function(){return i()},keyboardShortcut:s}}]:[{match:U.pl,data:{type:"action",label:"Maximize",icon:(0,o.tZ)(Ed.Z,{}),run:function(){return r({paneGroupId:n})},keyboardShortcut:s}}]}),[l,s,i,r,n])}({paneGroupId:n}),a=function(e){var n=e.paneGroupId,t=(0,z.lI)(),r=(0,z.DR)(),i=(0,xr.gf)(Jc.removePaneGroup.id);return(0,j.Z)((function(){return[{match:U.pl,data:{type:"action",label:"Close",icon:(0,o.tZ)(ot.Z,{}),run:function(){r(),t({paneGroupId:n})},keyboardShortcut:i}}]}),[r,t,i,n])}({paneGroupId:n}),l=function(e){var n=e.paneId,t=e.paneGroupId,r=(0,z.OO)(),i=(0,z.oL)(t),a=(0,Gi.Z)(i.isMaximized),l=(0,Gi.Z)(i.isFloating),s=(0,xr.gf)(Jc.toggleFloatPaneGroup.id);return(0,j.Z)((function(){return a?[]:[{match:U.pl,data:{type:"action",label:l?"Unfloat":"Float",icon:l?(0,o.tZ)(Td.Z,{}):(0,o.tZ)(Bd.Z,{}),keyboardShortcut:s,run:function(){r(n)}}}]}),[n,r,s,l,a])}({paneId:t,paneGroupId:n});return(0,j.Z)((function(){return[{data:{type:"group",key:"pane-group"},commands:function(){return(0,D.Z)(r).concat((0,D.Z)(i),(0,D.Z)(l),(0,D.Z)(a))}}]}),[r,i,l,a])}function Wd(e){var n=e.paneGroupId,t=e.paneId,r=function(e){var n=e.paneId,t=e.paneGroupId,r=(0,E.Se)(),i=(0,z.ec)(n),a=(0,Qc.Y6)(n),l=Hu({paneId:n}),s=qu({paneId:n,paneGroupId:t});return(0,j.Z)((function(){var e,n,t,c=r.getTitle(i),u=null!==(n=null===a||void 0===a||null===(e=a.actions)||void 0===e?void 0:e.map($u))&&void 0!==n?n:[],d=null!==(t=null===a||void 0===a?void 0:a.commands)&&void 0!==t?t:[],p=(0,D.Z)(u).concat((0,D.Z)(d),[{data:{type:"group",key:"pane-close"},commands:function(){return[l].concat((0,D.Z)(s)).filter(Boolean)}}]),f={match:U.pl,data:{type:"context",label:c,icon:(0,o.tZ)(r.Icon,{pane:i})},commands:function(e){var n=e.active,t=e.search;return n||t?p:[]}};return f}),[i,a,r,l,s])}({paneId:t,paneGroupId:n}),i=function(e){var n=e.paneGroupId,t=e.paneId,r=(0,z.FZ)(),i=(0,E.Se)(),a=(0,z.VD)(),l=(0,z.Eh)(),s=nd({paneId:t});return(0,j.Z)((function(){var e=r.tiling,t=r.floating,c=e.reduce((function(e,n){return e+n.panes.length}),0)+t.reduce((function(e,n){return e+n.panes.length}),0),u={match:U.pl,data:{type:"action",label:"New tab",icon:(0,o.tZ)($.Z,{}),run:function(){l({paneGroupId:n,activate:!0,panes:[{type:"commands",data:{autoFocus:!0}}]})}}};return c?[s,{match:U.pl,data:{type:"context",label:(0,gt.Z)("Tab",c),icon:(0,o.tZ)(Id,{count:c})},commands:function(n){var r=n.active,l=n.search;if(!r&&!l)return[];var s=(0,D.Z)(e).concat((0,D.Z)(t)).map((function(e,n){return{data:{type:"group",key:"paneGroups"+n},commands:function(){return e.panes.map((function(e){var n=(0,L.Z)(e,2),t=n[0],r=n[1];return{match:U.pl,data:{type:"action",label:i.getTitle(r),icon:(0,o.tZ)(i.Icon,{pane:r}),run:function(){a({paneId:t,activate:!0})}}}}))}}}));return s.unshift(u),s}}]:[s,u]}),[r,i,a,l,n,s])}({paneId:t,paneGroupId:n}),a=zd({paneGroupId:n,paneId:t});return(0,j.Z)((function(){return{data:{type:"group",key:"root",description:"Search"},commands:function(){return[r].concat((0,D.Z)(i),(0,D.Z)(a))}}}),[r,i,a])}var Ad=t(75201),Fd=t(6581),Nd=t(6403),Od=t(39056),Hd=t(20279),qd=(0,a.F4)({"0%":{transform:"translate(0, 0)"},"8.33%, 25%":{transform:"translate(-50%, 0)"},"33.33%, 50%":{transform:"translate(-50%, -50%)"},"58.33%, 75%":{transform:"translate(0, -50%)"},"83.33%, 100%":{transform:"translate(0, 0)"}}),$d=(0,G.X)({root:[u.l0.position.relative,{overflow:"hidden"}],border:Ad.w7.border,arrows:[u.l0.position.absolute,u.l0.top(0),u.l0.left(0),u.l0.flex.row,u.l0.flex.wrap,{animationName:qd,animationDirection:"normal",animationTimingFunction:"ease-out",animationIterationCount:"infinite"}],arrow:[u.l0.width("50%"),u.l0.height("50%"),u.l0.center]});function Yd(e){var n=e.delay,t=e.duration;return(0,o.BX)(p.G,{style:{width:20,height:20},css:$d.root,children:[(0,o.tZ)(p.G,{css:$d.border}),(0,o.BX)(p.G,{css:$d.arrows,style:{width:40,height:40,animationDelay:n?n+"ms":void 0,animationDuration:t?t+"ms":"8000ms"},children:[(0,o.tZ)(p.G,{css:$d.arrow,children:(0,o.tZ)(Nd.Z,{size:12})}),(0,o.tZ)(p.G,{css:$d.arrow,children:(0,o.tZ)(Od.Z,{size:12})}),(0,o.tZ)(p.G,{css:$d.arrow,children:(0,o.tZ)(Fd.Z,{size:12})}),(0,o.tZ)(p.G,{css:$d.arrow,children:(0,o.tZ)(Hd.Z,{size:12})})]})]})}var Kd=(0,G.X)({overlay:[u.l0.align.end,u.l0.p(16),u.l0.position.absolute,u.l0.overflow("hidden"),u.l0.zIndex(z.MI.overlay)],surface:[u.l0.position.relative,u.l0.borderRadius(8),u.l0.flex.shrink(1),{maxHeight:"100%",maxWidth:"100%",width:200,border:"1px solid",borderColor:u.TV.outlineDefault,opacity:0},u.l0.shadow(3)],innerSurface:[u.l0.flex.growAndShrink(1),u.l0.borderRadius(8)]});var Qd=(0,G.X)({root:[u.l0.colWithGap(8),u.l0.p(8),{borderTop:"1px solid",borderColor:u.TV.outlineDimmer}],row:[u.l0.rowWithGap(2),u.l0.align.center,u.l0.justify.spaceBetween]}),Jd=6e3;function ep(){return(0,o.BX)(p.G,{css:Qd.root,children:[(0,o.BX)(p.G,{css:Qd.row,children:[(0,o.tZ)(d.xv,{color:"dimmest",variant:"small",children:"Move focus"}),(0,o.tZ)(Ad.ZP,{size:"small",shortcut:{cmdOrCtrlKey:!0,key:(0,o.tZ)(Yd,{duration:Jd})}})]}),(0,o.BX)(p.G,{css:Qd.row,children:[(0,o.tZ)(d.xv,{color:"dimmest",variant:"small",children:"Move pane"}),(0,o.tZ)(Ad.ZP,{size:"small",shortcut:{shiftKey:!0,cmdOrCtrlKey:!0,key:(0,o.tZ)(Yd,{duration:Jd,delay:1500})}})]})]})}var np=(0,h.memo)((function(){var e=function(){var e=(0,z.rX)(),n=(0,z.ZW)();if(n){var t=function(e){return{width:e.width,height:e.height,transform:"translate(".concat(e.x,"px, ").concat(e.y,"px)")}}(n),r=t.width,i=t.height,o=t.transform,a={border:"1px solid",borderColor:u.TV.accentPrimaryStronger,borderRadius:u.TV.borderRadius8,boxShadow:u.TV.shadow3,transitionProperty:"transform, height, width",transitionDuration:cn.H.duration,transitionTimingFunction:cn.H.timingFunction};return(0,se.Z)({width:r,height:i,transform:o},e?void 0:a)}}(),n=(0,z.DR)(),t=(0,Ia.Z)(n,[]);return(0,h.useEffect)((function(){var e=setTimeout((function(){(0,es.A)(t,"opacity","1")}));return function(){clearTimeout(e)}}),[t]),(0,o.tZ)(Wu.MT,{restoreFocus:!0,autoFocus:!0,children:(0,o.tZ)(p.G,{style:e,css:Kd.overlay,children:(0,o.tZ)(Je.T,{innerRef:t,elevated:!0,css:Kd.surface,children:(0,o.tZ)(Je.T,{css:Kd.innerSurface,elevated:!0,children:(0,o.tZ)(op,{})})})})})})),tp={ArrowUp:"above",ArrowDown:"below",ArrowRight:"rightOf",ArrowLeft:"leftOf"},rp={ArrowUp:"up",ArrowDown:"down",ArrowRight:"right",ArrowLeft:"left"},ip=Object.keys(tp),op=(0,h.memo)((function(){var e=(0,z.je)(),n=(0,z.e$)(),t=(0,z.HW)(),r=(0,z.rX)();(0,Ku.x)({key:"Escape"},{run:function(){t()}}),(0,Ku.x)(ip.map((function(e){return{key:e,cmdOrCtrlKey:!0}})),{run:function(n){e(tp[n.key])},enabled:!r}),(0,Ku.x)(ip.map((function(e){return{key:e,cmdOrCtrlKey:!0,shiftKey:!0}})),{run:function(e){n({direction:rp[e.key]})},enabled:!r});var i=(0,z.ts)();return i?"sidebar"===i.target?null:(0,o.tZ)(o.HY,{children:(0,o.tZ)(ap,{paneGroupId:i.paneGroupId,paneId:i.paneId})}):null}));function ap(e){var n=(0,z.rX)(),t=(0,z.DR)(),r=(0,z.HW)(),i=Wd(e);return(0,o.tZ)(M.X,{iconBreadcrumbs:!0,command:i,onAction:function(){return t()},onKeyDown:function(e,n){var t=n.inputValue,i=n.hasHighlightedItem;if("Enter"===e.key&&!t&&!i)return e.preventDefault(),void r();(0,Qo.j)(e)&&e.preventDefault()},footer:n?null:(0,o.tZ)(ep,{})})}var lp={id:"paneMenu.toggle",name:"Toggle pane context menu",default:(0,Tr.l2)({cmdOrCtrl:!0,key:"j"})};function sp(){var e=(0,z.H7)(),n=(0,z.Zr)();return(0,xr.Il)((function(){return[lp.id,function(){return e()}]}),[e]),n?(0,o.tZ)(np,{}):null}var cp=t(28793),up=t(41002);var dp=(0,G.X)({left:[u.l0.rowWithGap(2),u.l0.flex.growAndShrink(1),u.l0.align.center,u.l0.height("100%")],right:[u.l0.px(4),u.l0.rowWithGap(2)],scrollbar:[u.l0.flex.row,u.l0.flex.shrink(1),u.l0.align.center,u.l0.height("100%"),{"& > .os-viewport":u.l0.height("100%")}],tabContainer:[u.l0.flex.row,u.l0.height("100%"),u.l0.py(4),u.l0.px(2)],tabPreviewWrap:[u.l0.px(2)],tabPreview:[u.l0.borderRadius(8),u.l0.height(28),u.l0.backgroundColor.accentPrimaryDimmest,{border:"1px dashed ".concat(u.TV.accentPrimaryDefault)}]});function pp(e){var n=e.headerId,t=(0,z.eM)(),r=(0,z.Eh)(),i=(0,z.JW)(),a=(0,z.Xo)(),l=(0,z.A)(),s=(0,z.Jy)(),c=(0,z.qV)(n),u=c.activeIndex,d=c.panes,f=c.activeTabPaneId,m=c.activeFile,v=function(e){var n=e.visibility,t=(0,cp.F)().isDarkColorScheme,r=(0,h.useState)(!1),i=r[0],o=r[1],a=(0,L.Z)((0,up.A)({options:{overflow:{y:"hidden",x:"scroll"},update:{debounce:[100,200]},scrollbars:{theme:t?"os-theme-light":"os-theme-dark",autoHide:"leave",visibility:n}},events:{initialized:function(){return o(!0)}},defer:!0}),2),l=a[0],s=a[1],c=(0,h.useCallback)((function(e){e&&l(e)}),[l]),u=(0,h.useRef)(0),d=(0,h.useRef)(!1);return{ref:c,initialized:i,handleWheel:function(e){var n=s();if(n&&0!==e.deltaY&&0===e.deltaX){var t=n.elements().viewport,r=t.scrollLeft,i=e.deltaY,o=t.scrollWidth;d.current=!0,u.current=Math.max(0,Math.min(o,r+i)),t.scrollLeft=u.current}}}}({visibility:s?"hidden":"auto"}),g=(0,L.Z)((0,I.L)({accept:[T.Tv.File,B.z.Pane,B.z.NewPane],hover:function(e,n){var t=n.getSourceClientOffset();t&&w({item:e,panes:d,sourceClientOffset:t.x})},collect:function(e){return{isOver:e.isOver()}},drop:function(e,t){if(!t.didDrop()){var o=null!==(null===C||void 0===C?void 0:C.index)?null===C||void 0===C?void 0:C.index:d.length;if(e.type!==T.Tv.File&&e.type!==T.Tv.Directory)if(e.type!==B.z.NewPane){if("paneId"in e){var a=d.includes(e.paneId)?d.length-1:d.length;i({paneId:e.paneId,index:void 0!==o&&o<a?o:a,toPaneGroupId:n})}}else r({activate:!0,paneGroupId:n,index:o,panes:[e.pane]});else{var l=e.nodes.filter((function(e){return e.type===T.Tv.File})).map((function(e){return{type:(0,E.Dp)({path:e.path}),data:{path:e.path}}}));l.length>0&&r({activate:!0,commit:!0,paneGroupId:n,index:o,panes:l})}}}}),2),Z=g[0],b=g[1],x=function(e){var n=e.isOver,t=(0,h.useState)(null),r=t[0],i=t[1],o=(0,h.useRef)(null),a=(0,h.useRef)([]);(0,h.useEffect)((function(){if(!n)return a.current=[],void i(null);o.current&&(a.current=(0,D.Z)(o.current.children).map((function(e){var n=e.getBoundingClientRect();return n.x+n.width/2})))}),[n]);var l=(0,h.useCallback)((function(e){if(0!==a.current.length){var n=e.item.type===B.z.Pane?e.item:null,t=(null===n||void 0===n?void 0:n.paneId)||null,r=t?e.panes.indexOf(t):-1,o=(null===n||void 0===n?void 0:n.width)||80,l=a.current.map((function(e,n){return-1===r||r<n?e:e+o/2})).findIndex((function(n){return n>e.sourceClientOffset})),s=-1===l,c=-1===r?e.panes.length:e.panes.length-1;i({index:s?c:Math.min(l,c),paneId:t,width:o})}}),[]);return{tabContainerRef:o,hover:l,dropState:r}}({isOver:Z.isOver}),y=x.tabContainerRef,w=x.hover,C=x.dropState,k=(0,z.CC)(),S=(0,xr.gf)(lp.id),R=C?C.index:null;if((null===C||void 0===C?void 0:C.paneId)&&null!==R){var G=d.indexOf(C.paneId);G>-1&&G<R&&R++}var M=C&&null!==R?(0,D.Z)(d.slice(0,R)).concat([C],(0,D.Z)(d.slice(R))):d;return(0,o.BX)(o.HY,{children:[(0,o.BX)(p.G,{css:dp.left,innerRef:b,role:"tablist",onMouseDown:function(){a(f)},children:[(0,o.BX)(Ul.uP,{children:[(0,o.tZ)(p.G,{onWheel:v.handleWheel,style:{opacity:v.initialized?1:0},innerRef:v.ref,css:dp.scrollbar,children:(0,o.tZ)(p.G,{innerRef:y,css:dp.tabContainer,children:M.map((function(e,r){var i=u===r;return"string"!==typeof e?(0,o.tZ)(p.G,{css:dp.tabPreviewWrap,children:(0,o.tZ)(p.G,{style:{width:e.width},css:dp.tabPreview})},"preview"):(0,o.tZ)(rd,{dragGroup:1===d.length,paneId:e,paneGroupId:n,isActive:i,onClick:function(){t(e)},onClose:function(){l(e)}},e)}))})}),(0,o.tZ)(nn.h,{alt:"New tab",tooltipHidden:!0,onClick:function(){r({paneGroupId:n,activate:!0,panes:[{type:"commands",data:{autoFocus:!0}}]})},children:(0,o.tZ)($.Z,{})})]}),(0,o.tZ)(Rd,{paneGroupId:n})]}),(0,o.tZ)(kd,{headerId:n,paneId:f,activeFile:m}),(0,o.tZ)(p.G,{css:dp.right,children:(0,o.tZ)(nn.h,{onClick:function(){return k(f)},alt:"Pane actions",tooltipHidden:void 0===S,tooltipPlacement:"left",tooltipContents:S?(0,o.tZ)(xr.bM,{keyCombo:S}):null,children:(0,o.tZ)(Ga.Z,{})})})]})}var fp=(0,h.memo)(pp),hp=(0,Di.$)(["left","top","scale","transformOriginX","width","height","zIndex","transitionDuration"]),mp=hp.cssVars,vp=hp.styleTokens,gp=(0,a.iv)([u.l0.borderRadius(6,6,0,0),u.l0.position.absolute,u.l0.flex.row,u.l0.align.center],{transformOrigin:"".concat(vp.transformOriginX," bottom"),top:vp.top,left:vp.left,width:vp.width,height:vp.height,transform:"scale(".concat(vp.scale,")"),transitionDuration:vp.transitionDuration,borderBottom:"1px solid ".concat(u.TV.backgroundHigher),transitionProperty:"top, left, width, height",transitionTimingFunction:"ease-out"});function Zp(e){var n=e.headerId,t=(0,Dr.T)(),r=(0,z.u_)(n),i=(0,z.oL)(n),a=(0,Gi.Z)(i.isFloating),l=(0,h.useRef)(null);return(0,Ei.jv)(l,i.size,(function(e){var n,t=e.width,r=e.height;return n={},(0,ae.Z)(n,mp.width,t+"px"),(0,ae.Z)(n,mp.height,r+"px"),n})),(0,Ei.jv)(l,i.position,(function(e){var n,t=e.x,r=e.y;return n={},(0,ae.Z)(n,mp.left,Math.round(t)+"px"),(0,ae.Z)(n,mp.top,Math.round(r)+"px"),n})),(0,Ei.jv)(l,i.scale,(function(e){return(0,ae.Z)({},mp.scale,e.toString())})),(0,Ei.jv)(l,i.transformOriginX,(function(e){return(0,ae.Z)({},mp.transformOriginX,e)})),(0,Ei.jv)(l,i.animate,(function(e){return(0,ae.Z)({},mp.transitionDuration,e&&t?"140ms":"0ms")})),(0,Ei.jv)(l,i.zIndex,(function(e){return{"z-index":e.toString()}})),(0,o.BX)(Je.T,{innerRef:l,elevated:!0,css:gp,children:[(0,o.tZ)(fp,{headerId:n}),a?(0,o.tZ)(Eu,{paneId:r}):null]})}var bp=(0,h.memo)(Zp),xp=t(33466),yp=t(88659),wp=t(99920),Cp=t(46518),kp=t(92746),Lp=t(13302),Sp=t(47159),Rp=[Ps,Br,lp].concat((0,D.Z)(eu),(0,D.Z)(Lp.Ic),(0,D.Z)(Sp.bO));function Ip(e){var n=(0,kp.O)();return(0,o.tZ)(xr.GO,{commands:Rp,onChange:n,keybindings:e.keybindings,children:e.children})}var Tp=t(89130);function Bp(e){var n=e.children,t=h.useRef({fileMap:new Map});return(0,o.tZ)(xp.Z.Provider,{value:t,children:n})}function Ep(e){var n=e.ui,t=e.services,r=e.replId,i=e.replLanguage,a=e.replSlug,l=e.replConfigIsExtension,s=e.userKeybindings,c=e.children,u=(0,j.Z)((function(){return{id:r,language:i,slug:a,replConfigIsExtension:l}}),[r,i,a,l]);return(0,o.tZ)(Ip,{keybindings:s,children:(0,o.tZ)(E.kz,{value:n,children:(0,o.tZ)(Bp,{children:(0,o.tZ)(yp.Z.Provider,{value:t,children:(0,o.tZ)(wp.Z.Provider,{value:u,children:(0,o.tZ)(Cp.Wv,{children:(0,o.tZ)(Tp.S2,{children:c})})})})})})})}function Gp(){var e=(0,h.useRef)(null),n=(0,h.useRef)(null),t=(0,z.hF)(),r=(0,z.KD)();return(0,Ei.yR)(e,r.size),(0,Ei.Rf)(e,r.position),(0,Ei.jv)(e,r.belowDetachThreshold,(function(e){return{border:e?"1px dashed ".concat(u.TV.foregroundDefault):"1px solid ".concat(u.TV.accentPrimaryDefault)}})),(0,Ei.jv)(e,r.type,(function(e){return e?"detachPreview"===e?{"z-index":z.MI.detachPreview.toString(),"border-radius":"100%","background-color":"transparent"}:{"z-index":z.MI.dropPreview.toString(),"border-radius":"8px","background-color":u.TV.accentPrimaryDimmer}:null})),(0,Ei.jv)(e,r.progress,(function(e){return{opacity:(1===e?.2:.5*e).toString()}})),(0,Ei.jv)(n,r.progress,(function(e){return{transform:"scale(".concat(e,")")}})),(0,Ei.jv)(n,r.type,(function(e){return{opacity:("dropPreview"===e?0:.5).toString()}})),r.active?(0,o.tZ)("div",{ref:e,style:{opacity:.2,position:"absolute",pointerEvents:"none",transition:t?"transform 140ms, width 140ms, height 140ms, border-radius 140ms":void 0},children:(0,o.tZ)("div",{ref:n,style:{opacity:0,width:"100%",height:"100%",background:"radial-gradient(transparent, ".concat(u.TV.backgroundHighest,")"),borderRadius:"100%"}})}):null}var Mp=(0,h.memo)(Gp),Dp=t(76168),Pp=t(69167);function jp(){var e=(0,h.useState)(!1),n=e[0],t=e[1],r=(0,z.o3)(),i=(0,_.Z)().replspaceApi;return(0,h.useEffect)((function(){if(n)return i.onConfirmSendToken((function(e){e&&e(!0,!1)}))}),[n,i]),(0,Dp.F)({insertConfigPlugin:function(){return r("config")},setConfigScreenLockIsOpen:t}),n?(0,o.tZ)(Pp.Z,{}):null}function _p(){var e=(0,z.Gt)(),n=(0,Cd.Z)();return e&&n?(0,o.tZ)("div",{css:[u.l0.position.absolute,u.l0.width(e.width),u.l0.height(e.height),u.l0.borderRadius(4),{boxShadow:"0 0 0 3px ".concat(n.color),pointerEvents:"none",zIndex:3,transform:"translate(".concat(Math.round(e.x),"px, ").concat(Math.round(e.y),"px)")}]}):null}var Up=(0,h.memo)(_p),Xp=t(86911),Vp=t(74783),zp=t(42201),Wp=t(72532),Ap=t(95908);function Fp(){var e=(0,z.hx)(),n=(0,Ap.Z)({moveOrDeleteFile:e}),t=n.isConverging,r=n.didContentsDiverge,i=n.showMoreDetail,a=n.failedFiles,l=n.failedFilesOptions,s=n.selectedFile,c=n.setSelectedFile,f=n.reviewingPrompt,h=n.onChoice,m=n.local,v=n.remote,g=[u.l0.minHeight("7em"),u.l0.maxHeight("50vh"),u.l0.overflowY("auto"),{"> div":{display:"flex",alignItems:"stretch",width:"100%",height:"100%"},"> div > .cm-editor":{flex:"1 1 auto",width:"100%"}}];return(0,o.tZ)(on.u,{css:[{maxHeight:"90%"}],preventClose:!0,maxWidth:"90%",isOpen:r,onRequestClose:function(){},children:(0,o.BX)(p.G,{css:[u.l0.colWithGap(24)],children:[(0,o.tZ)(d.h4,{level:3,variant:"headerDefault",children:"Replit is out of sync!"}),(0,o.BX)(d.xv,{multiline:!0,children:["Sometimes Replit has trouble making sure everyone's code is the same. Let us know which version of"," ",a.length>1?"these files":"this file"," you'd like to keep."," ",a.length>1?(0,o.BX)("strong",{children:["There are ",a.length," files impacted by this."]}):""]}),t?(0,o.tZ)(zp.Z,{}):(0,o.BX)(o.HY,{children:[l.length?(0,o.tZ)(Vp.P,{initialSelectedItem:l[0],selectedItem:l.find((function(e){return e.path===s})),items:l,onChange:function(e){c(e.path)}}):null,i?(0,o.BX)(p.G,{css:[u.l0.rowWithGap(16),u.l0.justify.start,u.l0.align.center,u.l0.pt(16),u.l0.p(8),u.l0.backgroundColor.redDimmest,u.l0.font.code],children:[(0,o.tZ)(d.xv,{variant:"subheadDefault",children:"Debug View"}),(0,o.BX)(d.xv,{children:["Divergence type: ",null===f||void 0===f?void 0:f.case]})]}):null,(0,o.BX)(p.G,{css:[u.l0.rowWithGap(8)],children:[(0,o.BX)(p.G,{css:[u.l0.flex.growAndShrink(1),{flexBasis:0}],children:[(0,o.tZ)(d.xv,{variant:"subheadDefault",children:"My changes"}),(0,o.tZ)(Je.T,{elevated:!0,css:[u.l0.flex.growAndShrink(1),u.l0.py(8)],children:(0,o.tZ)(p.G,{css:g,children:(0,o.tZ)(Wp.q,{diffViewer:m})})}),(0,o.BX)(p.G,{css:[u.l0.pt(16)],children:[(0,o.tZ)(d.xv,{multiline:!0,css:[u.l0.textAlign.center],children:"This might disrupt other people's work or create unexpected bugs."}),(0,o.tZ)(en.zx,{onClick:function(){h("local")},text:"Reset to Mine"})]})]}),(0,o.BX)(p.G,{css:[u.l0.flex.growAndShrink(1),{flexBasis:0}],children:[(0,o.tZ)(d.xv,{variant:"subheadDefault",children:"Shared changes"}),(0,o.tZ)(Je.T,{elevated:!0,css:[u.l0.flex.growAndShrink(1),u.l0.py(8)],children:(0,o.tZ)(p.G,{css:g,children:(0,o.tZ)(Wp.q,{diffViewer:v})})}),(0,o.BX)(p.G,{css:[u.l0.pt(16),u.l0.justify.end],children:[(0,o.tZ)(d.xv,{multiline:!0,css:[u.l0.textAlign.center],children:"This is the safest option and won't disrupt other's work."}),(0,o.tZ)(en.zx,{onClick:function(){h("remote")},text:"Sync to Shared",colorway:"primary"})]})]})]})]})]})})}var Np=t(96262);function Op(){var e=(0,W.ev)(),n=(0,W._o)(),t=(0,_.Z)().fs,r=function(){n(null)};return(0,o.tZ)(on.u,{isOpen:Boolean(e),onRequestClose:r,children:e?(0,o.tZ)(Np.Z,{name:e,description:e,confirmDescription:e,hideModal:r,delete:function(){e&&(t.deleteFile(e),n(null))}}):null})}var Hp=t(91063),qp=t(38559),$p=t(33529),Yp=t(35748),Kp=(0,G.X)({content:[u.l0.colWithGap(24)],header:[u.l0.align.center],checkbox:[u.l0.rowWithGap(8)],footer:[u.l0.rowWithGap(16),u.l0.justify.spaceBetween,u.l0.align.center]});function Qp(){var e=(0,_.Z)().fs,n=(0,h.useState)(!1),t=n[0],r=n[1],i=(0,h.useState)(!1),a=i[0],l=i[1],s=(0,rr.D)(),c=(0,C.P5)({controlName:"flag-storage-dynamic-resize-beta"});(0,h.useEffect)((function(){if(!a)return e.onDiskQuotaExceeded((function(){r(!0)}))}),[e,a]);var u=function(){r(!1)};return(0,o.tZ)(on.u,{isOpen:t,onRequestClose:u,children:(0,o.tZ)(p.G,{css:Kp.content,children:c?(0,o.tZ)(ef,{onClose:u,dontShowAgain:a,setDontShowAgain:l,checkBoxId:s}):(0,o.tZ)(Jp,{onClose:u,dontShowAgain:a,setDontShowAgain:l,checkBoxId:s})})})}var Jp=function(e){var n=e.dontShowAgain,t=e.setDontShowAgain,r=e.checkBoxId,i=e.onClose;return(0,o.BX)(p.G,{css:Kp.content,children:[(0,o.BX)(d.h4,{level:3,variant:"headerDefault",children:["Oops! This Repl's disk is full"," ",(0,o.tZ)(Hp.Z,{color:u.TV.accentNegativeDefault,size:20})]}),(0,o.BX)(d.xv,{multiline:!0,variant:"subheadDefault",children:["Please free up space by deleting some files. You can open the file tree by clicking the ",(0,o.tZ)(Fu.Z,{})," icon on the left."]}),(0,o.tZ)(d.xv,{multiline:!0,children:"You can check how much space you are using from the Repl Resources section under the file tree."}),(0,o.tZ)(d.xv,{multiline:!0,variant:"small",children:"We apologize for the inconvenience. We are working on a solution to allow you to boost your disk limits."}),(0,o.BX)(p.G,{css:Kp.checkbox,tag:"label",children:[(0,o.tZ)(fr.X,{id:r,checked:n,onChange:function(e){return t(Boolean(e.currentTarget.value))}}),(0,o.tZ)(d.xv,{multiline:!0,variant:"small",children:"Do not show this message again for this session."})]}),(0,o.tZ)(en.zx,{onClick:i,text:"Close"})]})},ef=function(e){var n,t,r=e.dontShowAgain,i=e.setDontShowAgain,a=e.checkBoxId,l=(0,h.useState)(!1),s=l[0],c=l[1],u=(0,Yp.Pf)(),f=u.data,m=u.loading,v=u.refetch,g=(null===f||void 0===f||null===(n=f.currentUser)||void 0===n?void 0:n.userSubscriptionType)===le.HP.HackerPro,Z=null===f||void 0===f||null===(t=f.currentUser)||void 0===t?void 0:t.username,b=Z?(0,Qs.Ru)(Z):qp.$I;return(0,o.BX)(p.G,{css:Kp.content,children:[(0,o.BX)(d.h4,{css:Kp.header,level:3,variant:"headerDefault",children:["Your account is out of storage ",(0,o.tZ)($p.Z,{size:20})]}),(0,o.tZ)(d.xv,{multiline:!0,children:"To free up space remove files until it's under the limit, delete other Repls, or upgrade your account storage."}),(0,o.BX)(p.G,{css:Kp.checkbox,tag:"label",children:[(0,o.tZ)(fr.X,{id:a,checked:r,onChange:function(e){return i(Boolean(e.currentTarget.value))}}),(0,o.tZ)(d.xv,{multiline:!0,variant:"small",children:"Do not show this message again for this session."})]}),(0,o.BX)(p.G,{css:Kp.footer,children:[(0,o.tZ)(Wr.Z,(0,un.Z)((0,se.Z)({},b),{text:"Manage Repls"})),g||m?null:(0,o.tZ)(en.zx,{colorway:"primary",text:"Upgrade Storage",onClick:function(){return c(!0)}})]}),(0,o.tZ)(fi.Z,{isOpen:s,initialTab:"plans",context:"workspace_info_modal",uponPurchaseGoTo:"workspace",onPlanCheckoutComplete:function(){v(),c(!1)},onRequestClose:function(){c(!1)}})]})},nf=t(18760),tf=t(37192),rf=t(66091),of=44100,af=32896,lf=function e(){var n=this;(0,rf.Z)(this,e),this.audioStart=0,this.feed=function(e){var t=n.getFormatedValue(e),r=new Float32Array(n.samples.length+t.length);r.set(n.samples,0),r.set(t,n.samples.length),n.samples=r},this.getFormatedValue=function(e){for(var n=new Float32Array(e.length),t=0;t<e.length;t++)n[t]=e[t]/2147483648;return n},this.stop=function(){if(n.bufferSource)try{n.bufferSource.stop()}catch(e){if("InvalidStateError"!==e.name&&"RangeError"!==e.name)throw e}},this.flush=function(e){if(n.audioCtx&&n.samples.length){var t=0,r=n.audioCtx.currentTime;if(0===e)n.startTime=r,n.audioStart=r;else{for(var i=r-n.audioStart,o=Math.floor(i*of);o>e-af;)n.audioStart+=.7459410430839002,o-=af;o>e&&(t=o-e,n.startTime=r),n.startTime=r}n.samples=n.samples.slice(t,n.samples.length);for(var a,l,s,c=n.audioCtx.createBufferSource(),u=n.samples.length/1,d=n.audioCtx.createBuffer(1,u,of),p=0;p<1;p++)for(a=d.getChannelData(p),l=p,s=0;s<u;s++)a[s]=n.samples[l],l+=1;n.startTime<n.audioCtx.currentTime&&(n.startTime=n.audioCtx.currentTime),c.buffer=d,c.connect(n.gainNode),c.start(n.startTime),n.stop(),n.bufferSource=c,n.startTime+=d.duration,n.samples=new Float32Array}},this.samples=new Float32Array;var t=window.AudioContext||window.webkitAudioContext;this.audioCtx=new t,this.gainNode=this.audioCtx.createGain(),this.gainNode.gain.value=1,this.gainNode.connect(this.audioCtx.destination),this.startTime=this.audioCtx.currentTime},sf=t(78214),cf=t(91184);function uf(e){var n=e.container,t=(0,h.useState)(!1),r=t[0],i=t[1],a=(0,h.useState)(!1),l=a[0],s=a[1],c=(0,cf.Z)();(0,h.useEffect)((function(){if(c===sf.em.CONNECTED&&!0!==l){var e=setTimeout((function(){s(!0)}),1e3);return function(){clearTimeout(e)}}}),[c,l]);var f=(0,h.useRef)(null);(0,h.useEffect)((function(){if(l)return n.openChannel({name:"audio",service:"audio"},(function(e){var n=e.channel,t=null,r=!1;return n.onCommand((function(e){var n;r||(r=!0,f.current=function(){t=new lf,f.current=null},i(!0)),t&&(null===e||void 0===e||null===(n=e.audio2)||void 0===n?void 0:n.data)&&(e.audio2.samples||(e.audio2.samples=0),t.feed(Int32Array.from(e.audio2.data)),t.flush(e.audio2.samples))})),function(){i(!1),t&&(t.stop(),t=null),f.current=null}}))}),[n,l]);var m=function(){i(!1)};return(0,o.tZ)(on.u,{isOpen:r,onRequestClose:m,children:(0,o.BX)(p.G,{css:[u.l0.colWithGap(24)],children:[(0,o.tZ)(d.h4,{variant:"headerDefault",level:1,children:"We hear audio!"}),(0,o.BX)(p.G,{css:[u.l0.colWithGap(8)],children:[(0,o.tZ)(d.xv,{multiline:!0,children:"Hey! It appears that this Repl is playing audio."}),(0,o.tZ)(d.xv,{multiline:!0,children:"In order for us to hear the audio you\u2019re receiving, please click confirm."})]}),(0,o.BX)(p.G,{css:[u.l0.rowWithGap(12),u.l0.justify.end],children:[(0,o.tZ)(en.zx,{onClick:m,text:"Cancel"}),(0,o.tZ)(en.zx,{colorway:"positive",onClick:function(){i(!1),f.current&&f.current()},text:"Confirm",iconLeft:(0,o.tZ)(er.Z,{})})]})]})})}var df=t(52298),pf=t(93212);var ff=function(e){return(0,o.tZ)(on.u,{preventClose:!0,isOpen:!0,onRequestClose:e.onCancel,children:(0,o.BX)(p.G,{css:[u.l0.colWithGap(24)],children:[(0,o.tZ)(d.h4,{variant:"headerDefault",level:2,css:u.l0.maxWidth("100%"),children:"Replit needs your permission to enable notifications."}),(0,o.tZ)(d.xv,{multiline:!0,children:"Never miss messages from your collaborators if you\u2019re in another tab or window."}),(0,o.BX)(p.G,{css:[u.l0.rowWithGap(12),u.l0.justify.end],children:[(0,o.tZ)(en.zx,{onClick:e.onCancel,text:"Deny",iconLeft:(0,o.tZ)(ot.Z,{})}),(0,o.tZ)(en.zx,{text:"Allow notifications",colorway:"positive",iconLeft:(0,o.tZ)(er.Z,{}),onClick:e.onConfirm})]})]})})};function hf(){var e=(0,ce.Z)(["\n  query DidMigrateToNix($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        templateInfo {\n          replId\n        }\n      }\n    }\n  }\n"]);return hf=function(){return e},e}var mf={},vf=(0,ue.Ps)(hf());var gf,Zf=t(87064),bf=t(47843);function xf(e){var n=e.setLifecycle,t=(0,kn.Z)(),o=function(e){var n=(0,se.Z)({},mf,e);return de.a(vf,n)}({variables:{replId:t}}),a=o.data,l=o.loading,s=(0,_.Z)(),c=s.container,u=s.fs;(0,h.useEffect)((function(){if(!l&&a){var e=!1,o=function(){var l=(0,r.Z)((function(){var r,l,s,d,p,f,h,m,v,g,Z,b,x;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return e||"Repl"!==a.repl.__typename?[2]:[4,(0,Zf.D)({templateId:null!==(r=a.repl.templateInfo.replId)&&void 0!==r?r:null,fs:u})];case 1:if(!(l=i.sent()).length)return n((function(e){return e===gf.Running?gf.Finished:e})),[2];if(e)return[2];n(gf.Running),s=!0,d=!1,p=void 0,i.label=2;case 2:i.trys.push([2,8,9,10]),f=l[Symbol.iterator](),i.label=3;case 3:return(s=(h=f.next()).done)?[3,7]:(m=h.value,[4,c.exec("bash","-c","".concat(m,"/run-post-migration.sh"))]);case 4:return v=i.sent(),e?[2]:"Channel closed"===v.error?(o(),[2]):(v.error&&bf.kg.error("post nix migration script error: "+v.error,{replid:t,path:m}),[4,u.deleteFile(m)]);case 5:if(g=i.sent(),e)return[2];g.error&&bf.kg.error("post nix migration delete path error: "+g.error,{replid:t,path:m}),i.label=6;case 6:return s=!0,[3,3];case 7:return[3,10];case 8:return Z=i.sent(),d=!0,p=Z,[3,10];case 9:try{s||null==f.return||f.return()}finally{if(d)throw p}return[7];case 10:return[4,u.deleteDir(Zf.O)];case 11:return b=i.sent(),e?[2]:(b.error&&bf.kg.error("post nix migration delete dir error: "+b.error,{replid:t}),[4,u.flush()]);case 12:return i.sent(),e?[2]:[4,u.persist({skipDebounce:!0})];case 13:return x=i.sent(),e?[2]:(x.error&&bf.kg.error("post nix migration persist error: "+x.error,{replid:t}),n(gf.Finished),[2])}}))}));return function(){return l.apply(this,arguments)}}();return o(),function(){e=!0}}}),[c,a,u,l,n,t])}function yf(){var e=(0,h.useState)((function(){return new URL(window.location.href).searchParams.get("didMigrateToNix")?gf.Running:gf.NoNixMigration})),n=e[0],t=e[1],r=(0,w.useRouter)();return xf({setLifecycle:t}),n===gf.NoNixMigration?null:n===gf.Running?(0,o.tZ)(Pp.Z,{reason:"Finishing migration to Nix"}):(0,o.tZ)(on.u,{isOpen:n===gf.Finished,onRequestClose:function(){var e=new URL(window.location.href);t(gf.NoNixMigration),e.searchParams.delete("didMigrateToNix"),r.push({pathname:r.pathname,query:(0,un.Z)((0,se.Z)({},r.query),{didMigrateToNix:!1})},e.toString(),{shallow:!0})},centered:!0,children:(0,o.BX)(p.G,{css:[u.l0.colWithGap(24)],children:[(0,o.tZ)(d.h4,{level:1,variant:"headerDefault",children:"We've upgraded your project!"}),(0,o.BX)(d.xv,{multiline:!0,children:["Your project is now using Nix behind the scenes, which means that you can now run many more kinds of software in your Repls. You can learn more by reading our"," ",(0,o.tZ)(mi(),{href:"https://blog.replit.com/nix",children:"announcement blog post"}),","," ",(0,o.tZ)(mi(),{href:"https://docs.replit.com/programming-ide/nix-on-replit",children:"documentation"}),", or by following our"," ",(0,o.tZ)(mi(),{href:"https://docs.replit.com/tutorials/python/build-with-nix",children:"Nix with Python tutorial"}),"."]}),(0,o.BX)(p.G,{children:[(0,o.tZ)(d.xv,{multiline:!0,children:"In order to migrate your Repl to Nix, we had to make some changes:"}),(0,o.BX)("ul",{children:[(0,o.tZ)("li",{children:(0,o.tZ)(d.xv,{multiline:!0,children:"1. Imported some files to support your programming language with Nix"})}),(0,o.tZ)("li",{children:(0,o.tZ)(d.xv,{multiline:!0,children:"2. Turned on a flag that says your Repl is a Nix Repl"})}),(0,o.tZ)("li",{children:(0,o.tZ)(d.xv,{multiline:!0,children:"3. Restarted your Repl"})})]})]}),(0,o.BX)(d.xv,{multiline:!0,children:["Note that any files that might otherwise be overwritten have been backed up to the same file name with a .backup suffix. If you have any issues with your newly-migrated Repl, make sure to check out"," ",(0,o.tZ)(mi(),{href:"https://ask.replit.com",children:"ask.replit.com"})," to get help."]}),(0,o.tZ)(d.xv,{children:"Enjoy!"}),(0,o.tZ)(d.xv,{children:"\u2014 Replit Staff"})]})})}!function(e){e[e.NoNixMigration=0]="NoNixMigration",e[e.Running=1]="Running",e[e.Finished=2]="Finished"}(gf||(gf={}));var wf=t(87496),Cf=function(){var e=(0,C.P5)({controlName:"flag-secrets-copying",type:"boolean"}),n=(0,L.Z)(h.useState(!1),2),t=n[0],a=n[1],l=(0,_.Z)().fs,s=(0,z.cT)();return h.useEffect((function(){if(e){var n=!1;return function(){t.apply(this,arguments)}(),function(){n=!0}}function t(){return(t=(0,r.Z)((function(){var e,t;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return[4,l.readFile(".env")];case 1:return e=r.sent(),n?[2]:(e.error||(t=wf.Z.parse(e.content.toString()),Object.values(t).some((function(e){return""===e}))&&a(!0)),[2])}}))}))).apply(this,arguments)}}),[l,e]),(0,o.tZ)(on.u,{preventClose:!0,isOpen:t,maxWidth:480,onRequestClose:function(){return a(!1)},children:(0,o.BX)(p.G,{css:[u.l0.colWithGap(16)],children:[(0,o.tZ)(p.G,{css:[u.l0.rowWithGap(8),u.l0.align.center],children:(0,o.tZ)(d.h4,{css:[{width:"fit-content"}],level:2,variant:"headerDefault",children:"Configure missing Secret values"})}),(0,o.tZ)(p.G,{css:[u.l0.colWithGap(8)],children:(0,o.tZ)(d.xv,{multiline:!0,children:"The Repl you forked references Secret values that might be required. Add values to ensure the code runs as expected."})}),(0,o.BX)(p.G,{css:[u.l0.rowWithGap(8),u.l0.justify.end],children:[(0,o.tZ)(en.zx,{text:"Dismiss",onClick:function(){a(!1)}}),(0,o.tZ)(en.zx,{colorway:"primary",text:"Manage Secrets",onClick:function(){a(!1),s({pane:{type:"envEditor"}}),(0,x.j)(x.U3.ENV_EDITOR_USED,{action:"opened"})}})]})]})})},kf=t(44882),Lf=t(89611),Sf=function(){var e=(0,r.Z)((function(e){var n,t,r,o;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return(0,kf.u9)()?[4,(0,kf.mv)(e)]:[2,null];case 1:return n=i.sent(),t=n.path,r=n.line,o=n.col,t?[2,{path:t,line:r,col:o}]:[2,null]}}))}));return function(n){return e.apply(this,arguments)}}();function Rf(){return function(){var e=(0,_.Z)(),n=e.fs,t=e.dotReplit,o=(0,kn.Z)(),a=(0,z.ex)(),l=(0,hl.Z)(a),s=(0,h.useState)(!1),c=s[0],u=s[1],d=(0,z.CA)(),p=(0,z.x7)(),f=(0,h.useRef)(!1);(0,h.useEffect)((function(){if(c&&!f.current)if(a){var e=(0,kf.YM)({path:a}),n=window.location.hash;if(n.slice(1)!==a&&!n.startsWith(e+":")){var t=new URL(window.location.href);t.hash=e,window.history.pushState(history.state,"",t)}}else{if(!window.location.hash)return;history.pushState(history.state,document.title,window.location.origin+window.location.pathname+window.location.search)}}),[c,a]),(0,h.useEffect)((function(){if(!c){var e=!1;return function(){a.apply(this,arguments)}(),function(){e=!0}}function a(){return a=(0,r.Z)((function(){var r,a,s;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return p?l.current?(u(!0),[2]):[4,Sf(n)]:[2];case 1:return r=i.sent(),e?[2]:r?(d(r),u(!0),[2]):l.current||"saved"===p?(u(!0),[2]):[4,(0,Lf.W)({fs:n,dotReplit:t,replId:o})];case 2:return a=i.sent(),s=a.entrypoint,!e&&s&&d({path:s}),u(!0),[2]}}))})),a.apply(this,arguments)}}),[n,d,t,o,l,p,c]),(0,h.useEffect)((function(){if(p){var e=function(){var e=(0,r.Z)((function(){var e;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return f.current=!0,[4,Sf(n)];case 1:return(e=t.sent())&&d(e),f.current=!1,[2]}}))}));return function(){return e.apply(this,arguments)}}();return window.addEventListener("hashchange",e),function(){window.removeEventListener("hashchange",e)}}}),[p,n,d])}(),null}var If=t(88254),Tf=t(40792),Bf=t(51042),Ef=t(4946),Gf=t(94969);function Mf(){var e=(0,ce.Z)(["\n  subscription ThreadUpdates($replId: String!) {\n    updatedThread: annotationUpdatesByRepl(replId: $replId) {\n      id\n      ...AnnotationsUIAnchor\n    }\n  }\n  ","\n"]);return Mf=function(){return e},e}var Df={},Pf=(0,ue.Ps)(Mf(),Rc.j7);function jf(e){!function(e){var n=(0,se.Z)({},Df,e);Gf.m(Pf,n)}({variables:{replId:e},onData:function(n){var t,r,i=null===(t=n.data)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.updatedThread;i&&"AnnotationAnchor"===i.__typename&&(n.client.cache.updateQuery({query:Rc.yi,variables:{replId:e}},(function(e){return(0,ao.ZP)(e,(function(e){null!==e&&"Repl"===e.repl.__typename&&(e.repl.annotationAnchors.find((function(e){return e.id===i.id}))||e.repl.annotationAnchors.push(i))}))})),n.client.cache.updateQuery({query:Ef.Jq,variables:{replId:e,path:i.path}},(function(e){return(0,ao.ZP)(e,(function(e){var n;e&&"ThreadsByFileResult"===(null===(n=e.threadsByFile)||void 0===n?void 0:n.__typename)&&(e.threadsByFile.threads.find((function(e){return e.id===i.id}))||e.threadsByFile.threads.push((0,un.Z)((0,se.Z)({},i),{messageCount:i.messages.length,unreadCount:i.messages.filter((function(e){return!e.seen})).length,participants:i.messages.filter((function(e){return!!e.user})).map((function(e){return e.user}))})))}))})))}})}function _f(){var e=(0,ce.Z)(["\n  subscription RegisterReplConnection($replId: String!) {\n    replConnection(replId: $replId)\n  }\n"]);return _f=function(){return e},e}var Uf={},Xf=(0,ue.Ps)(_f());function Vf(){!function(e){var n=(0,se.Z)({},Uf,e);Gf.m(Xf,n)}({variables:{replId:(0,kn.Z)()},skip:(0,cf.Z)()!==sf.em.CONNECTED})}var zf=t(96664);function Wf(){var e=(0,ce.Z)(["\n  query WorkspaceShowHiddenFiles($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        templateInfo {\n          label\n        }\n      }\n    }\n  }\n"]);return Wf=function(){return e},e}var Af={},Ff=(0,ue.Ps)(Wf());function Nf(){var e=(0,W.OM)(),n=function(e){var n=(0,se.Z)({},Af,e);return de.a(Ff,n)}({variables:{replId:(0,kn.Z)()}}).data,t="Repl"===(null===n||void 0===n?void 0:n.repl.__typename)?n.repl:null;h.useEffect((function(){var n;t&&(null===(n=t.templateInfo)||void 0===n?void 0:n.label.includes("Blank Repl"))&&e(!0)}),[e,t])}var Of=t(68216),Hf=t(25736),qf="video.json",$f=(0,Hf.join)(fs.V,qf);function Yf(){return(Yf=(0,r.Z)((function(e,n){var t;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return n.find((function(e){return e.type===T.Tv.File&&e.filename===qf}))?[4,e.readFile($f)]:[2,null];case 1:return(t=r.sent()).error?[2,null]:[2,t.content.toString()]}}))}))).apply(this,arguments)}function Kf(e){var n=(0,_.Z)().fs,t=(0,fs.Z)().isTutorial,r=(0,hl.Z)(e);(0,h.useEffect)((function(){if(t){var e=!1,i=n.watchDir(fs.V,{onChange:function(t){(function(e,n){return Yf.apply(this,arguments)})(n,t).then((function(n){if(!e)if(n){var t=null;try{t=Of.ku(n)}catch(o){}var i="object"===typeof t&&"string"===typeof t.embedUrl?t.embedUrl:null;r.current(i?{embedUrl:i}:null)}else r.current(null)}))},onMoveOrDelete:function(){r.current(null)},onError:function(){r.current(null)}});return function(){e=!0,i()}}}),[n,t,r])}var Qf=t(62093),Jf=t(24494),eh=t(80560),nh=!1;function th(){var e=(0,ce.Z)(["\n  mutation HandlePortOpenedUpdateReplConfig($input: UpdateReplInput!) {\n    updateRepl(input: $input) {\n      repl {\n        id\n        config {\n          isVnc\n          isServer\n        }\n      }\n    }\n  }\n"]);return th=function(){return e},e}var rh={},ih=(0,ue.Ps)(th());var oh=t(76406);function ah(){var e=(0,kn.Z)(),n=(0,_.Z)().container,t=(0,z.o3)(),r=(0,L.Z)(function(e){var n=(0,se.Z)({},rh,e);return ge.D(ih,n)}(),1)[0],i=(0,Ko.Z)().preferences.webviewAutoOpenOnPortOpened,o=(0,L.Z)((0,oh.e)(),1)[0];(0,h.useEffect)((function(){return n.onPortOpened(xs()((function(n){var a,l=n.isVnc;(l||i&&!o)&&t(l?"vnc":"webview"),a=l?{isVnc:!0}:{isServer:!0},r({variables:{input:(0,se.Z)({id:e},a)}})}),500,{leading:!0}))}),[n,t,r,e,i,o])}function lh(){var e=(0,ce.Z)(["\n  subscription ReplEnvironmentUserCanWrite($replId: String!) {\n    currentUserCanWrite(replId: $replId)\n  }\n"]);return lh=function(){return e},e}var sh={},ch=(0,ue.Ps)(lh());function uh(e){var n=e.isAnon,t=e.isOwner,r=e.ignoreUnloadPrompt;!function(e){var n=(0,se.Z)({},sh,e);Gf.m(ch,n)}({skip:n||t,variables:{replId:(0,kn.Z)()},onData:function(e){var n=e.data.data;!1===(null===n||void 0===n?void 0:n.currentUserCanWrite)&&(r(!0),window.location.reload())}})}function dh(){var e=(0,ce.Z)(["\n  query ReplEnvironmentNotifyUserJoin($id: String!) {\n    repl(id: $id) {\n      ... on Repl {\n        id\n        title\n      }\n    }\n  }\n"]);return dh=function(){return e},e}var ph=(0,ue.Ps)(dh());function fh(){var e=(0,ce.Z)(["\n  query BrowserNotifications($username: String!) {\n    user: userByUsername(username: $username) {\n      id\n      image\n    }\n  }\n"]);return fh=function(){return e},e}var hh=(0,ue.Ps)(fh());function mh(e){return vh.apply(this,arguments)}function vh(){return vh=(0,r.Z)((function(e){var n,t;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return null===vs.l?[2]:[4,vs.l.query({query:hh,variables:{username:e}})];case 1:return[2,null===(t=r.sent().data)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.image]}}))})),vh.apply(this,arguments)}function gh(){return"Notification"in window?"true"===Ot.Z.get(wh,"string")?"dismissed":window.Notification.permission:"denied"}function Zh(){return bh.apply(this,arguments)}function bh(){return(bh=(0,r.Z)((function(){return(0,i.__generator)(this,(function(e){try{window.Notification.requestPermission().then()}catch(n){return[2,new Promise((function(e){window.Notification.requestPermission((function(n){e(n)}))}))]}return[2,window.Notification.requestPermission()]}))}))).apply(this,arguments)}function xh(){return yh.apply(this,arguments)}function yh(){return(yh=(0,r.Z)((function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return[4,Zh()];case 1:return e.sent(),Ch(!1),[2]}}))}))).apply(this,arguments)}var wh="notifications/dismissedModal";function Ch(e){Ot.Z.set(wh,String(e))}var kh={};function Lh(){return(Lh=(0,r.Z)((function(e){var n,t,r,o,a,l,s,c,u,d,p;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return n=e.title,t=e.body,r=e.badge,o=e.icon,a=e.iconByUsername,l=e.tag,s=e.onClick,c=e.cacheDuration,u=void 0===c?0:c,!document.hidden&&document.hasFocus()?[2]:"granted"!==gh()?[2]:(d=Date.now(),l in kh&&kh[l]+u>d?[2]:a?[4,mh(a)]:[3,2]);case 1:o=i.sent(),i.label=2;case 2:return p=new window.Notification(n,{body:t,badge:r||"/public/images/logo-grayscale.png",icon:o||"/public/images/icon-square.png",tag:l}),setTimeout((function(){p.close()}),1e4),p.addEventListener("click",(function(){window.focus(),p.close()})),s&&p.addEventListener("click",s),kh[l]=d,[2]}}))}))).apply(this,arguments)}function Sh(){return(Sh=(0,r.Z)((function(e){var n;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:if(!vs.l)throw new Error("Expected Apollo client");return[4,vs.l.query({query:ph,variables:{id:e}})];case 1:return[2,"Repl"===(null===(n=t.sent().data)||void 0===n?void 0:n.repl.__typename)?n.repl.title:null]}}))}))).apply(this,arguments)}function Rh(){var e=(0,_.Z)(),n=e.container,t=e.presence;h.useEffect((function(){var e=t.onUserJoin((function(t){var r,i=null===(r=n.getContext())||void 0===r?void 0:r.repl;if(i){var o=t.username;return function(e){return Sh.apply(this,arguments)}(i.id).then((function(e){e&&function(e){Lh.apply(this,arguments)}({title:"",body:"".concat(o," joined ").concat(e),tag:"".concat(i.id,"-").concat(o,"-joined"),iconByUsername:o,cacheDuration:9e5})})),function(){e()}}}))}),[t,n])}function Ih(){var e=(0,it.Z)(),n=e.showConfirm,t=e.showNotice,r=e.hideMessage,i=e.showError,o=(0,_.Z)().container;(0,h.useEffect)((function(){var e=o.onToast((function(e){e.startsWith("PANIC")||t(e,function(e){var n=e.length/.025+1e3;return Math.max(1e4,n)}(e))})),a=null,l=!1,s=o.onConnectionStateChanged((function(e){if(a&&(r(a),a=null),e===sf.em.CONNECTED)return l=!0,void(a=n("Connected",1500));l&&(e!==sf.em.CONNECTING?e!==sf.em.DISCONNECTED||(a=i("Disconnected")):a=t("Reconnecting"))}));return function(){a&&r(a),e(),s()}}),[o,n,t,i,r])}var Th=t(99983),Bh=t(32064);function Eh(e){var n=e.onOpenFile,t=(0,_.Z)(),r=function(e){var n=e.toolchain,t=e.debuggest;return(0,h.useEffect)((function(){var e=function(e){(null===e||void 0===e?void 0:e.debuggers)&&(null===e||void 0===e?void 0:e.debuggers.length)>0&&t.connect()};e(n.configs.current),n.configs.subscribe((function(n){e(n)}))}),[n,t]),(0,Gi.Z)(t.mainClient)}({debuggest:t.debuggest,toolchain:t.toolchain});!function(e){(0,h.useEffect)((function(){if(e){var n=e.onStarted((function(e){(0,x.j)(x.U3.DEBUGGER_USED,{action:"started",joined:e})})),t=e.onPaused((function(e){(0,x.j)(x.U3.DEBUGGER_USED,{action:"paused",reason:e})})),r=e.onBreakpoint((function(n){(0,x.j)(x.U3.DEBUGGER_USED,{action:"breakpointToggled",breakpointAction:n,state:e.state.current})}));return function(){n(),t(),r()}}}),[e])}(r),function(e,n){var t,r=n.onOpenFile,i=(0,hl.Z)(r),o=(0,Gi.Z)(e?e.stackFrames:null),a=null===o||void 0===o?void 0:o[0],l=null===a||void 0===a||null===(t=a.source)||void 0===t?void 0:t.path,s=null===a||void 0===a?void 0:a.line;(0,h.useEffect)((function(){if(l&&s&&e){var n=(0,Bh.om)(l);n?i.current({path:n,line:s}):e.stepOut()}}),[e,l,s,i])}(r,{onOpenFile:n})}function Gh(){var e=(0,_.Z)().runner,n=(0,z.Vz)(),t=(0,z.Fg)(),r=(0,Th.Ln)(),i=(0,z.x7)(),o=function(){var e=(0,gl.T)(),n=(0,z.Vz)();return h.useCallback((function(){n({pane:{type:e?"webview":"runnerOutput"},activate:!1})}),[e,n])}(),a=(0,b.e)(f.y.Output);h.useEffect((function(){if(i&&(null===a||void 0===a?void 0:a.isActive)){var e=setInterval((function(){o()}),200);return function(){clearInterval(e)}}}),[null===a||void 0===a?void 0:a.isActive,o,i]),h.useEffect((function(){if(i)return e.onLocalRun((function(){o()}))}),[e,o,i]),h.useEffect((function(){i&&(r?n({pane:{type:"instructions"},activate:!1}):t({type:"instructions"}))}),[r,n,t,i]),Mh(Jc.showShell.id,{type:"shell"}),Mh(Jc.showDocs.id,{type:"docs"}),Mh(Jc.showGit.id,{type:"git"}),Mh(Jc.showSettings.id,{type:"preferences"}),Mh(Jc.showConsole.id,{type:"runnerOutput"}),Mh(Jc.showGhostwriter.id,{type:"ghostwriterChat"})}function Mh(e,n){var t=(0,z.Vz)(),r=(0,z.x7)();(0,xr.Il)((function(){if(r)return[e,function(){t({pane:n,activate:!0})}]}),[r,t])}var Dh=t(706);function Ph(){var e=(0,ce.Z)(["\n  query TrackMultiplayer($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        multiplayers {\n          id\n        }\n        owner {\n          ... on Team {\n            id\n          }\n          ... on User {\n            id\n          }\n        }\n      }\n    }\n  }\n"]);return Ph=function(){return e},e}var jh={},_h=(0,ue.Ps)(Ph());function Uh(){var e,n=(0,_.Z)().presence,t=(0,kn.Z)(),r=(0,h.useRef)(!1),i=function(e){var n=(0,se.Z)({},jh,e);return de.a(_h,n)}({variables:{replId:t}}),o=i.data,a=i.loading,l=0;"Repl"===(null===o||void 0===o?void 0:o.repl.__typename)&&(l=o.repl.multiplayers.length,"User"===(null===(e=o.repl.owner)||void 0===e?void 0:e.__typename)&&(l+=1));(0,h.useEffect)((function(){if(!a&&!r.current){var e=n.onActiveUsersChange((function(){r.current=!0,e(),(0,x.j)(x.U3.MULTIPLAYER_REPL_OPENED,{replId:t,participantsCount:l,usersOnlineCount:n.getActiveUsers().length})}));return e}}),[t,a,l,n])}function Xh(){var e=(0,kn.Z)(),n=Bc(e),t=Ec(e),r=(0,W.Cp)();(0,h.useEffect)((function(){r({paneType:"chat",indicatorType:n>0?"unread":void 0})}),[r,n]),(0,h.useEffect)((function(){r({paneType:"threadInbox",indicatorType:t>0?"unread":void 0})}),[r,t])}var Vh=t(66494);function zh(){var e=(0,z.ex)(),n=(0,W.zo)(),t=(0,W.VX)();(0,h.useEffect)((function(){t(e),e&&n(e)}),[e,t,n])}var Wh=t(56774);function Ah(e){var n,t=e.repl,r=e.currentUser,i=r.id===(null===(n=t.user)||void 0===n?void 0:n.id),o=(0,_.Z)(),a=o.session,l=o.replspaceApi;!function(){var e=(0,_.Z)(),n=e.lspnix,t=e.lsp,r=(0,Ko.Z)().preferences.codeIntelligence;h.useEffect((function(){if(!r)return t.stop(),void n.disable();t.start(),n.enable()}),[n,t,r])}(),function(){var e=(0,z.ne)(),n=(0,kn.Z)();(0,h.useEffect)((function(){var t=function(){e({replId:n,force:!1}),e.flush()};return window.addEventListener("beforeunload",t),function(){window.removeEventListener("beforeunload",t)}}),[e,n]),(0,h.useEffect)((function(){var t=function(){"hidden"===document.visibilityState&&e({replId:n,force:!1})};return document.addEventListener("visibilitychange",t),function(){document.removeEventListener("visibilitychange",t)}}),[e,n]),(0,h.useEffect)((function(){var t=null;return function r(){t=setTimeout((function(){e({replId:n,force:!1}),r()}),6e4)}(),function(){t&&clearTimeout(t)}}),[e,n]),(0,h.useEffect)((function(){return function(){e({replId:n,force:!1}),e.flush()}}),[e,n])}(),(0,Tf.Z)(),(0,zf.Z)({workspaceType:"desktop"}),h.useEffect((function(){var e=function(e){"s"===e.key&&(0,Qo.j)(e)&&e.preventDefault()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[]),Rh(),Vf(),function(){var e=(0,_.Z)().presence;h.useEffect((function(){return e.onFollowingUsersChanged((function(e){var n=e.followingUsers,t=e.type,r=n.length;"follow"===t?(0,x.j)(vi.U3.REMOTE_USER_CURSOR_FOLLOWED,{numFollowers:r}):(0,x.j)(vi.U3.REMOTE_USER_CURSOR_UNFOLLOWED,{numFollowers:r})}))}),[e])}(),uh({isAnon:!1,isOwner:i,ignoreUnloadPrompt:(0,Bf.Z)()}),function(){var e=(0,_.Z)().presence,n=(0,z.ex)();(0,h.useEffect)((function(){e.updateOpenFile(n)}),[e,n])}(),Ih(),(0,Th.ZP)(),Gh(),(0,Qf.Z)(),function(){var e=(0,_.Z)(),n=e.presence,t=e.session;(0,h.useEffect)((function(){return n.onUserOpenedFile((function(e){var r=e.user,i=e.file,o=n.getFollowedUser();o&&o.id===r.id&&i&&t.openFile(i)}))}),[n,t]);var r=(0,h.useState)(null),i=r[0],o=r[1];(0,h.useEffect)((function(){return n.onFollowedUserChanged(o)}),[n,t]),(0,h.useEffect)((function(){var e=function(){n.unfollowUser()};if(i){var t=setTimeout((function(){document.addEventListener("click",e)}),0);return function(){clearTimeout(t),document.removeEventListener("click",e)}}}),[i])}(),Nf(),Kf((0,z.gQ)()),function(){var e=(0,Dh.T)(),n=(0,z.cT)();(0,h.useEffect)((function(){e&&n({pane:{type:"education"}})}),[e,n])}(),function(){var e=(0,fs.Z)().isTutorial,n=(0,z.$x)();(0,h.useEffect)((function(){e&&n()}),[n,e])}(),Xh(),jf(t.id),zh(),function(){var e=(0,z._F)(),n=(0,bu.Xo)(),t=(0,bu.jY)(),r=(0,z.Zr)();(0,h.useEffect)((function(){e?n(e):t()}),[n,t,e]);var i=(0,Qc.bS)();(0,h.useEffect)((function(){if(e&&!r){var n=setTimeout((function(){return i(e)}));return function(){clearTimeout(n)}}}),[i,e,r])}(),Eh({onOpenFile:function(e){a.openFile(e.path),a.updateDeeplink(e)}}),(0,h.useEffect)((function(){return If.YA("replId",t.id),Xl.c_.setTag("replId",t.id),function(){If.YA("replId",void 0),Xl.c_.setTag("replId",void 0)}}),[t.id]),function(e){var n=e.repl,t=e.currentUser,r=(0,_.Z)().container,i=(0,w.useRouter)(),o=(0,eh.S)(),a=(0,Jf.b)({repl:n,currentUser:t});(0,h.useEffect)((function(){var e;if(a)return nh||(nh=!0,e=i.query.initialConnectionMetadata),r.connect({customConnectionMetadata:e,context:a,getMinimumRetryDelayMs:o}),function(){r.close()}}),[a,r]),(0,h.useEffect)((function(){return function(){r.destroy()}}),[r])}({repl:t,currentUser:r}),ah(),(0,h.useEffect)((function(){var e,n="Repl"===(null===(e=t.origin)||void 0===e?void 0:e.__typename)?t.origin.id:null;return(0,bf.Fy)({id:t.id,slug:t.slug,originId:n,roles:r.roles&&r.roles.map((function(e){return e.name}))}),function(){(0,bf.dv)()}}),[t,r.roles]);var s=(0,z.Id)(),c=(0,Dr.T)();(0,h.useEffect)((function(){s(!c)}),[c,s]),Uh(),(0,Vh.B)(),(0,Wh.b)();var u=(0,bu.fg)();(0,h.useEffect)((function(){l.setWaitForFileClose(u)}),[l,u]);var d=(0,tf.uV)(),p=(0,z.xs)();return(0,h.useEffect)((function(){p&&d(p)}),[d,p]),null}var Fh=t(24134),Nh=t(83729);function Oh(){var e=(0,ce.Z)(["\n  query ExtensionStore($replId: String!, $userId: Int) {\n    extensionList(includeNonBlessed: true, userId: $userId) {\n      ...TopLevelExtension\n      installation(replId: $replId) {\n        ...TopLevelExtensionInstallation\n      }\n    }\n  }\n  ","\n  ","\n"]);return Oh=function(){return e},e}var Hh=(0,ue.Ps)(Oh(),Nh.R9,Nh.gp);var qh,$h,Yh=t(27773),Kh=t(66866),Qh=t(36501),Jh=t(10941),em=t(96957),nm=t(26085),tm=t(56186);!function(e){e.RAW="RAW",e.PROXY="PROXY",e.THROW="THROW",e.HANDLER="HANDLER"}(qh||(qh={})),function(e){e.GET="GET",e.SET="SET",e.APPLY="APPLY",e.CONSTRUCT="CONSTRUCT",e.ENDPOINT="ENDPOINT",e.RELEASE="RELEASE"}($h||($h={}));var rm=Symbol("Comlink.proxy"),im=Symbol("Comlink.endpoint"),om=Symbol("Comlink.releaseProxy"),am=Symbol("Comlink.thrown"),lm=function(e){return"object"===typeof e&&null!==e||"function"===typeof e},sm={canHandle:function(e){return lm(e)&&e[rm]},serialize:function(e){var n=new MessageChannel,t=n.port1,r=n.port2;return um(e,t),[r,[r]]},deserialize:function(e){return e.start(),fm(e,[],n);var n}},cm=new Map([["proxy",sm],["throw",{canHandle:function(e){return lm(e)&&am in e},serialize:function(e){var n=e.value;return[(0,gr.Z)(n,Error)?{isError:!0,value:{message:n.message,name:n.name,stack:n.stack}}:{isError:!1,value:n},[]]},deserialize:function(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function um(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:self,t=arguments.length>2?arguments[2]:void 0;function r(i){if(i&&i.data&&(!t||i.origin===t.origin&&i.source===t.source)){var o,a=(0,se.Z)({path:[]},i.data),l=a.id,s=a.type,c=a.path,u=(i.data.argumentList||[]).map(bm);try{var d=c.slice(0,-1).reduce((function(e,n){return e[n]}),e),p=c.reduce((function(e,n){return e[n]}),e);switch(s){case $h.GET:o=p;break;case $h.SET:d[c.slice(-1)[0]]=bm(i.data.value),o=!0;break;case $h.APPLY:o=p.apply(d,u);break;case $h.CONSTRUCT:o=gm((0,tm.Z)(p,(0,D.Z)(u)));break;case $h.ENDPOINT:var f=new MessageChannel,h=f.port1,m=f.port2;um(e,m),o=vm(h,[h]);break;case $h.RELEASE:o=void 0;break;default:return}}catch(v){o=(0,ae.Z)({value:v},am,0)}Promise.resolve(o).catch((function(e){return(0,ae.Z)({value:e},am,0)})).then((function(e){var t=(0,L.Z)(Zm(e),2),i=t[0],o=t[1];n.postMessage((0,un.Z)((0,se.Z)({},i),{id:l}),o),s===$h.RELEASE&&(n.removeEventListener("message",r),dm(n))}))}}return n.addEventListener("message",r),n.start&&n.start(),function(){n.removeEventListener("message",r),dm(n)}}function dm(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function pm(e){if(e)throw new Error("Proxy has been released and is not useable")}function fm(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=!1,i=new Proxy(t,{get:function(t,o){if(pm(r),o===om)return function(){return xm(e,{type:$h.RELEASE,path:n.map((function(e){return e.toString()}))}).then((function(){dm(e),r=!0}))};if("then"===o){if(0===n.length)return{then:function(){return i}};var a=xm(e,{type:$h.GET,path:n.map((function(e){return e.toString()}))}).then(bm);return a.then.bind(a)}return fm(e,(0,D.Z)(n).concat([o]))},set:function(t,i,o){pm(r);var a=(0,L.Z)(Zm(o),2),l=a[0],s=a[1];return xm(e,{type:$h.SET,path:(0,D.Z)(n).concat([i]).map((function(e){return e.toString()})),value:l},s).then(bm)},apply:function(t,i,o){pm(r);var a=n[n.length-1];if(a===im)return xm(e,{type:$h.ENDPOINT}).then(bm);if("bind"===a)return fm(e,n.slice(0,-1));var l=(0,L.Z)(hm(o),2),s=l[0],c=l[1];return xm(e,{type:$h.APPLY,path:n.map((function(e){return e.toString()})),argumentList:s},c).then(bm)},construct:function(t,i){pm(r);var o=(0,L.Z)(hm(i),2),a=o[0],l=o[1];return xm(e,{type:$h.CONSTRUCT,path:n.map((function(e){return e.toString()})),argumentList:a},l).then(bm)}});return i}function hm(e){var n,t=e.map(Zm);return[t.map((function(e){return e[0]})),(n=t.map((function(e){return e[1]})),Array.prototype.concat.apply([],n))]}var mm=new WeakMap;function vm(e,n){return mm.set(e,n),e}function gm(e){return Object.assign(e,(0,ae.Z)({},rm,!0))}function Zm(e){var n=!0,t=!1,r=void 0;try{for(var i,o=cm[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var a=(0,L.Z)(i.value,2),l=a[0],s=a[1];if(s.canHandle(e)){var c=(0,L.Z)(s.serialize(e),2),u=c[0],d=c[1];return[{type:qh.HANDLER,name:l,value:u},d]}}}catch(p){t=!0,r=p}finally{try{n||null==o.return||o.return()}finally{if(t)throw r}}return[{type:qh.RAW,value:e},mm.get(e)||[]]}function bm(e){switch(e.type){case qh.HANDLER:return cm.get(e.name).deserialize(e.value);case qh.RAW:return e.value}}function xm(e,n,t){return new Promise((function(r){var i=new Array(4).fill(0).map((function(){return Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)})).join("-");e.addEventListener("message",(function n(t){t.data&&t.data.id&&t.data.id===i&&(e.removeEventListener("message",n),r(t.data))})),e.start&&e.start(),e.postMessage((0,se.Z)({id:i},n),t)}))}function ym(e,n){return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var o=!0,a=!1,l=void 0;try{for(var s,c=e[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value;u()}}catch(d){a=!0,l=d}finally{try{o||null==c.return||c.return()}finally{if(a)throw l}}return n.apply(void 0,(0,D.Z)(r))}}function wm(e,n){var t={};for(var r in n)"function"===typeof n[r]&&(t[r]=ym(e,n[r]));return t}function Cm(e,n){return function(){var t=e.store.get(e.extensionStateAtom),r=!0,i=!1,o=void 0;try{for(var a,l=n[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var s=a.value;if(!t.scopes.has(s)){var c="Scope not declared in extension.json: ".concat(s);if(e.flagEnforceScopes)throw e.logger.error(c),new Error(c);e.logger.warn("".concat(c,". In the future this will throw an error"))}}}catch(u){i=!0,o=u}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}}}var km=t(57);function Lm(e){return e.error?{error:e.error,success:!1}:{success:!0,error:null}}function Sm(){var e=(0,ce.Z)(["\n  fragment InitialCurrentUserData on CurrentUser {\n    id\n    username\n    image\n    bio\n  }\n"]);return Sm=function(){return e},e}function Rm(){var e=(0,ce.Z)(["\n  fragment SocialCurrentUserData on CurrentUser {\n    url\n    socials {\n      id\n      url\n      type\n    }\n    firstName\n    lastName\n    displayName\n    fullName\n    followCount\n    followerCount\n  }\n"]);return Rm=function(){return e},e}function Im(){var e=(0,ce.Z)(["\n  fragment RolesCurrentUserData on CurrentUser {\n    roles {\n      id\n      name\n      key\n      tagline\n    }\n  }\n"]);return Im=function(){return e},e}function Tm(){var e=(0,ce.Z)(["\n  fragment PlanCurrentUserData on CurrentUser {\n    isUserHacker: subscriptionIsType(subscriptionType: HACKER)\n    isUserPro: subscriptionIsType(subscriptionType: HACKER_PRO)\n  }\n"]);return Tm=function(){return e},e}function Bm(){var e=(0,ce.Z)(["\n  fragment SocialUserData on User {\n    url\n    socials {\n      id\n      url\n      type\n    }\n    firstName\n    lastName\n    displayName\n    fullName\n    followCount\n    followerCount\n  }\n"]);return Bm=function(){return e},e}function Em(){var e=(0,ce.Z)(["\n  fragment RolesUserData on User {\n    roles {\n      id\n      name\n      key\n      tagline\n    }\n  }\n"]);return Em=function(){return e},e}function Gm(){var e=(0,ce.Z)(["\n  fragment PlanUserData on User {\n    isUserHacker: subscriptionIsType(subscriptionType: HACKER)\n    isUserPro: subscriptionIsType(subscriptionType: HACKER_PRO)\n  }\n"]);return Gm=function(){return e},e}function Mm(){var e=(0,ce.Z)(["\n  fragment InitialReplData on Repl {\n    id\n    url\n    title\n    description\n    timeCreated\n    slug\n    isPrivate\n  }\n"]);return Mm=function(){return e},e}function Dm(){var e=(0,ce.Z)(["\n  fragment SocialReplData on Repl {\n    likeCount\n    publicForkCount\n    runCount\n    commentCount\n    iconUrl\n    imageUrl\n    tags {\n      id\n      isOfficial\n    }\n  }\n"]);return Dm=function(){return e},e}function Pm(){var e=(0,ce.Z)(["\n  fragment CommentsReplData on Repl {\n    comments {\n      items {\n        id\n        body\n        user {\n          id\n          username\n          image\n        }\n      }\n    }\n  }\n"]);return Pm=function(){return e},e}function jm(){var e=(0,ce.Z)(["\n  fragment InitialUserData on User {\n    id\n    username\n    image\n    bio\n  }\n"]);return jm=function(){return e},e}function _m(){var e=(0,ce.Z)(["\n  fragment OwnerData on Repl {\n    owner {\n      __typename\n      ... on User {\n        ...InitialUserData\n      }\n      ... on Team {\n        id\n        username\n        image\n        description\n      }\n    }\n  }\n  ","\n"]);return _m=function(){return e},e}function Um(){var e=(0,ce.Z)(["\n  fragment MultiplayersData on Repl {\n    multiplayers {\n      ...InitialUserData\n    }\n  }\n  ","\n"]);return Um=function(){return e},e}function Xm(){var e=(0,ce.Z)(["\n  query extensionPortCurrentUser(\n    $includeSocialData: Boolean! = false\n    $includeRoles: Boolean! = false\n    $includePlan: Boolean! = false\n  ) {\n    user: currentUser {\n      ...InitialCurrentUserData\n      ...SocialCurrentUserData @include(if: $includeSocialData)\n      ...RolesCurrentUserData @include(if: $includeRoles)\n      ...PlanCurrentUserData @include(if: $includePlan)\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return Xm=function(){return e},e}function Vm(){var e=(0,ce.Z)(["\n  query extensionPortUserByUsername(\n    $username: String!\n    $includeSocialData: Boolean! = false\n    $includeRoles: Boolean! = false\n    $includePlan: Boolean! = false\n  ) {\n    userByUsername(username: $username) {\n      ...InitialUserData\n      ...SocialUserData @include(if: $includeSocialData)\n      ...RolesUserData @include(if: $includeRoles)\n      ...PlanUserData @include(if: $includePlan)\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return Vm=function(){return e},e}function zm(){var e=(0,ce.Z)(["\n  query extensionPortUserById(\n    $id: Int!\n    $includeSocialData: Boolean! = false\n    $includeRoles: Boolean! = false\n    $includePlan: Boolean! = false\n  ) {\n    user(id: $id) {\n      ...InitialUserData\n      ...SocialUserData @include(if: $includeSocialData)\n      ...RolesUserData @include(if: $includeRoles)\n      ...PlanUserData @include(if: $includePlan)\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return zm=function(){return e},e}function Wm(){var e=(0,ce.Z)(["\n  query currentUserEditorPreferences {\n    currentUser {\n      id\n      editorPreferences {\n        fontSize\n        indentIsSpaces\n        indentSize\n        keyboardHandler\n        wrapping\n        codeIntelligence\n        codeSuggestion\n        multiselectModifierKey\n        minimapDisplay\n      }\n    }\n  }\n"]);return Wm=function(){return e},e}function Am(){var e=(0,ce.Z)(["\n  query extensionPortReplById(\n    $id: String!\n    $includeSocialData: Boolean! = false\n    $includeComments: Boolean! = false\n    $includeOwner: Boolean! = false\n    $includeMultiplayers: Boolean! = false\n  ) {\n    repl(id: $id) {\n      __typename\n      ... on Repl {\n        ...InitialReplData\n        ...SocialReplData @include(if: $includeSocialData)\n        ...CommentsReplData @include(if: $includeComments)\n        ...OwnerData @include(if: $includeOwner)\n        ...MultiplayersData @include(if: $includeMultiplayers)\n      }\n      ... on ReplRedirect {\n        replUrl\n      }\n      ... on SubscriptionExpiredError {\n        isOwner\n        replId\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Am=function(){return e},e}function Fm(){var e=(0,ce.Z)(["\n  query extensionPortReplByUrl(\n    $url: String!\n    $includeSocialData: Boolean! = false\n    $includeComments: Boolean! = false\n    $includeOwner: Boolean! = false\n    $includeMultiplayers: Boolean! = false\n  ) {\n    repl(url: $url) {\n      __typename\n      ... on Repl {\n        ...InitialReplData\n        ...SocialReplData @include(if: $includeSocialData)\n        ...CommentsReplData @include(if: $includeComments)\n        ...OwnerData @include(if: $includeOwner)\n        ...MultiplayersData @include(if: $includeMultiplayers)\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Fm=function(){return e},e}var Nm=(0,ue.Ps)(Sm()),Om=(0,ue.Ps)(Rm()),Hm=(0,ue.Ps)(Im()),qm=(0,ue.Ps)(Tm()),$m=(0,ue.Ps)(Bm()),Ym=(0,ue.Ps)(Em()),Km=(0,ue.Ps)(Gm()),Qm=(0,ue.Ps)(Mm()),Jm=(0,ue.Ps)(Dm()),ev=(0,ue.Ps)(Pm()),nv=(0,ue.Ps)(jm()),tv=(0,ue.Ps)(_m(),nv),rv=(0,ue.Ps)(Um(),nv),iv=(0,ue.Ps)(Xm(),Nm,Om,Hm,qm);var ov=(0,ue.Ps)(Vm(),nv,$m,Ym,Km);var av=(0,ue.Ps)(zm(),nv,$m,Ym,Km);var lv=(0,ue.Ps)(Wm());var sv=(0,ue.Ps)(Am(),Qm,Jm,ev,tv,rv);var cv=(0,ue.Ps)(Fm(),Qm,Jm,ev,tv,rv);function uv(e){return function(){var n=(0,r.Z)((function(n){var t,r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,null===vs.l||void 0===vs.l?void 0:vs.l.query({query:e,variables:n||void 0})];case 1:if(null===(t=i.sent())||void 0===t?void 0:t.data)return[2,t.data];throw new Error(null===t||void 0===t||null===(r=t.error)||void 0===r?void 0:r.message)}}))}));return function(e){return n.apply(this,arguments)}}()}var dv=t(44945),pv=dv.z.record(dv.z.string().nonempty());function fv(e){var n=e.services.container.client(),t=e.logger.createLogger({api:"exec"});function o(){return o=(0,r.Z)((function(e){var r,o,a,l,s;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,e.args];case 1:return r=i.sent(),[4,e.env];case 2:if(o=i.sent(),t.info("exec: ".concat(e.args),{environmentVariables:o}),!pv.safeParse(o).success)throw new Error("Invalid environment variables");return[4,e.splitStderr];case 3:return a=i.sent(),l=function(){},s=new Promise((function(i){l=n.openChannel({service:"exec"},(function(n){var s=n.channel;s.onCommand((function(n){a?n.output?e.onOutput(n.output):n.stderr&&e.onStdErr(n.stderr):n.output&&e.onOutput(n.output)})),s.request({exec:{args:r,env:o,splitStderr:Boolean(a)}}).then((function(n){if(n.ok)i({exitCode:0,error:null});else{if(n.channelClosed){var t="Channel closed before command's execution finished";return e.onError(t),void i({exitCode:null,error:t})}if("open"===s.status&&l(),!n.error)throw new Error("Unknown error");var r,o,a=Number(null===(o=null===(r=n.error)||void 0===r?void 0:r.match(/-?[0-9]+/g))||void 0===o?void 0:o[0]);i({exitCode:"number"===typeof a?a:null,error:n.error})}})).catch((function(n){t.error("exec: threw crosis error:\n".concat(n));var r="exec() failed due to internal error. See console for details.";e.onError(r),i({error:r,exitCode:null})}))}))})),[2,gm({dispose:function(){l()},promise:s})]}}))})),o.apply(this,arguments)}return(0,se.Z)({},wm([Cm(e,["write-exec"])],{exec:function(e){return o.apply(this,arguments)}}))}function hv(){function e(){return e=(0,r.Z)((function(){var e,n,t,r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,null===vs.l||void 0===vs.l?void 0:vs.l.query({query:lv})];case 1:if(null===(t=i.sent())||void 0===t||null===(e=t.data)||void 0===e||null===(n=e.currentUser)||void 0===n?void 0:n.editorPreferences)return[2,t.data.currentUser.editorPreferences];throw new Error(null===t||void 0===t||null===(r=t.error)||void 0===r?void 0:r.message)}}))})),e.apply(this,arguments)}return{getPreferences:function(){return e.apply(this,arguments)}}}function mv(){var e=(0,ce.Z)(["\n  query ExtensionApiAuthToken($installationId: String!) {\n    extensionInstallationById(id: $installationId) {\n      ... on ExtensionInstallation {\n        id\n        token\n      }\n    }\n  }\n"]);return mv=function(){return e},e}var vv=(0,ue.Ps)(mv());function gv(e){return function(){if(!e.store.get(e.extensionStateAtom).enableExperimentalApi)throw new Error("Experimental APIs are not enabled. (If you are the developer, please add the `experimental-api` scope to your extension.json)")}}function Zv(e){return(0,un.Z)((0,se.Z)({},wm([gv(e)],(0,un.Z)((0,se.Z)({},fv(e)),{hasExperimentalApi:function(){return!0}}))),{editor:wm([gv(e)],(0,se.Z)({},hv())),auth:wm([gv(e)],(0,se.Z)({},(n=e,{getAuthToken:function(){return(0,r.Z)((function(){var e,t;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return[4,null===vs.l||void 0===vs.l?void 0:vs.l.query({query:vv,variables:{installationId:n.extension.installationId}})];case 1:if(!(null===(e=r.sent())||void 0===e?void 0:e.data))throw new Error("Failed to authenticate: something went wrong");if("NotFoundError"===(t=e.data.extensionInstallationById).__typename)throw new Error("Failed to authenticate: invalid installation ID");if("ExtensionInstallation"!==t.__typename)throw new Error("Failed to authenticate: something went wrong");if(!t.token)throw new Error("Failed to authenticate: something went wrong");return[2,t.token]}}))}))()}})))});var n}function bv(e){return e.store.get(e.extensionStateAtom).enableInternalApi?{hasInternalApi:function(){return!0}}:null}function xv(e){var n=e.filePath,t=e.replId,o=e.environmentAPIs;function a(){return a=(0,r.Z)((function(n){var t,r,o,a;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,null===n||void 0===n?void 0:n.clientName];case 1:return r=null!==(t=i.sent())&&void 0!==t?t:"(unset)",[4,null===n||void 0===n?void 0:n.clientVersion];case 2:return a=null!==(o=i.sent())&&void 0!==o?o:"(unset)",(0,x.j)(x.U3.EXTENSION_SANDBOX_INITIALIZED,{clientName:r,clientVersion:a,extensionId:e.extension.extensionId,extensionName:e.extension.manifest.name,installationId:e.extension.installationId}),[2,{success:!0}]}}))})),a.apply(this,arguments)}var l=(0,un.Z)((0,se.Z)({filePath:n},function(e){var n=function(e,n){return"utf8"===n?e.toString():"binary"===n?e.toBuffer():e},t=e.services.fs,o=e.logger.createLogger({api:"fs"});function a(){return(a=(0,r.Z)((function(e,n){var r,o,a;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return r=(0,km.AH)(e),"string"!==typeof n?[3,1]:(o=n,[3,4]);case 1:return(0,gr.Z)(n,Blob)?(a=K.Z.from,[4,n.arrayBuffer()]):[3,3];case 2:return o=a.apply(K.Z,[i.sent()]),[3,4];case 3:o=K.Z.from(n),i.label=4;case 4:return[4,t.writeFile(r,o)];case 5:return[2,Lm(i.sent())]}}))}))).apply(this,arguments)}function l(){return l=(0,r.Z)((function(e){var r,o,a,l=arguments;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:"utf8",o=(0,km.AH)(e),[4,t.readFile(o)];case 1:return(a=i.sent()).error?[2,{error:a.error,content:null}]:[2,{error:null,content:n(a.content,r)}]}}))})),l.apply(this,arguments)}function s(){return(s=(0,r.Z)((function(e){var n,r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return n=(0,km.AH)(e),[4,t.readDir(n)];case 1:return(r=i.sent()).error?[2,{error:r.error,children:null}]:[2,{error:null,children:r.children}]}}))}))).apply(this,arguments)}function c(){return(c=(0,r.Z)((function(e){var n;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return n=(0,km.AH)(e),[4,t.createDir(n)];case 1:return[2,Lm(r.sent())]}}))}))).apply(this,arguments)}function u(){return(u=(0,r.Z)((function(e){var n;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return n=(0,km.AH)(e),[4,t.deleteDir(n)];case 1:return[2,Lm(r.sent())]}}))}))).apply(this,arguments)}function d(){return(d=(0,r.Z)((function(e){var n;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return n=(0,km.AH)(e),[4,t.deleteFile(n)];case 1:return[2,Lm(r.sent())]}}))}))).apply(this,arguments)}function p(){return(p=(0,r.Z)((function(e,n){var r,o,a;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return r=(0,km.AH)(e),[4,t.stat(r)];case 1:return(o=i.sent()).exists?o.type!==T.Tv.File?[3,3]:[4,t.moveFile(r,n)]:[2,{error:"File or directory does not exist",success:!1}];case 2:return a=i.sent(),[3,5];case 3:return[4,t.moveDir(r,n)];case 4:a=i.sent(),i.label=5;case 5:return[2,Lm(a)]}}))}))).apply(this,arguments)}function f(){return(f=(0,r.Z)((function(e,n){var r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return r=(0,km.AH)(e),[4,t.copyFile(r,n)];case 1:return[2,Lm(i.sent())]}}))}))).apply(this,arguments)}return wm([Cm(e,["read"])],(0,se.Z)({readFile:function(e){return l.apply(this,arguments)},readDir:function(e){return s.apply(this,arguments)},watchFile:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"binary",i=(0,km.AH)(e);(0,tr.Mb)(i)&&o.warn("Extension used watchFile on a text file. This works, but watchTextFile is preferred.");var a=t.watchFile(i,{onChange:function(e){"utf8"!==r?n.onChange(e.asBuffer):n.onChange(e.toString("utf8"))},onError:function(e){n.onError(e.message)},onMoveOrDelete:function(e){n.onMoveOrDelete({eventType:e.eventType,node:e.node})}});return gm((function(){a()}))},watchDir:function(e,n){var r=(0,km.AH)(e),i=t.watchDir(r,{onChange:function(t){n.onChange(t.map((function(n){return{path:(0,km.Oh)(e)+n.filename,type:n.type}})))},onError:function(e){n.onError(e)},onMoveOrDelete:function(e){n.onMoveOrDelete(e)}});return gm((function(){i()}))}},wm([Cm(e,["write-exec"])],{createDir:function(e){return c.apply(this,arguments)},deleteDir:function(e){return u.apply(this,arguments)},writeFile:function(e,n){return a.apply(this,arguments)},deleteFile:function(e){return d.apply(this,arguments)},copyFile:function(e,n){return f.apply(this,arguments)},move:function(e,n){return p.apply(this,arguments)},watchTextFile:function(e,n){(0,tr.Mb)(e)||o.warn("It appears that you are trying to use watchTextFile on a non-OT file. Please use fs.watchFile instead");var a=t.watchTextFile(e,{onReady:function(e){var t=e.fetchChanges,r=e.initialContent,i=e.transformSelection,o=e.updateSelections,a=e.version,l=e.writeChange;n.onReady(gm({writeChange:l,fetchChanges:t,initialContent:r,version:a,transformSelection:i,updateSelections:o}))},onChange:function(){var e=(0,r.Z)((function(e){var t,r,o,a;return(0,i.__generator)(this,(function(i){return t=e.latestContent,r=e.changeSource,o=e.changes,a=e.version,n.onChange({latestContent:t.toString(),version:a,changeSource:r,changes:o.toJSON()}),[2]}))}));return function(n){return e.apply(this,arguments)}}(),onError:function(e){n.onError(e.message)},onMoveOrDelete:function(e){n.onMoveOrDelete({eventType:e.eventType,node:e.node})}});return gm((function(){a()}))}})))}(e),function(e){var n=e.services.container,t=null;function o(){return a.apply(this,arguments)}function a(){return(a=(0,r.Z)((function(){var e;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return t?[2]:[4,n.exec("bash","-c","echo $REPLIT_DB_URL")];case 1:if((e=r.sent()).error||!e.output)throw new Error("unable to find REPLIT_DB_URL");return t=e.output.trim(),[2]}}))}))).apply(this,arguments)}function l(){return(l=(0,r.Z)((function(e,r){return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,o()];case 1:return i.sent(),[4,n.exec("curl",t,"-s","-d","".concat(e,"=").concat(r))];case 2:return i.sent(),[2]}}))}))).apply(this,arguments)}function s(){return(s=(0,r.Z)((function(e){return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return[4,o()];case 1:return r.sent(),[4,n.exec("curl","-s","".concat(t,"/").concat(e))];case 2:return[2,r.sent().output]}}))}))).apply(this,arguments)}function c(){return(c=(0,r.Z)((function(e){var r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,o()];case 1:return i.sent(),[4,n.exec("curl","-s","".concat(t,"?prefix=").concat(e))];case 2:return(r=i.sent()).error||!r.output?[2,{error:r.error}]:[2,{keys:r.output.split("\n")}]}}))}))).apply(this,arguments)}function u(){return(u=(0,r.Z)((function(e){var r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,o()];case 1:return i.sent(),[4,n.exec("curl","-s","-XDELETE","".concat(t,"/").concat(e))];case 2:return(r=i.sent()).error||!r.output?[2,{error:r.error}]:[2,{keys:r.output.split("\n")}]}}))}))).apply(this,arguments)}return wm([Cm(e,["repldb:read"])],(0,se.Z)({getReplDbValue:function(e){return s.apply(this,arguments)},listReplDbKeys:function(e){return c.apply(this,arguments)}},wm([Cm(e,["repldb:write"])],{setReplDbValue:function(e,n){return l.apply(this,arguments)},deleteReplDbKey:function(e){return u.apply(this,arguments)}})))}(e),function(e){return{watchActiveFile:function(n){return gm(e.environmentAPIs.watchActiveFile(n))},openFile:e.environmentAPIs.openFile,getActiveFile:function(){return e.environmentAPIs.getActiveFile()}}}(e),function(e){var n=e.getThemeContext,t=e.onThemeChange;return{getCurrentTheme:function(){return n().theme},getCurrentThemeValues:function(){return n().theme.values.global},onThemeChange:function(e){var n=t(e);return gm((function(){n()}))},onThemeChangeValues:function(e){var n=t((function(n){return e(n.values.global)}));return gm((function(){n()}))}}}(e),function(e){var n=e.showMessage;return{showConfirm:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4e3;return n({content:e,type:"confirm",time:t>1e4?1e3:t,style:arguments.length>2?arguments[2]:void 0})},showError:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4e3;return n({content:e,type:"error",time:t>1e4?1e3:t,style:arguments.length>2?arguments[2]:void 0})},showNotice:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4e3;return n({content:e,type:"notice",time:t>1e4?1e3:t,style:arguments.length>2?arguments[2]:void 0})},showWarning:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4e3;return n({content:e,type:"warning",time:t>1e4?1e3:t,style:arguments.length>2?arguments[2]:void 0})},hideMessage:e.hideMessage,hideAllMessages:e.hideAllMessages}}(o.toasts),function(e){var n=e.replId;return{currentUser:uv(iv),userById:uv(av),userByUsername:uv(ov),currentRepl:function(e){return uv(sv)((0,se.Z)({id:n},e))},replById:uv(sv),replByUrl:uv(cv)}}({replId:t}),fv(e),function(e){var n=e.extension,t=e.paneId,r=e.environmentAPIs,i=!1;return{activatePane:function(){t&&(r.activatePane(t),i||(i=!0,(0,x.j)(x.U3.EXTENSION_USED,{extensionId:n.extensionId,extensionName:n.manifest.name})))}}}(e)),{experimental:Zv(e),internal:bv(e),handshake:function(e){return a.apply(this,arguments)}});return l}function yv(e){var n=e.extensionIframe,t=new URL(n.src).origin,r=xv(e);if(!n.contentWindow)throw new Error("No contentWindow");var i=um(r,function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:self,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*";return{postMessage:function(n,r){e.postMessage(n,t,r)},addEventListener:n.addEventListener.bind(n),removeEventListener:n.removeEventListener.bind(n)}}(n.contentWindow,self,t),{origin:t,source:n.contentWindow}),o=function(r){if(r.origin===t&&n.contentWindow===r.source){var i=r.data;i.payload&&e.logger.warn("Extension sent deprecated postMessage",i)}};return window.addEventListener("message",o),function(){i(),window.removeEventListener("message",o)}}function wv(e){var n=e.extension,t=e.sandboxUrl,r=e.sandboxTitle,i=e.paneId,o=e.environmentAPIs,a=e.filePath,l=h.useRef(null),s=(0,kn.Z)(),c=(0,_.Z)(),u=h.useRef(),d=(0,C.P5)({controlName:"flag-extensions-enforce-scopes",default:!1,type:"boolean"}),p=(0,Cp.Ld)(),f=(0,Fh.r9)(null===n||void 0===n?void 0:n.installationId),m=(0,cp.F)(),v=h.useRef(m),g=h.useRef([]);v.current=m;var Z=(0,cf.Z)(),b=(0,L.Z)(h.useState(!1),2),x=b[0],y=b[1];(0,h.useEffect)((function(){Z===em.em.CONNECTED&&y(!0)}),[Z]),(0,h.useEffect)((function(){g.current.forEach((function(e){return e(m.theme)}))}),[m.theme]),(0,h.useEffect)((function(){return function(){u.current&&u.current()}}),[]);var w=h.useCallback((function(){try{return"https:"===new URL(t).protocol}catch(e){return!1}}),[t]),k=h.useCallback((function(){if(l.current&&w()&&n&&f){u.current&&u.current();var e={extension:n,extensionIframe:l.current,services:c,paneId:i,replId:s,flagEnforceScopes:d,getThemeContext:function(){return v.current},onThemeChange:function(e){return g.current.push(e),function(){g.current.splice(g.current.indexOf(e),1)}},store:p,extensionStateAtom:f,environmentAPIs:o,filePath:a,logger:n.logger.createLogger({sandboxUrl:t,sandboxTitle:r})};u.current=yv(e)}}),[v,c,w,i,d,p,f,o,s,a,n,t,r]),S=h.useCallback((function(){if(l.current){var e=l.current.src;l.current.src=e}}),[]);return{isValidExtensionPaneUrl:w,didConnectOnce:x,getIframeProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,un.Z)((0,se.Z)({title:r,src:t},nm.Z,e),{ref:(0,Ai.l)(l,e.ref),onLoad:function(n){k(),e.onLoad&&e.onLoad(n)}})},reloadSandbox:S}}var Cv=t(87187);function kv(e){var n=e.extension,t=e.environmentAPIs;if(!n.manifest.background)throw new Error("ExtensionBackground loaded without a background script defined in manifest");var r=(0,Fh.r9)(n.installationId),i=wv({extension:n,sandboxUrl:(0,Cv.Vh)(n.baseUrl,n.manifest.background.page),sandboxTitle:"Extension Background: "+n.manifest.name,environmentAPIs:t,paneId:null,filePath:null}),a=i.didConnectOnce,l=i.isValidExtensionPaneUrl,s=i.getIframeProps;return l()&&a&&r?(0,o.tZ)("iframe",(0,se.Z)({},s({css:{width:"0px",height:"0px",border:"none"}}))):null}function Lv(){var e=(0,z.CA)(),n=(0,bu.Xo)(),t=(0,W.QH)(),r=(0,W.pV)(),i=(0,it.Z)();return(0,j.Z)((function(){return{openFile:e,watchActiveFile:t,getActiveFile:r,activatePane:n,toasts:i}}),[e,t,r,n,i])}function Sv(e){var n=e.hostedUrl,t=(0,kn.Z)(),a=(0,ys.d)(),l=(0,iu.c)(),s=(0,Fh.WF)(),c=(0,z.cT)(),u=(0,Yh.Kf)(),d=(0,Fh.ot)(),p=(0,Fh.L4)();(0,iu.S)();var f=(0,Fh.Mu)(),m=Lv(),v=(0,C.P5)({controlName:"flag-extensions-background",default:!1,type:"boolean"}),g=(0,h.useState)(!1),Z=g[0],b=g[1];h.useEffect((function(){t&&p(t)}),[t,p]);var x=function(e){var n=e.filterUser;return function(){var e=(0,r.Z)((function(e){var r,l,c;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return e.active?[4,null===vs.l||void 0===vs.l?void 0:vs.l.query({query:Hh,variables:{replId:t,userId:n?a:void 0}})]:[2,[]];case 1:return!(r=i.sent())||r.error?[2,[]]:(l=r.data.extensionList)?[2,l.map((function(e){return{match:U.pl,data:{type:"action",label:e.name,icon:(0,o.tZ)(ou.Z,{}),description:null!==(c=e.description)&&void 0!==c?c:"",run:function(){e.url&&(e.installation?d({installationId:(0,Kh.A)(e.installation.id)}):s({replId:t,extension:e}))}}}}))]:[2,[]]}}))}));return function(n){return e.apply(this,arguments)}}()};return Er({match:U.pl,commands:function(e){return e.active||""!==e.search?[{match:U.pl,data:{type:"action",label:"Extension Devtools",icon:(0,o.tZ)($.Z,{}),description:"Manage and deploy this Repl as an extension",run:function(){c({pane:{type:"extensionDevtools"}})}}},{match:U.pl,data:{type:"action",label:"URL",icon:(0,o.tZ)($.Z,{}),description:"Add an extension by URL",run:function(){b(!0)}}},{match:U.pl,data:{type:"action",label:"From this Repl",icon:(0,o.tZ)($.Z,{}),description:"Load this Repl as an extension",run:function(){u(n)}}},{match:U.pl,data:{type:"context",label:"My Extensions",icon:(0,o.tZ)(ou.Z,{}),description:"Browse extensions you have created"},commands:x({filterUser:!0})},{match:U.pl,data:{type:"action",label:"Docs",icon:(0,o.tZ)(Ya.Z,{}),description:"Read the Extensions docs",run:function(){c({pane:{type:"docs",data:{url:Qh.TT.EXTENSIONS}}})}}}]:[]},data:{type:"context",label:"Extensions",icon:(0,o.tZ)(ou.Z,{}),description:"Manage extensions"}},{enabled:l}),(0,o.BX)(o.HY,{children:[(0,o.tZ)(on.u,{isOpen:Z,onRequestClose:function(){return b(!1)},children:(0,o.tZ)(Jh.Z,{prompt:"Add an extension by URL",desc:"Insert extension url",placeholder:"https://example-extension.repl.co",type:"text",onCancel:function(){return b(!1)},onConfirm:function(e){u(e)}})}),v?f.map((function(e){return e.manifest.background?(0,o.tZ)(kv,{environmentAPIs:m,extension:e},e.installationId):null})):null]})}var Rv=t(49534);var Iv=t(10916),Tv={Content:function(e){var n=e.options,t=n.performPaneOperation,r=n.paneId,i=e.pane.data.autoFocus,a=(0,z.cr)({paneId:r}),l=(0,z.Z0)(),s=(0,h.useRef)(null);(0,h.useEffect)((function(){var e;a&&(null===(e=s.current)||void 0===e||e.call(s))}),[a]),(0,Qc.L5)((function(){return{focus:function(){var e;null===(e=s.current)||void 0===e||e.call(s)}}}),[s]);var c=(0,h.useCallback)((function(e){var n=e.path;t({operation:"replace",pane:{type:(0,E.Dp)({path:n}),data:{path:n}}}),l(r)}),[t,r,l]),u=re({currentPaneId:r,openFile:c});return(0,o.tZ)(M.X,{autoFocus:i,command:u,onSelect:function(e){if("openPane"===e.data.type)return(0,x.j)(x.U3.TOOL_OPENED,{source:"New Tab",tool:e.data.pane.type}),t({operation:"replace",pane:e.data.pane}),void l(r)},focusRef:s})},Icon:function(){return null},getTitle:function(){return"New tab"}},Bv=t(96733),Ev=t(28650),Gv=t(83622),Mv=t(98414),Dv=t(99194),Pv=t(74823),jv=t(12800),_v={Content:function(e){var n=e.options,t=n.paneId,r=n.isHidden,i=n.performPaneOperation,a=(0,_.Z)(),l=a.container,s=a.fs,c=a.session,u=a.runner,d=(0,z.eM)(),p=(0,ha.Dv)(Dv.f),h=(0,Dv.Z)();(0,Pv.Z)({container:l,runner:u,refreshWebView:h}),(0,jv.Z)({runner:u,refreshWebView:h}),(0,Ku.x)(Bv.b,{run:function(){d(t),h()}}),Er({match:U.pl,data:{type:"action",label:"Refresh",icon:(0,o.tZ)(Mv.Z,{}),description:"Refresh webview",keyboardShortcut:(0,Tr.l2)({cmdOrCtrl:!0,key:"s"}),run:function(){d(t),h()}}});var m=(0,di.Z)(f.y.Output),v=(0,gl.T)();return(0,o.tZ)(Gv.Z,{fs:s,session:c,ref:p,isVisible:!r,containerRef:v?m:void 0,openPane:function(e){i({operation:"open",pane:e})}})},Icon:function(e){var n=e.size;return(0,o.tZ)(Ev.Z,{size:n})},getTitle:function(){return"Webview"}};var Uv=t(51814);function Xv(e){return(0,o.BX)(o.HY,{children:[(0,o.tZ)(at.Z,{truncate:!0,level:5,children:"Call stack"}),(0,o.tZ)(Jn.gC,{align:"stretch",constrainWidth:!0,children:e.frames.map((function(n){return(0,o.tZ)(Vv,{frame:n,onClick:e.onFrameClick},n.id)}))})]})}function Vv(e){var n,t,r=e.frame,i=e.onClick,a=null===(n=r.source)||void 0===n?void 0:n.name,l=null===(t=r.source)||void 0===t?void 0:t.path,s=a&&(0,Bh.om)(a),c=l&&(0,Bh.om)(l),u=l&&(0,Bh.IT)(l);return(0,o.BX)(o.HY,{children:[(0,o.BX)("div",{onClick:function(){return u&&i(u,r.line)},className:"jsx-c66d0af1ad52f929 frame",children:[(0,o.tZ)("div",{className:"jsx-c66d0af1ad52f929 label name",children:r.name}),(0,o.BX)("div",{className:"jsx-c66d0af1ad52f929 label path",children:[(0,o.tZ)("span",{className:"jsx-c66d0af1ad52f929 line",children:r.line}),s||c||a||l]})]}),(0,o.tZ)(sn(),{id:"c66d0af1ad52f929",children:".frame.jsx-c66d0af1ad52f929{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;max-width:100%;height:var(--space-32);cursor:pointer;color:var(--foreground-dimmer);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);font-size:var(--font-size-small);font-family:var(--font-family-code)}.frame.jsx-c66d0af1ad52f929:hover{background-color:var(--background-higher);color:var(--foreground-default)}.label.jsx-c66d0af1ad52f929{font-size:var(--font-size-default);padding-left:var(--space-8);padding-right:var(--space-8);overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}.name.jsx-c66d0af1ad52f929{-webkit-box-flex:0;-webkit-flex:0 0 auto;-moz-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;background-color:var(--background-higher);padding:1px 2px;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px}.path.jsx-c66d0af1ad52f929{-webkit-box-flex:0;-webkit-flex:0 1 auto;-moz-box-flex:0;-ms-flex:0 1 auto;flex:0 1 auto}.line.jsx-c66d0af1ad52f929{display:inline-block;margin-right:var(--space-8);background-color:var(--background-higher);padding:1px 2px;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px}"})]})}function zv(e){var n=[],t=!0,r=!1,i=void 0;try{for(var a,l=e.breakpoints[Symbol.iterator]();!(t=(a=l.next()).done);t=!0){var s=(0,L.Z)(a.value,2),c=s[0],u=s[1],d=!0,p=!1,f=void 0;try{for(var h,m=u[Symbol.iterator]();!(d=(h=m.next()).done);d=!0){var v=h.value;n.push((0,o.tZ)(Wv,{breakpoint:v,file:c,line:v.line,verified:v.verified,onClick:e.onBreakpointClick,onRemove:e.onRemove},"".concat(c,":").concat(v.line,":").concat(v.pid1Id,":").concat(v.dapId)))}}catch(g){p=!0,f=g}finally{try{d||null==m.return||m.return()}finally{if(p)throw f}}}}catch(g){r=!0,i=g}finally{try{t||null==l.return||l.return()}finally{if(r)throw i}}return(0,o.BX)(o.HY,{children:[(0,o.tZ)(at.Z,{truncate:!0,level:5,children:"Breakpoints"}),n.length>0?(0,o.tZ)(Jn.gC,{align:"stretch",constrainWidth:!0,children:n}):(0,o.BX)(lt.Z,{size:"xsmall",foreground:2,children:["To start, add a breakpoint ",(0,o.tZ)("span",{className:"jsx-223474dbb82a953c breakpoint"})," by clicking on the line number.",(0,o.tZ)(sn(),{id:"223474dbb82a953c",children:".breakpoint.jsx-223474dbb82a953c{display:inline-block;background-color:var(--accent-primary-default);-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;width:8px;height:8px}"})]})]})}function Wv(e){var n=e.breakpoint,t=e.file,r=e.line,i=e.verified,a=e.onClick,l=e.onRemove,s=(0,Bh.om)(t);return(0,o.BX)(o.HY,{children:[(0,o.tZ)(Jn.gC,{spacing:1,align:"stretch",children:(0,o.tZ)("div",{className:"jsx-3743f20b19d8f08d breakpoint",children:(0,o.BX)("div",{css:[{"&:hover":{backgroundColor:u.TV.backgroundHigher,color:u.TV.foregroundDefault},"&:focus-within":{color:u.TV.foregroundDefault},"&:hover .frameButton":{background:u.TV.backgroundHigher,backgroundColor:u.TV.backgroundHigher,opacity:1},"&:focus-within .frameButton":{opacity:1},"&:hover .frameButton:hover":{backgroundColor:u.TV.backgroundHighest}}],onClick:function(){a(t,r)},className:"jsx-3743f20b19d8f08d frame",children:[(0,o.tZ)("div",{className:"jsx-3743f20b19d8f08d "+(mn()("circle",{verified:i})||"")}),(0,o.tZ)("div",{className:"jsx-3743f20b19d8f08d line",children:r}),(0,o.tZ)("div",{className:"jsx-3743f20b19d8f08d location",children:(0,o.tZ)("span",{className:"jsx-3743f20b19d8f08d path",children:s||t})}),(0,o.tZ)(nn.h,{className:"frameButton",alt:"Remove breakpoint",css:[{opacity:0}],onClick:function(){l({breakpoint:n})},children:(0,o.tZ)(ot.Z,{})})]})})}),(0,o.tZ)(sn(),{id:"3743f20b19d8f08d",children:".breakpoint.jsx-3743f20b19d8f08d{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;max-width:100%;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.frame.jsx-3743f20b19d8f08d{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex:1 1 auto;-moz-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;height:var(--space-32);cursor:pointer;color:var(--foreground-dimmer);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);font-size:var(--font-size-default)}.circle.jsx-3743f20b19d8f08d{-webkit-box-flex:0;-webkit-flex:0 0 auto;-moz-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;background-color:var(--accent-primary-default);-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;width:11px;height:11px;margin-left:var(--space-8);margin-right:var(--space-8);opacity:.5}.verified.jsx-3743f20b19d8f08d{opacity:1}.line.jsx-3743f20b19d8f08d{font-family:var(--font-family-code);background-color:var(--background-higher);padding:1px 2px;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px}.location.jsx-3743f20b19d8f08d{font-family:var(--font-family-code);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex:1 1 auto;-moz-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;min-width:0;font-size:var(--font-size-default);padding-left:var(--space-8);padding-right:var(--space-8)}.path.jsx-3743f20b19d8f08d{overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}"})]})}var Av=t(65120),Fv=t(31633),Nv=t(11497),Ov=t(3778),Hv=t(18707),qv=t(80877),$v=t(70335);function Yv(e){var n=e.client,t=e.debugConfig,r=(0,Gi.Z)(null===n||void 0===n?void 0:n.state),i=(0,Gi.Z)(null===n||void 0===n?void 0:n.supportsStepBack);return(0,o.BX)(p.G,{css:u.l0.rowWithGap(2),children:[i?(0,o.BX)(o.HY,{children:[(0,o.tZ)(nn.h,{size:40,disabled:!n||"paused"!==r,onClick:function(){(0,x.j)(x.U3.DEBUGGER_USED,{action:"lastBreakpoint"}),null===n||void 0===n||n.reverseContinue()},alt:"Last Breakpoint",tooltipContents:"Last Breakpoint",tooltipPlacement:"bottom",children:(0,o.tZ)(Fv.Z,{})}),(0,o.tZ)(nn.h,{size:40,disabled:!n||"paused"!==r,onClick:function(){(0,x.j)(x.U3.DEBUGGER_USED,{action:"stepBack"}),null===n||void 0===n||n.back()},alt:"Step Back",tooltipContents:"Step Back",tooltipPlacement:"bottom",children:(0,o.tZ)(Ov.Z,{})})]}):null,(0,o.tZ)(Qv,{stop:function(){(0,x.j)(x.U3.DEBUGGER_USED,{action:"stop"}),null===n||void 0===n||n.stop()},start:function(){(0,x.j)(x.U3.DEBUGGER_USED,{action:"start"}),null===n||void 0===n||n.start(t)},state:r}),(0,o.tZ)(nn.h,{size:40,disabled:!n||"paused"!==r,onClick:function(){(0,x.j)(x.U3.DEBUGGER_USED,{action:"nextStep"}),null===n||void 0===n||n.next()},alt:"Next Step",tooltipContents:"Next Step",tooltipPlacement:"bottom",children:(0,o.tZ)(jo.Z,{})}),(0,o.tZ)(nn.h,{size:40,disabled:!n||"paused"!==r,onClick:function(){(0,x.j)(x.U3.DEBUGGER_USED,{action:"skipStep"}),null===n||void 0===n||n.skip()},alt:"Skip Step",tooltipContents:"Skip Step",tooltipPlacement:"bottom",children:(0,o.tZ)(Hv.Z,{rotate:90})}),(0,o.tZ)(nn.h,{size:40,disabled:!n||"paused"!==r,onClick:function(){(0,x.j)(x.U3.DEBUGGER_USED,{action:"nextBreakpoint"}),null===n||void 0===n||n.continue()},alt:"Next Breakpoint",tooltipContents:"Next Breakpoint",tooltipPlacement:"bottom",children:(0,o.tZ)(Nv.Z,{})})]})}var Kv=(0,a.F4)({"0%":{opacity:.2},"50%":{opacity:1},"100%":{opacity:.2}});function Qv(e){var n=e.state,t=e.start,r=e.stop;return"terminated"===n?(0,o.tZ)(nn.h,{css:u.l0.color.accentPrimaryDefault,size:40,onClick:t,alt:"Run",tooltipContents:"Run",tooltipPlacement:"bottom",children:(0,o.tZ)(qv.Z,{})}):"stopping"===n||null===n?(0,o.tZ)(nn.h,{size:40,disabled:!0,alt:"Loading",tooltipContents:"Loading",tooltipPlacement:"bottom",children:(0,o.tZ)(vn.Z,{})}):(0,o.tZ)(nn.h,{css:"initializing"===n||"preinitializing"===n?[u.l0.color.foregroundDimmer,{animationName:Kv.toString(),animationDuration:"2s",animationIterationCount:"infinite"}]:u.l0.color.accentPrimaryDefault,size:40,onClick:r,alt:"Stop",tooltipContents:"Stop",tooltipPlacement:"bottom",children:(0,o.tZ)($v.Z,{})})}var Jv=t(76197),eg=t(71058),ng=t(38893);function tg(e){var n=e.children;return(0,o.BX)(Je.T,{background:"default",css:[u.l0.height("100%"),u.l0.width("100%"),u.l0.p(8),u.l0.overflow("auto"),{borderTopRightRadius:u.TV.borderRadius4,paddingBottom:"44px"}],children:[(0,o.BX)(Jn.gC,{spacing:2,align:"stretch",justify:"center",constrainWidth:!0,children:[(0,o.tZ)(Jn.Ug,{spacing:1,align:"center",justify:"space-between",constrainWidth:!0,children:(0,o.tZ)(at.Z,{truncate:!0,level:4,children:"Debugger"})}),n]}),(0,o.tZ)(sn(),{id:"ffa04cbdbbf3badd",children:"a.jsx-ffa04cbdbbf3badd{font-size:var(--font-size-default);color:var(--accent-primary-default);font-weight:var(--font-weight-medium)}"})]})}function rg(e){var n=(0,rr.H)(),t=(0,_.Z)().debuggest,r=(0,Gi.Z)(t.mainClient),i=(0,Gi.Z)(r?r.state:null),a=(0,Gi.Z)(r?r.stackFrames:null),l=(0,Gi.Z)(r?r.variables:null),s=(0,Gi.Z)(r?r.breakpoints:null),c=(0,W.R3)(),f=(0,z.Vu)(),m=(0,gc.T)(),v=!!(null===m||void 0===m?void 0:m.debuggers)&&m.debuggers.length>0,g=(0,h.useState)(null),Z=g[0],b=g[1],x=h.useMemo((function(){return function(e,n,t,r){if(!(null===e||void 0===e?void 0:e.debuggers))return[];var i=[];if(n=n.slice(),r&&-1===n.indexOf(r)&&n.splice(0,0,r),t){var o=n.indexOf(t);-1!==o&&(n.splice(o,1),n.splice(0,0,t))}var a=!0,l=!1,s=void 0;try{for(var c,u=n[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var d=c.value;if(d.match(/(\.[a-z0-9]+)$/)){var p=!0,f=!1,h=void 0;try{for(var m,v=e.debuggers[Symbol.iterator]();!(p=(m=v.next()).done);p=!0){var g=m.value;if(g.fileParam){var Z=(0,eg.rF)(g.fileTypeAttrs);null===Z&&g.language&&(Z=eg.$R.from(g.language)),Z&&(0,ng.JW)(d,Z)&&i.push({debuggerOption:g,filePath:d,title:"Debug ".concat(d," (").concat(g.name,")")})}}}catch(L){f=!0,h=L}finally{try{p||null==v.return||v.return()}finally{if(f)throw h}}}}}catch(L){l=!0,s=L}finally{try{a||null==u.return||u.return()}finally{if(l)throw s}}var b=!0,x=!1,y=void 0;try{for(var w,C=e.debuggers[Symbol.iterator]();!(b=(w=C.next()).done);b=!0){var k=w.value;k.fileParam||i.push({debuggerOption:k,title:"Debug (".concat(k.name,")")})}}catch(L){x=!0,y=L}finally{try{b||null==C.return||C.return()}finally{if(x)throw y}}return i}(m||null,f.map((function(e){return e.filePath||""})),c,(null===m||void 0===m?void 0:m.entrypoint)||"")}),[c,f,m]);h.useEffect((function(){(x.length>0&&!Z||Z&&!x.find((function(e){return e.debuggerOption.id===Z.debuggerOption.id&&e.filePath===Z.filePath})))&&b(x[0])}),[x]);var y=function(n,t){var r=(0,Bh.om)(n);r&&e.onOpenFile({path:r,line:t})};return v?(0,o.BX)(tg,{children:[x.length>0&&(0,o.tZ)(Vp.P,{id:n("debug-config"),items:x,selectedItem:Z,onChange:function(e){b(e)},"aria-label":"Select a debugging configuration"}),(0,o.tZ)(Yv,{client:r,debugConfig:Z||void 0}),s?(0,o.tZ)(zv,{breakpoints:s,onBreakpointClick:y,onRemove:function(e){var n=e.breakpoint;r&&n.pid1Id&&r.removeBreakpoint(n.pid1Id)}}):null,l&&r&&"paused"===i?(0,o.tZ)(Av.Z,{client:r,variables:l}):null,a&&"paused"===i?(0,o.tZ)(Xv,{frames:a,onFrameClick:y}):null,r?(0,o.tZ)(p.G,{css:[u.l0.flex.row,u.l0.justify.end,u.l0.position.absolute,u.l0.bottom(0),u.l0.right(0),u.l0.p(8),u.l0.backgroundColor.backgroundDefault,u.l0.borderRadius(0,0,8,8),{width:"100%"}],children:(0,o.tZ)(en.zx,{small:!0,outlined:!0,onClick:function(){return function(e){if("undefined"===typeof Blob)return;var n=new Blob([e],{type:"text/plain"}),t=document.createElement("a");t.download="debugger-logs.txt",t.href=URL.createObjectURL(n),t.dataset.downloadurl=["text/plain",t.download,t.href].join(":"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t),setTimeout((function(){URL.revokeObjectURL(t.href)}),1500)}(r.getDebugLogs())},text:"Download Logs",iconLeft:(0,o.tZ)(Jv.Z,{})})}):null]}):(0,o.tZ)(tg,{children:(0,o.tZ)(d.h4,{level:2,children:"Sorry, no debugger found."})})}var ig=t(7985),og={Content:function(){return(0,o.tZ)(ag,{})},Icon:function(e){var n=e.size;return(0,o.tZ)(ig.Z,{size:n})},getTitle:function(){return"Debugger"}};function ag(){var e=(0,_.Z)().session;return(0,o.tZ)(rg,{onOpenFile:function(n){e.openFile(n.path),e.updateDeeplink(n)}})}function lg(){var e=(0,ce.Z)(["\n  query ReplAuth($replID: String!) {\n    repl(id: $replID) {\n      ... on Repl {\n        id\n        config {\n          isServer\n        }\n      }\n    }\n    currentUser {\n      id\n      isLoggedIn\n    }\n  }\n"]);return lg=function(){return e},e}var sg={},cg=(0,ue.Ps)(lg());var ug=t(72428),dg=t(89263),pg=t(43855),fg="Import HTML package",hg=[{title:"Get user info",content:[{type:"code",value:'<script type="module">const user = await getUserInfo() <\/script>'}]}],mg=[{title:fg,content:[{type:"code",value:'<script src="https://replit.com/public/js/repl-auth-v2.js"><\/script>'}]}],vg=[{title:"Insert custom button",content:[{type:"code",value:'<button onclick="LoginWithReplit()"> Login </button>'}]}],gg="Import Node package",Zg=[{title:"Get user info",content:[{type:"code",value:"const user = getUserInfo("},{type:"input",placeholder:"req"},{type:"code",value:")"}]}],bg=[{title:gg,content:[{type:"code",value:'const { getUserInfo } = require("@replit/repl-auth")'}]}],xg=function(e){var n=e.title,t=e.content,r=(0,L.Z)(h.useState(t),2),i=r[0],a=r[1];return(0,o.BX)(p.G,{css:[u.l0.colWithGap(4)],children:[(0,o.BX)(p.G,{css:[u.l0.rowWithGap(4),u.l0.align.center],children:[(0,o.tZ)(d.xv,{css:{fontWeight:u.TV.fontWeightMedium},multiline:!0,children:n}),"Get user info"===n&&(0,o.BX)(pn.u,{tooltip:"User object contains 'id', 'name', 'roles', and 'teams'",placement:"top",children:[" ",(0,o.tZ)(ht.Z,{})]})]}),(0,o.BX)(p.G,{css:[u.l0.colWithGap(4),{width:"100%",wordBreak:"break-word"}],children:[(0,o.tZ)(p.G,{css:[u.l0.rowWithGap(4),u.l0.backgroundColor.backgroundRoot,u.l0.borderRadius(4),u.l0.p(4),u.l0.align.center],children:t.map((function(e,t){return"input"===e.type?(0,o.tZ)(za.II,{onChange:function(e){var n=(0,D.Z)(i);n[t].value=e.target.value,a(n)},placeholder:e.placeholder,value:e.value||"",css:[u.l0.width(64),u.l0.height(24),u.l0.zIndex(1)]},"".concat(n,"-").concat(t)):(0,o.tZ)(p.G,{css:[u.l0.borderRadius(4),u.l0.backgroundColor.backgroundRoot,{width:"100%"}],children:(0,o.tZ)(d.xv,{css:[u.l0.font.code,u.l0.color.greyStronger,u.l0.pb(4),u.l0.pt(4),{overflow:"revert",overflowY:"scroll",textOverflow:"revert"}],children:e.value})},"".concat(n,"-").concat(t))}))}),(0,o.tZ)(yg,{code:i.reduce((function(e,n){return"input"===n.type?e+(n.value||n.placeholder):e+n.value}),""),packageImport:n===gg||n===fg})]})]})},yg=function(e){var n=e.code,t=e.packageImport,r=(0,W.R3)(),i=(0,Va.Z)(r),a=(0,_.Z)().fs,l=(0,W.Qt)();return i?(0,o.tZ)(Je.T,{background:"default",children:(0,o.tZ)(en.zx,{small:!0,outlined:!0,onClick:function(){var e,o;if(t&&r&&a)return"html"!==(0,tr.r6)(r)?void i({code:n,insertAt:0}):void a.readFile(r).then((function(e){if(e.error)throw e.error;var t=K.Z.from(e.content).toString(),r=t.indexOf("</head>")-1;-1===r&&(r=t.indexOf("<script")),-1===r&&(r=t.indexOf("</body>")),-1===r&&(r=t.length),i({code:n,insertAt:r})}));var s=null!==(o=null===(e=l())||void 0===e?void 0:e.position.offset)&&void 0!==o?o:0;i({code:n,insertAt:s})},text:t?"Auto add":"Insert",iconRight:(0,o.tZ)(Fd.Z,{}),css:{width:"fit-content"}})}):(0,o.tZ)(Je.T,{background:"default",children:(0,o.tZ)(en.zx,{small:!0,outlined:!0,onClick:function(){return(0,Fr.Z)(n)},text:"Copy",iconLeft:(0,o.tZ)(Ar.Z,{}),css:{width:"fit-content"}})})},wg=function(e){var n=e.examples;return(0,o.tZ)(p.G,{css:[u.l0.colWithGap(16)],children:n.map((function(e,n){return(0,o.tZ)(xg,{title:e.title,content:e.content},n)}))})},Cg=function(e){var n=null;switch(e.langKey){case"html":n=mg;break;case"nodejs":n=bg}return n?(0,o.tZ)(p.G,{css:[u.l0.colWithGap(8)],children:(0,o.tZ)(wg,{examples:n})}):null},kg=[{title:"Fetch from client",content:[{type:"code",value:"CURL /__replauthuser"}]},{title:"Or access server request headers",content:[{type:"code",value:"X-Replit-User-Id"}]},{title:"",content:[{type:"code",value:"X-Replit-User-Name"}]},{title:"",content:[{type:"code",value:"X-Replit-User-Teams"}]},{title:"",content:[{type:"code",value:"X-Replit-User-Roles"}]}],Lg=function(){return(0,o.tZ)(o.HY,{children:(0,o.tZ)(p.G,{css:[u.l0.colWithGap(16)],children:kg.map((function(e,n){return(0,o.tZ)(xg,{title:e.title,content:e.content},n)}))})})},Sg=function(e){var n=e.langKey,t=(0,o.tZ)(Lg,{});switch(n){case"html":t=(0,o.tZ)(wg,{examples:hg});break;case"nodejs":t=(0,o.tZ)(wg,{examples:Zg})}return(0,o.tZ)(p.G,{css:[u.l0.colWithGap(8)],children:t})},Rg=function(e){var n=e.langKey;return(0,o.BX)(p.G,{css:[u.l0.colWithGap(8)],children:[" ","html"!==n&&(0,o.tZ)(wg,{examples:mg}),(0,o.tZ)(wg,{examples:vg})]})},Ig=t(48783),Tg=t(81429);function Bg(){var e,n,t,a,l=(0,kn.Z)(),s=(0,_.Z)(),c=s.dotReplit,f=s.fs,m=(0,W.R3)(),v=(0,dg.I)(),g=(0,Ca.Z)(),Z=(0,Dv.Z)(),b=(0,it.Z)().showError,y=(0,L.Z)(h.useState(!1),2),w=y[0],C=y[1],k=(0,L.Z)(h.useState(!1),2),S=k[0],R=k[1],I=(0,L.Z)(h.useState(!0),2),T=I[0],B=I[1],E=(0,L.Z)(h.useState(!0),2),G=E[0],M=E[1],D=(0,L.Z)(h.useState(""),2),P=D[0],j=D[1],U=m?(0,tr.r6)(m):null,X=function(e){var n=(0,se.Z)({},sg,e);return de.a(cg,n)}({variables:{replID:l}}),V=X.data,z=X.error,A=X.loading,F="Repl"===(null===V||void 0===V?void 0:V.repl.__typename)&&(null===V||void 0===V||null===(e=V.repl)||void 0===e||null===(n=e.config)||void 0===n?void 0:n.isServer);z&&(a="Couldn't load auth data");var N=null===V||void 0===V||null===(t=V.currentUser)||void 0===t?void 0:t.isLoggedIn,O=w||S,H=h.useCallback((0,r.Z)((function(){var e,n,t,r,o,a,l,s,u=arguments;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:if(e=u.length>0&&void 0!==u[0]&&u[0],!g)return[2];B(!0),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,c.getConfig({bypassCache:!0})];case 2:if((s=i.sent()).error){if(s.error===Ig.Yt.NotFound)return M(!1),B(!1),[2];throw b("Couldn't load auth data"),B(!1),new Error(s.errorMessage)}return e&&(null===s||void 0===s||null===(n=s.config)||void 0===n||null===(t=n.auth)||void 0===t?void 0:t.pageEnabled)!==S&&Z(),C(Boolean(null===s||void 0===s||null===(r=s.config)||void 0===r||null===(o=r.auth)||void 0===o?void 0:o.buttonEnabled)),R(Boolean(null===s||void 0===s||null===(a=s.config)||void 0===a||null===(l=a.auth)||void 0===l?void 0:l.pageEnabled)),B(!1),[3,4];case 3:return i.sent(),b("Couldn't load auth data"),B(!1),[3,4];case 4:return[2]}}))})),[g,c,b,Z]);function q(){return $.apply(this,arguments)}function $(){return($=(0,r.Z)((function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return B(!0),(0,x.j)(x.U3.AUTH_SIDEBAR_USED,{action:"Login Page Enabled"}),[4,c.updateDotReplit([(0,yc.$0)(!0),(0,yc.Jk)(!1)])];case 1:return e.sent().error&&g&&(b("Couldn't enable login page, please try again"),B(!1)),[2]}}))}))).apply(this,arguments)}function Y(){return K.apply(this,arguments)}function K(){return(K=(0,r.Z)((function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return B(!0),(0,x.j)(x.U3.AUTH_SIDEBAR_USED,{action:"Login Button Enabled"}),[4,c.updateDotReplit([(0,yc.$0)(!1),(0,yc.Jk)(!0)])];case 1:return e.sent().error&&g&&(b("Couldn't enable login button, please try again"),B(!1)),[2]}}))}))).apply(this,arguments)}function Q(){return J.apply(this,arguments)}function J(){return(J=(0,r.Z)((function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return B(!0),(0,x.j)(x.U3.AUTH_SIDEBAR_USED,{action:"Repl auth disabled"}),[4,c.updateDotReplit([(0,yc.$0)(!1),(0,yc.Jk)(!1)])];case 1:return e.sent().error&&(b("Couldn't disable Log in with Replit, please try again"),B(!1)),[2]}}))}))).apply(this,arguments)}h.useEffect((function(){var e=function(){var e=(0,r.Z)((function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return f&&g?[4,H()]:[2];case 1:return e.sent(),[2]}}))}));return function(){return e.apply(this,arguments)}}();e()}),[f,g,H]),h.useEffect((function(){if(f&&g){var e=f.watchTextFile(pg.l,{onChange:(0,r.Z)((function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return g?[4,H(!0)]:[2];case 1:return e.sent(),[2]}}))}))});return function(){e(),g&&(R(!1),C(!1),B(!1))}}}),[g,f,R,H]),h.useEffect((function(){v.find((function(e){return"react"===e.language}))||"jsx"===U||"tsx"===U?j("react"):v.length>0&&j(v[0].language)}),[U,P,j,v]);var ee=function(){var e="html"===P||"nodejs"===P,n=(0,o.tZ)(d.xv,{multiline:!0,color:"dimmer",children:"You can use Log in with Replit with all web Repls. We have language clients for Nodejs and HTML - switch to a Repl that uses that language to see how to use it."});return w?(0,o.BX)(o.HY,{children:[(0,o.BX)(d.xv,{multiline:!0,color:"dimmer",children:["Your users can log in to your Repl using a custom button. Start by importing the package below"," ",(0,o.BX)("span",{onClick:q,css:[u.l0.color.blueStronger,u.l0.cursor.pointer],onKeyDown:q,role:"button",tabIndex:0,children:[" ","or use a prebuilt login page."]})]}),!e&&n]}):S?(0,o.BX)(o.HY,{children:[(0,o.BX)(d.xv,{multiline:!0,color:"dimmer",children:["Your Repl will automatically direct users to a prebuilt login page. Start by importing the package below"," ",(0,o.BX)("span",{onClick:Y,css:[u.l0.color.blueStronger,u.l0.cursor.pointer],onKeyDown:Y,role:"button",tabIndex:0,children:[" ","or use your own custom button."]})]})," ",!e&&n]}):(0,o.BX)(d.xv,{multiline:!0,css:[u.l0.mb(32),u.l0.pl(8),u.l0.pr(8)],children:["Let users log in to your Repl. Use a prebuilt login page or customize your own button."," ",(0,o.tZ)("a",{href:"https://docs.replit.com/hosting/repl-auth-sidebar",target:"_blank",rel:"noopener",css:[u.l0.color.accentPrimaryStronger,u.l0.pr(4)],children:"Learn more"})]})},ne=function(){return T||A?(0,o.tZ)(p.G,{css:[u.l0.align.center],children:(0,o.tZ)(vn.Z,{})}):N?a?(0,o.tZ)(d.xv,{multiline:!0,css:[u.l0.color.accentNegativeStronger],children:a}):G?"html"===P||F?O?(0,o.BX)(p.G,{children:[(0,o.BX)(p.G,{css:[u.l0.colWithGap(8),u.l0.pl(8),u.l0.pr(8)],children:[(0,o.tZ)(p.G,{css:[u.l0.colWithGap(8)]}),(0,o.BX)(p.G,{css:[u.l0.colWithGap(8)],children:["nodejs"===P&&w?null:(0,o.tZ)(Cg,{langKey:P}),w?(0,o.tZ)(Rg,{langKey:P}):null]})]}),(0,o.BX)(p.G,{css:[u.l0.pl(8),u.l0.pr(8)],children:[(0,o.tZ)(d.xv,{variant:"small",css:[u.l0.mb(8),u.l0.mt(24),{textTransform:"uppercase",fontWeight:u.TV.fontWeightMedium}],children:"Usage"}),(0,o.tZ)(ug.R,{css:[u.l0.backgroundColor.backgroundHigher]}),(0,o.tZ)(p.G,{css:[u.l0.mt(16)],children:(0,o.BX)(p.G,{css:[u.l0.colWithGap(8)],children:[" ","nodejs"===P&&w?(0,o.tZ)(Cg,{langKey:P}):null,(0,o.tZ)(Sg,{langKey:P})]})})," "]}),(0,o.tZ)(p.G,{css:[u.l0.pr(8),u.l0.pl(8),u.l0.mt(24),u.l0.mb(8)],children:(0,o.tZ)(en.zx,{onClick:Q,text:"Disable Auth",colorway:"negative",outlined:!0})})]}):(0,o.BX)(p.G,{css:[u.l0.pr(8),u.l0.pl(8)],children:[(0,o.tZ)(en.zx,{colorway:"primary",onClick:q,text:"Enable Login Page",iconLeft:(0,o.tZ)(Tg.Z,{})}),(0,o.BX)(d.xv,{multiline:!0,css:[u.l0.textAlign.center,u.l0.mt(8),u.l0.fontSize(12),u.l0.color],children:["Automatically redirect users to a prebuilt login page"," ",(0,o.tZ)("span",{onClick:Y,css:[u.l0.color.blueStronger,u.l0.cursor.pointer],onKeyDown:Y,role:"button",tabIndex:0,children:"or use your own custom button."})]})]}):(0,o.BX)(p.G,{css:[u.l0.textAlign.center],children:[(0,o.tZ)(pr.E,{colorway:"warning",text:"Please start your web app to use Log in with Replit"}),(0,o.tZ)(d.xv,{multiline:!0,css:[u.l0.mt(4)],children:(0,o.tZ)("a",{href:"https://docs.replit.com/hosting/deploying-http-servers",target:"_blank",rel:"noopener",children:"Learn how to start a web app"})})]}):(0,o.BX)(p.G,{css:[u.l0.textAlign.center],children:[(0,o.tZ)(pr.E,{colorway:"warning",text:"Please create a .replit file to use Log in with Replit"}),(0,o.tZ)(d.xv,{multiline:!0,css:[u.l0.mt(4)],children:(0,o.tZ)("a",{href:"https://docs.replit.com/programming-ide/configuring-repl#replit",target:"_blank",rel:"noopener",children:"Learn more about the .replit file"})})]}):(0,o.tZ)(p.G,{css:[u.l0.align.center],children:(0,o.tZ)(Eg,{})})};return(0,o.BX)(p.G,{css:[u.l0.colWithGap(16),u.l0.backgroundColor.backgroundDefault,u.l0.p(8),u.l0.borderRadius(0,4,4,0)],children:[(0,o.tZ)(d.h4,{level:2,variant:"subheadBig",children:"Log in with Replit"}),(0,o.BX)(p.G,{css:[u.l0.colWithGap(16),{overflowY:"auto",width:"100%",flex:"1"}],children:[(0,o.tZ)(ee,{}),(0,o.tZ)(ne,{})]})]})}var Eg=function(){return(0,o.BX)(p.G,{css:[u.l0.colWithGap(16)],children:[(0,o.BX)(d.xv,{multiline:!0,children:[(0,o.tZ)("a",{href:"https://docs.replit.com/hosting/repl-auth-sidebar",target:"_blank",rel:"noopener",css:[u.l0.color.accentPrimaryStronger,u.l0.pr(4)],children:"Replit Authentication"}),"is the fastest and easiest way to set up authentication in your Repl. Try it out by logging in or signing up."]}),(0,o.tZ)(Wr.Z,{href:"/signup",colorway:"primary",text:"Sign up",iconLeft:(0,o.tZ)(Qe.Z,{})})]})},Gg={Content:function(){return(0,o.tZ)(p.G,{css:[u.l0.height("100%"),u.l0.overflowY("auto"),E.F3],children:(0,o.tZ)(Bg,{})})},Icon:function(e){var n=e.size;return(0,o.tZ)(Tg.Z,{size:n})},getTitle:function(){return"Authentication"}},Mg=t(89809),Dg=t(32556),Pg=t(71206),jg=t(79315),_g=t(48665);function Ug(){var e=(0,ce.Z)(["\n  query Threads2Inbox {\n    currentUser {\n      id\n      username\n      image\n    }\n  }\n"]);return Ug=function(){return e},e}var Xg={},Vg=(0,ue.Ps)(Ug());var zg=function(){return(0,o.BX)("svg",{width:"100%",height:"100%",viewBox:"0 0 691 691",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,o.BX)("g",{clipPath:"url(#clip0_954_4340)",children:[(0,o.tZ)("path",{d:"M636.55 403.04H44.91C26.7564 403.04 12.04 417.756 12.04 435.91V643.79C12.04 661.944 26.7564 676.66 44.91 676.66H636.55C654.704 676.66 669.42 661.944 669.42 643.79V435.91C669.42 417.756 654.704 403.04 636.55 403.04Z",fill:"url(#paint0_linear_954_4340)"}),(0,o.tZ)("path",{opacity:"0.71",d:"M526.02 663.9L545.86 602.08C559.46 568.34 534.62 531.54 498.24 531.54H186.98C149.55 531.54 124.7 570.3 140.32 604.31L159.12 663.89H526.02V663.9Z",fill:"url(#paint1_linear_954_4340)"}),(0,o.tZ)("path",{d:"M217.38 314.61C290.392 314.61 349.58 255.422 349.58 182.41C349.58 109.398 290.392 50.21 217.38 50.21C144.368 50.21 85.1802 109.398 85.1802 182.41C85.1802 255.422 144.368 314.61 217.38 314.61Z",fill:"url(#paint2_linear_954_4340)"}),(0,o.tZ)("path",{d:"M120.75 510.55C123.39 538.19 143.97 556.13 170.18 561.75C176.42 563.19 182.79 563.92 189.17 564.39L195.57 564.67C178.54 565.03 160.79 562.34 146.09 553.2C131.43 544.2 121.34 527.81 120.75 510.55Z",fill:"#8A98FF"}),(0,o.tZ)("path",{d:"M225.69 564.67C308.15 564.06 400.65 564.05 483.1 564.67C400.64 565.29 308.14 565.28 225.69 564.67Z",fill:"#8A98FF"}),(0,o.tZ)("path",{d:"M531.57 560.9C546.58 551.84 559.07 537.22 562.44 519.7C563.59 513.9 563.68 507.95 563.1 502.07C564.1 507.91 564.19 513.95 563.19 519.84C560.19 537.61 547.3 552.72 531.57 560.9Z",fill:"#8A98FF"}),(0,o.tZ)("path",{d:"M571.57 554.78C560.27 579.78 532.93 594.05 506.36 595.88C502.53 596.17 498.69 596.24 494.86 596.19C502.52 595.98 510.16 595.18 517.62 593.54C539.86 588.88 561.06 575.34 571.57 554.78Z",fill:"#8A98FF"}),(0,o.tZ)("path",{d:"M448.75 600.43C417.61 601.09 382.98 601.08 351.81 600.43C382.98 599.78 417.6 599.77 448.75 600.43Z",fill:"#8A98FF"}),(0,o.tZ)("path",{d:"M125.93 579.25C113.2 574.83 101.21 564.64 98.6401 550.91C99.2401 552.44 99.6901 554.2 100.47 555.66C105.36 566.51 115.41 574.21 125.94 579.25H125.93Z",fill:"#8A98FF"}),(0,o.tZ)("path",{d:"M122.63 550.92C108.27 541.02 104.78 521.86 109.84 505.93C110.54 503.67 111.36 501.44 112.27 499.26C111.63 501.28 110.78 504.03 110.31 506.06C106.06 522.06 109.3 540.13 122.62 550.92H122.63Z",fill:"#8A98FF"}),(0,o.tZ)("path",{d:"M122.63 485.44C124.51 481.11 128.99 478.25 133.45 477.14C129.54 479.57 125.68 481.91 122.63 485.44Z",fill:"#8A98FF"}),(0,o.tZ)("path",{d:"M576.75 531.49C580.41 516.24 580.52 498.93 571.57 485.44C572.81 487 573.96 488.66 574.93 490.42C581.64 502.91 581.19 518.32 576.74 531.49H576.75Z",fill:"#8A98FF"}),(0,o.tZ)("path",{d:"M579.54 579.25C588.53 567.19 594.92 552.91 596.84 537.95C597.2 535.85 597.23 533.61 597.45 531.49C597.99 548.88 590.98 566.28 579.54 579.25Z",fill:"#8A98FF"}),(0,o.tZ)("path",{d:"M543.81 611.25C558.06 608.69 572.57 604.12 583.9 594.81C585.59 593.57 586.95 591.97 588.5 590.55C577.81 603.74 560.26 609.73 543.81 611.26V611.25Z",fill:"#8A98FF"}),(0,o.tZ)("path",{d:"M85.9304 495.96C90.9804 479.18 105.88 466.78 121.97 460.96L125.73 459.62C127.97 458.93 131.16 458.23 133.45 457.63C130.93 458.48 128.38 459.19 125.88 460.08C108.67 466.24 92.5304 478.4 85.9204 495.95L85.9304 495.96Z",fill:"#8A98FF"}),(0,o.tZ)("path",{d:"M547.63 445.61C564.65 447.41 582.07 454.4 593.27 467.75C594.84 469.66 596.22 471.72 597.46 473.85C586.24 457.4 566.67 449.06 547.63 445.61Z",fill:"#8A98FF"}),(0,o.tZ)("path",{d:"M620.51 510.55C624.76 522.88 625.03 536.26 623.91 549.15C622.85 558.77 620.66 568.49 617.6 577.67C616.52 580.73 615.33 583.76 614.16 586.78C615.59 582.33 617.26 577.4 618.43 572.84C623.74 552.84 625.91 530.74 620.51 510.54V510.55Z",fill:"#8A98FF"}),(0,o.tZ)("path",{d:"M563.68 629.84C552.03 637.13 538.71 642.29 524.93 643.51C509.26 644.08 485.5 643.54 469.79 643.5L456.01 643.25L469.79 643C485.45 642.69 509.25 642.98 524.86 642.6C538.55 641.45 551.78 636.6 563.68 629.83V629.84Z",fill:"#8A98FF"}),(0,o.tZ)("path",{d:"M324.24 653.84C278.39 654.5 227.42 654.49 181.53 653.84C227.42 653.19 278.38 653.18 324.24 653.84Z",fill:"#8A98FF"}),(0,o.tZ)("path",{d:"M240.04 611.25C231.6 611.93 223.06 611.93 214.63 611.25C223.07 610.57 231.61 610.57 240.04 611.25Z",fill:"#8A98FF"}),(0,o.tZ)("path",{d:"M125.93 619.96C101.27 616.41 77.6502 599.76 69.9302 575.49C71.1602 578.36 72.3902 581.22 73.9702 583.91C84.5302 603.14 104.8 615.53 125.93 619.96Z",fill:"#8A98FF"}),(0,o.tZ)("path",{d:"M130.16 565.09C144.25 571.77 159.29 576.91 174.84 578.69C177.05 579.04 179.29 579.04 181.53 579.26C163.55 579.7 145.67 573.97 130.16 565.09Z",fill:"#8A98FF"}),(0,o.tZ)("path",{d:"M200.28 579.25C206.55 578.57 212.83 578.56 219.1 579.25C212.83 579.94 206.55 579.93 200.28 579.25Z",fill:"#8A98FF"}),(0,o.tZ)("path",{d:"M304.75 579.25C349.87 578.59 400.02 578.6 445.17 579.25C400.01 579.9 349.88 579.91 304.75 579.25Z",fill:"#8A98FF"}),(0,o.tZ)("path",{d:"M545.86 480.38C559.46 514.12 534.62 550.92 498.24 550.92H186.98C149.55 550.92 124.7 512.16 140.32 478.15L182.03 345.94L182.32 346C177.45 369.9 195.61 393.77 221.52 393.77H463.7C488.78 393.77 506.81 371.3 503.23 347.91L503.33 347.89L545.86 480.38Z",fill:"#A88C5A"}),(0,o.tZ)("path",{d:"M503.23 347.91C506.81 371.3 488.78 393.77 463.7 393.77H221.52C195.61 393.77 177.45 369.9 182.32 346C182.91 343.04 183.87 340.07 185.21 337.15L218.53 264.59L222.63 255.66L225 250.51C231.51 236.33 245.69 227.23 261.3 227.23H418.49C418.49 227.23 438.63 226.14 449.92 233.29C456.92 237.72 462.6 244.22 465.83 252.25L500.75 338.89C501.95 341.88 502.77 344.9 503.23 347.91ZM336.66 258.5L338.12 253.56C336.37 252.69 333.03 251.74 329.25 251.74C317.76 251.74 310.35 259.59 310.35 270.42C310.35 281.25 317.25 288.38 327.87 288.38C332.59 288.38 336.3 287.22 337.97 286.34L336.88 281.55C335.06 282.35 332.66 283.29 329.03 283.29C322.05 283.29 316.82 278.28 316.82 270.13C316.82 262.79 321.18 256.83 329.25 256.83C332.74 256.83 335.14 257.63 336.66 258.5ZM301.84 258.5L303.44 253.85C301.48 252.69 298.35 251.67 294.79 251.67C287.23 251.67 282.65 256.32 282.65 261.99C282.65 266.21 285.63 269.7 291.96 271.95C296.68 273.7 298.5 275.37 298.5 278.42C298.5 281.47 296.32 283.66 291.67 283.66C288.47 283.66 285.12 282.35 283.23 281.11L281.63 285.98C284.11 287.44 287.67 288.38 291.52 288.38C299.88 288.38 304.68 284.02 304.68 277.84C304.68 272.61 301.55 269.55 295.45 267.23C290.87 265.48 288.76 264.17 288.76 261.27C288.76 258.65 290.87 256.47 294.65 256.47C297.92 256.47 300.46 257.63 301.84 258.5ZM275.97 271.22C276.04 270.57 276.18 269.55 276.18 268.24C276.18 261.77 273.13 251.67 261.65 251.67C251.4 251.67 245.14 260.03 245.14 270.64C245.14 281.25 251.61 288.38 262.45 288.38C268.04 288.38 271.89 287.22 274.15 286.2L273.06 281.62C270.66 282.64 267.9 283.44 263.32 283.44C256.92 283.44 251.4 279.87 251.25 271.22H275.97Z",fill:"#E5CF98"}),(0,o.tZ)("path",{d:"M338.12 253.56L336.66 258.5C335.14 257.63 332.74 256.83 329.25 256.83C321.18 256.83 316.82 262.79 316.82 270.13C316.82 278.28 322.05 283.29 329.03 283.29C332.66 283.29 335.06 282.35 336.88 281.55L337.97 286.34C336.3 287.22 332.59 288.38 327.87 288.38C317.25 288.38 310.35 281.18 310.35 270.42C310.35 259.66 317.76 251.74 329.25 251.74C333.03 251.74 336.37 252.69 338.12 253.56Z",fill:"#1B2332"}),(0,o.tZ)("path",{d:"M303.44 253.85L301.84 258.5C300.46 257.63 297.92 256.47 294.65 256.47C290.87 256.47 288.76 258.65 288.76 261.27C288.76 264.17 290.87 265.48 295.45 267.23C301.55 269.55 304.68 272.61 304.68 277.84C304.68 284.02 299.88 288.38 291.52 288.38C287.67 288.38 284.11 287.44 281.63 285.98L283.23 281.11C285.12 282.35 288.47 283.66 291.67 283.66C296.32 283.66 298.5 281.33 298.5 278.42C298.5 275.51 296.68 273.7 291.96 271.95C285.63 269.7 282.65 266.21 282.65 261.99C282.65 256.32 287.23 251.67 294.79 251.67C298.35 251.67 301.48 252.69 303.44 253.85Z",fill:"#1B2332"}),(0,o.tZ)("path",{d:"M276.18 268.24C276.18 269.55 276.04 270.57 275.97 271.22H251.25C251.4 279.87 256.92 283.44 263.32 283.44C267.9 283.44 270.66 282.64 273.06 281.62L274.15 286.2C271.89 287.22 268.04 288.38 262.45 288.38C251.61 288.38 245.14 281.26 245.14 270.64C245.14 260.02 251.4 251.67 261.65 251.67C273.13 251.67 276.18 261.77 276.18 268.24ZM270 266.65C270.08 262.57 268.33 256.25 261.14 256.25C254.67 256.25 251.83 262.21 251.32 266.65H270Z",fill:"#1B2332"}),(0,o.tZ)("path",{d:"M261.14 256.25C268.33 256.25 270.08 262.57 270 266.65H251.32C251.83 262.21 254.67 256.25 261.14 256.25Z",fill:"#E5CF98"}),(0,o.tZ)("path",{d:"M182.32 346C182.91 343.04 183.87 340.07 185.21 337.15L218.53 264.59L222.63 255.66L225 250.51C231.51 236.33 245.69 227.23 261.3 227.23H418.49C418.49 227.23 438.63 226.14 449.92 233.29C456.92 237.72 462.6 244.22 465.83 252.25L500.75 338.89C501.95 341.88 502.77 344.9 503.23 347.91C506.81 371.3 488.78 393.77 463.7 393.77H221.52C195.61 393.77 177.45 369.9 182.32 346Z",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M503.33 347.89L545.86 480.38C559.46 514.12 534.62 550.92 498.24 550.92H186.98C149.55 550.92 124.7 512.16 140.32 478.15L182.03 345.94",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M532.22 117.06C568.71 135.84 566.03 170.99 566.03 170.99C566.03 170.99 520.16 155.31 503.35 152.12C502.3 151.93 501.36 151.78 500.56 151.68L491.44 151L491.14 151.08C489.53 145.31 484.24 141.08 477.96 141.08C477.57 141.08 477.18 141.09 476.8 141.13C476.71 141.03 476.61 140.93 476.51 140.84L469.81 134.72C469.37 134.31 468.87 134 468.34 133.78H468.23C468.03 131.83 467.45 129.99 466.55 128.33L466.79 128.2C467.59 126.89 471.05 121.89 471.05 121.89C471.05 121.89 474.48 118.6 480.68 115.46C491.1 110.18 509.34 105.28 532.22 117.06Z",fill:"#029831"}),(0,o.tZ)("path",{d:"M516.66 20.2C516.66 20.2 516.77 36.8799 514.97 53.32L500.7 58.3699L513.33 64.8C512.46 69.56 511.35 73.9199 509.95 77.3499C505.71 87.7999 491.29 104.17 480.64 115.38L480.68 115.46C474.48 118.6 471.05 121.89 471.05 121.89C471.05 121.89 467.59 126.89 466.79 128.2L466.55 128.33C464.1 123.82 459.31 120.75 453.81 120.75C452.89 120.75 452 120.83 451.13 121L451.09 120.75C451.09 120.75 449.58 90.2299 458.71 68.5C467.83 46.77 516.66 20.2 516.66 20.2Z",fill:"#029831"}),(0,o.tZ)("path",{d:"M503.35 152.12L503.31 152.35C503.31 152.35 511.56 177.9 499.49 209.9C486.01 203.46 471.92 180.52 471.32 167.44L471.62 166.88C473.51 167.88 475.67 168.44 477.96 168.44C485.51 168.44 491.64 162.32 491.64 154.76C491.64 153.48 491.47 152.25 491.14 151.08L491.44 151L500.56 151.68C501.36 151.78 502.3 151.93 503.35 152.12Z",fill:"#029831"}),(0,o.tZ)("path",{d:"M491.14 151.08C491.47 152.25 491.64 153.48 491.64 154.76C491.64 162.32 485.51 168.44 477.96 168.44C475.67 168.44 473.51 167.88 471.62 166.88C469.84 165.96 468.28 164.64 467.07 163.05L466.89 162.92C467.01 162.78 467.12 162.64 467.22 162.49L477.3 147.3C478.58 145.36 478.36 142.81 476.8 141.13C477.18 141.09 477.57 141.08 477.96 141.08C484.24 141.08 489.53 145.31 491.14 151.08Z",fill:"#685128"}),(0,o.tZ)("path",{d:"M476.8 141.13C478.36 142.81 478.58 145.36 477.3 147.3L467.22 162.49C467.12 162.64 467.01 162.78 466.89 162.92C465.75 164.3 464.01 164.9 462.33 164.65C460.29 164.68 458.04 162.21 458.04 162.21L456.02 161C450.39 158.08 447.1 151.11 447.1 151.11C446.74 150.11 446.71 149.04 446.99 148.03C449.03 149.12 451.35 149.73 453.81 149.73C461.81 149.73 468.3 143.24 468.3 135.24C468.3 134.75 468.28 134.27 468.23 133.79H468.34C468.87 134 469.37 134.31 469.81 134.72L476.51 140.84C476.61 140.93 476.71 141.03 476.8 141.13Z",fill:"#685128"}),(0,o.tZ)("path",{d:"M468.23 133.79C468.28 134.27 468.3 134.75 468.3 135.24C468.3 143.24 461.81 149.73 453.81 149.73C451.35 149.73 449.03 149.12 446.99 148.03C442.43 145.59 439.32 140.78 439.32 135.24C439.32 128.47 443.96 122.78 450.24 121.2C450.53 121.12 450.83 121.05 451.13 121C452 120.83 452.89 120.75 453.81 120.75C459.31 120.75 464.1 123.82 466.55 128.33C467.45 129.99 468.03 131.83 468.23 133.79Z",fill:"#685128"}),(0,o.tZ)("path",{d:"M458.04 162.21C458.04 162.21 460.29 164.68 462.33 164.65C462.23 165.05 462.1 165.44 461.91 165.81L452.32 185.18C451.48 186.87 449.96 187.95 448.27 188.32C445.25 188.58 442.24 186.45 442.24 186.45L439.82 185.55C435.9 184.24 428.23 176.44 428.23 176.44C425.77 174.18 425.62 170.26 428.09 167.85L437.54 158.68L443.68 152.72C444.64 151.79 445.85 151.26 447.1 151.11C447.1 151.11 450.39 158.08 456.02 161L458.04 162.21Z",fill:"#685128"}),(0,o.tZ)("path",{d:"M447.55 120.06C448.48 120.4 449.37 120.76 450.22 121.13L450.24 121.2C443.96 122.78 439.32 128.47 439.32 135.24C439.32 140.78 442.43 145.59 446.99 148.03C446.71 149.04 446.74 150.11 447.1 151.11C445.85 151.26 444.64 151.79 443.68 152.72L437.54 158.68L437.38 158.52C423.69 160.13 367.64 177.97 367.64 177.97C367.64 177.97 364.96 142.82 401.45 124.04C405 122.22 408.44 120.79 411.75 119.7C426.47 114.88 438.74 116.77 447.55 120.06Z",fill:"#029831"}),(0,o.tZ)("path",{d:"M448.27 188.32C448.39 189.38 448.3 190.48 447.9 191.54L439.06 215.11C438.07 217.74 435.69 219.37 433.12 219.57C431.54 219.48 428.86 218.55 428.86 218.55L426.74 217.54C421.31 216.84 410.15 207.9 410.15 207.9C406.97 205.58 406.34 200.98 408.94 197.88L425.23 178.51C426.05 177.53 427.1 176.84 428.23 176.44C428.23 176.44 435.9 184.24 439.82 185.55L442.24 186.45C442.24 186.45 445.25 188.58 448.27 188.32Z",fill:"#685128"}),(0,o.tZ)("path",{d:"M377.41 34.96C431.47 55.96 446.9 117.38 447.55 120.06C438.74 116.77 426.47 114.88 411.75 119.7L411.69 119.51C378.14 87.88 377.41 34.96 377.41 34.96Z",fill:"#029831"}),(0,o.tZ)("path",{d:"M379.56 289.59C376.08 287.46 374.5 282.98 376.25 279L388.72 250.7C389.72 248.43 391.63 246.8 393.87 246.08C389.59 244.14 387.99 238.83 390.57 234.84L405.98 211.06C406.99 209.51 408.48 208.42 410.15 207.9C410.15 207.9 421.31 216.84 426.74 217.54L428.86 218.55C428.86 218.55 431.54 219.48 433.12 219.57C433.24 220.49 433.21 221.45 432.98 222.4L426.42 249.82C425.62 253.19 422.75 255.44 419.56 255.72C419.74 256.52 419.84 257.36 419.77 258.22L417.48 288.9C417.2 292.65 414.53 295.56 411.16 296.43L414.65 318.75V318.94C401.28 318.01 391.44 322.04 391.44 322.04C383.19 317.7 374.4 318.07 366.89 320.06L366.78 319.63L378.59 292.2C378.77 291.26 379.1 290.39 379.56 289.59Z",fill:"#685128"}),(0,o.tZ)("path",{d:"M414.65 318.75L411.16 296.43C414.53 295.56 417.2 292.65 417.48 288.9L419.77 258.22C419.84 257.36 419.74 256.52 419.56 255.72C422.75 255.44 425.62 253.19 426.42 249.82L432.98 222.4C433.21 221.45 433.24 220.49 433.12 219.57C435.69 219.37 438.07 217.74 439.06 215.11L447.9 191.54C448.3 190.48 448.39 189.38 448.27 188.32C449.96 187.95 451.48 186.87 452.32 185.18L461.91 165.81C462.1 165.44 462.23 165.05 462.33 164.65C464.01 164.9 465.75 164.3 466.89 162.92C467.01 162.78 467.12 162.64 467.22 162.49L477.3 147.3C478.58 145.36 478.36 142.81 476.8 141.13C476.71 141.03 476.61 140.93 476.51 140.84L469.81 134.72C469.37 134.31 468.87 134 468.34 133.78",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M446.99 148.03C446.71 149.04 446.74 150.11 447.1 151.11C445.85 151.26 444.64 151.79 443.68 152.72L437.54 158.68L428.09 167.85C425.62 170.26 425.77 174.18 428.23 176.44C427.1 176.84 426.05 177.53 425.23 178.51L408.94 197.88C406.34 200.98 406.97 205.58 410.15 207.9C408.48 208.42 406.99 209.51 405.98 211.06L390.57 234.84C387.99 238.83 389.59 244.14 393.87 246.08C391.63 246.8 389.72 248.43 388.72 250.7L376.25 279C374.5 282.98 376.08 287.46 379.56 289.59C379.1 290.39 378.77 291.26 378.59 292.2L366.78 319.63",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M393.18 245.42C393.18 245.42 402.04 251.33 409.43 252.81",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M410.15 207.9C410.15 207.9 421.31 216.84 426.74 217.54",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M428.23 176.44C428.23 176.44 435.9 184.24 439.82 185.55",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M447.1 151.11C447.1 151.11 450.39 158.08 456.02 161",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M379.56 289.59C379.56 289.59 386.2 296.23 400.68 295.62",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M413.06 254.27C413.06 254.27 416.7 255.46 419.56 255.72",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M428.86 218.55C428.86 218.55 431.54 219.48 433.12 219.57",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M442.24 186.45C442.24 186.45 445.25 188.58 448.27 188.32",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M458.04 162.21C458.04 162.21 460.29 164.68 462.33 164.65",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M404.99 295.66C405.48 295.66 408.99 297.7 411.16 296.43",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M468.23 133.79C468.28 134.27 468.3 134.75 468.3 135.24C468.3 143.24 461.81 149.73 453.81 149.73C451.35 149.73 449.03 149.12 446.99 148.03C442.43 145.59 439.32 140.78 439.32 135.24C439.32 128.47 443.96 122.78 450.24 121.2C450.53 121.12 450.83 121.05 451.13 121C452 120.83 452.89 120.75 453.81 120.75C459.31 120.75 464.1 123.82 466.55 128.33C467.45 129.99 468.03 131.83 468.23 133.79V133.79Z",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M476.54 141.15C476.63 141.14 476.71 141.13 476.8 141.13C477.18 141.09 477.57 141.08 477.96 141.08C484.24 141.08 489.53 145.31 491.14 151.08C491.47 152.25 491.64 153.48 491.64 154.76C491.64 162.32 485.51 168.44 477.96 168.44C475.67 168.44 473.51 167.88 471.62 166.88C469.84 165.96 468.28 164.64 467.07 163.05",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M451.09 120.75C451.09 120.75 449.58 90.2299 458.71 68.5C467.83 46.77 516.66 20.2 516.66 20.2C516.66 20.2 516.77 36.8799 514.97 53.32L500.7 58.3699L513.33 64.8C512.46 69.56 511.35 73.9199 509.95 77.3499C505.71 87.7999 491.29 104.17 480.64 115.38",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M466.79 128.2C467.59 126.89 471.05 121.89 471.05 121.89C471.05 121.89 474.48 118.6 480.68 115.46C491.1 110.18 509.34 105.28 532.22 117.06C568.71 135.84 566.03 170.99 566.03 170.99C566.03 170.99 520.16 155.31 503.35 152.12C502.3 151.93 501.36 151.78 500.56 151.68L491.44 151",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M450.22 121.13C449.37 120.76 448.48 120.4 447.55 120.06C438.74 116.77 426.47 114.88 411.75 119.7C408.44 120.79 405 122.22 401.45 124.04C364.96 142.82 367.64 177.97 367.64 177.97C367.64 177.97 423.69 160.13 437.38 158.52",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M447.57 120.15C447.57 120.15 447.56 120.12 447.55 120.06C446.9 117.38 431.47 55.96 377.41 34.96C377.41 34.96 378.14 87.88 411.69 119.51",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M503.31 152.35C503.31 152.35 511.56 177.9 499.49 209.9C486.01 203.46 471.92 180.52 471.32 167.44",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M347.6 329.26C347.6 329.26 355.89 322.95 366.89 320.06C374.4 318.07 383.19 317.7 391.44 322.04C391.44 322.04 401.28 318.01 414.64 318.94C423.84 319.58 434.7 322.58 445.17 330.86",stroke:"#1B2332",strokeWidth:"1.7",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M414.16 207.9C414.16 207.9 410.04 203.49 411.16 200.9C411.98 199 420.75 189.21 425.39 184.1C425.97 183.46 427 184.11 426.68 184.91L419.47 203.21C418.8 204.92 418.64 206.79 419.03 208.58L419.6 211.24L414.16 207.88V207.9Z",fill:"#A88C5A"}),(0,o.tZ)("path",{d:"M433.66 175.75C433.61 175.71 433.56 175.67 433.52 175.63C433.06 175.09 430.27 171.7 431.24 169.74C432.01 168.19 439.85 160.38 444.05 156.26C444.59 155.73 445.47 156.33 445.16 157L438.42 171.79C437.73 173.31 437.51 175 437.8 176.65L437.89 177.16C437.99 177.74 437.33 178.15 436.83 177.82L433.67 175.74L433.66 175.75Z",fill:"#A88C5A"}),(0,o.tZ)("path",{d:"M396.92 244.43C396.85 244.38 396.79 244.32 396.74 244.24C396.14 243.42 392.45 238.19 393.57 235.02C394.45 232.5 403.89 219.55 408.94 212.71C409.58 211.84 410.73 212.72 410.38 213.82L402.69 237.82C401.9 240.29 401.72 243 402.17 245.6L402.31 246.41C402.47 247.32 401.66 248.02 401.01 247.53L396.93 244.43H396.92Z",fill:"#A88C5A"}),(0,o.tZ)("path",{d:"M383.51 287.24C383.44 287.18 383.38 287.1 383.33 287.01C382.73 286.03 379.04 279.8 380.16 276.01C381.04 273.01 390.48 257.56 395.53 249.4C396.17 248.36 397.32 249.42 396.97 250.72L389.28 279.34C388.49 282.29 388.31 285.52 388.76 288.61L388.9 289.57C389.06 290.66 388.25 291.5 387.6 290.91L383.52 287.22L383.51 287.24Z",fill:"#A88C5A"}),(0,o.tZ)("path",{d:"M371.16 171.08C371.45 170.56 378.51 139.82 405.63 126.99C393.15 143.74 385.12 165.49 385.12 165.49L371.16 171.08Z",fill:"#51FF53"}),(0,o.tZ)("path",{d:"M410.97 113.84C410.97 113.84 389.61 99.02 379.94 39.72C397.81 75.72 404.21 98.85 422.51 113.84C417.92 113.84 409.31 112.43 410.97 113.84Z",fill:"#51FF53"}),(0,o.tZ)("path",{d:"M456.02 113.84C456.02 113.84 456.71 81.3099 466.79 66.9199C476.87 52.5299 507.71 29.5699 507.71 29.5699C507.71 29.5699 474.47 57.3299 468.3 89.1899C464.53 114.55 463.85 120.75 463.85 120.75L456.03 113.84H456.02Z",fill:"#51FF53"}),(0,o.tZ)("path",{d:"M449.34 124.58C447.22 130.96 444.74 136.08 450.22 145.43C445.46 141.72 438.14 133.78 449.34 124.58Z",fill:"#A88C5A"}),(0,o.tZ)("path",{d:"M471.31 126.55C471.31 126.55 485.49 111.02 506.06 113.84C492.04 118.78 474.04 133.78 474.04 133.78L471.31 126.55Z",fill:"#51FF53"})]}),(0,o.BX)("defs",{children:[(0,o.BX)("linearGradient",{id:"paint0_linear_954_4340",x1:"340.73",y1:"676.66",x2:"340.73",y2:"403.04",gradientUnits:"userSpaceOnUse",children:[(0,o.tZ)("stop",{offset:"0.3",stopColor:"#1B2332",stopOpacity:"0"}),(0,o.tZ)("stop",{offset:"0.37",stopColor:"#1C2437",stopOpacity:"0.03"}),(0,o.tZ)("stop",{offset:"0.45",stopColor:"#202845",stopOpacity:"0.1"}),(0,o.tZ)("stop",{offset:"0.56",stopColor:"#262F5E",stopOpacity:"0.22"}),(0,o.tZ)("stop",{offset:"0.67",stopColor:"#2E397F",stopOpacity:"0.38"}),(0,o.tZ)("stop",{offset:"0.8",stopColor:"#3946AB",stopOpacity:"0.59"}),(0,o.tZ)("stop",{offset:"0.93",stopColor:"#4655DE",stopOpacity:"0.84"}),(0,o.tZ)("stop",{offset:"1",stopColor:"#4F5FFF"})]}),(0,o.BX)("linearGradient",{id:"paint1_linear_954_4340",x1:"342.61",y1:"663.9",x2:"342.61",y2:"531.55",gradientUnits:"userSpaceOnUse",children:[(0,o.tZ)("stop",{stopColor:"#1B2332",stopOpacity:"0"}),(0,o.tZ)("stop",{offset:"0.15",stopColor:"#2F333A",stopOpacity:"0.12"}),(0,o.tZ)("stop",{offset:"0.47",stopColor:"#635D4F",stopOpacity:"0.43"}),(0,o.tZ)("stop",{offset:"0.93",stopColor:"#B6A070",stopOpacity:"0.92"}),(0,o.tZ)("stop",{offset:"1",stopColor:"#C4AB76"})]}),(0,o.BX)("linearGradient",{id:"paint2_linear_954_4340",x1:"217.38",y1:"314.6",x2:"217.38",y2:"50.21",gradientUnits:"userSpaceOnUse",children:[(0,o.tZ)("stop",{stopColor:"#1B2332",stopOpacity:"0"}),(0,o.tZ)("stop",{offset:"0.19",stopColor:"#4B4A35",stopOpacity:"0.22"}),(0,o.tZ)("stop",{offset:"0.48",stopColor:"#92843B",stopOpacity:"0.55"}),(0,o.tZ)("stop",{offset:"0.73",stopColor:"#C7AE3F",stopOpacity:"0.79"}),(0,o.tZ)("stop",{offset:"0.91",stopColor:"#E7C942",stopOpacity:"0.94"}),(0,o.tZ)("stop",{offset:"1",stopColor:"#F4D343"})]}),(0,o.tZ)("clipPath",{id:"clip0_954_4340",children:(0,o.tZ)("rect",{width:"690.9",height:"690.9",fill:"white"})})]})]})},Wg=t(47211),Ag=t(38575),Fg=t(23658),Ng=t(68017),Og={title:"Threads",filters:{inbox:{key:"toggle-inbox",label:"Inbox",icon:(0,o.tZ)(Ag.Z,{})},unread:{key:"toggle-unread",label:"Unread",icon:(0,o.tZ)(Wg.Z,{})},participating:{key:"toggle-participating",label:"Participating",icon:(0,o.tZ)(Ng.Z,{})},resolved:{key:"toggle-resolved",label:"Resolved",icon:(0,o.tZ)(er.Z,{})}},sorts:{chronological:{key:"toggle-chronological",label:"Chronological",icon:(0,o.tZ)(P.Z,{})},codeOrder:{key:"toggle-codeOrder",label:"Code order",icon:(0,o.tZ)(Fg.Z,{})}},search:{placeholder:"Search threads\u2026"},markAsRead:"Mark as read",empty:{image:{alt:"an illustration of an escape key that resembles a sunny beach, with an umbrella and palm tree"},noThreadsCreated:{text:{primary:"You haven\u2019t started any threads yet.",secondary:function(e){return(0,o.BX)(o.HY,{children:["Select code and press"," ",(0,o.tZ)(Ad.ZP,{shortcut:e,size:"small"})," ","to get started."]})}}},noThreadsFound:{text:{primary:"No threads found.",secondary:"Try adjusting your search or filters."}}}},Hg=["TextMessageContentType","PreviewMessageContentType"];var qg=t(91523),$g=t(92674),Yg=t.n($g),Kg=t(21371),Qg=t(85234),Jg=t.n(Qg),eZ=function(e){var n={},t=!0,r=!1,i=void 0;try{for(var o,a=e.messages[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var l=o.value;l.user&&(n[l.user.id]=l.user)}}catch(s){r=!0,i=s}finally{try{t||null==a.return||a.return()}finally{if(r)throw i}}return Object.values(n)};function nZ(){var e=(0,ce.Z)(["\n  query AnnotationThreadInput {\n    currentUser {\n      id\n    }\n  }\n"]);return nZ=function(){return e},e}var tZ={},rZ=(0,ue.Ps)(nZ());var iZ=t(16402),oZ=t(74855),aZ=t(13617),lZ=h.forwardRef((function(e,n){var t,a,l=e.annote,s=e.placeholder,c=e.onChangeMessage,u=e.onFinalizeMessage,d=function(){""!==m.trim()&&(u({messageId:w||Jg()(),message:m.trim()}),C(null),v(""),setTimeout(I))},p=null===(t=function(e){var n=(0,se.Z)({},tZ,e);return de.a(rZ,n)}().data)||void 0===t||null===(a=t.currentUser)||void 0===a?void 0:a.id,f=(0,L.Z)(h.useState(""),2),m=f[0],v=f[1],g=(0,L.Z)(h.useState(!1),2),Z=g[0],b=g[1],x=h.useRef(null),y=(0,L.Z)(h.useState(null),2),w=y[0],C=y[1],k=(0,jg.Z)(),S=(0,oZ.Z)(),R=S.ref,I=S.update,T=(0,L.Z)((0,iZ.Z)({"@":function(){var e=(0,r.Z)((function(e){var n,t;return(0,i.__generator)(this,(function(r){return n=k.filter((function(e){return e.id!==p})),e&&(t=e.toLowerCase(),n=n.filter((function(e){return e.username.toLowerCase().startsWith(t)}))),[2,n.slice(0,5).map((function(e){return{icon:(0,o.tZ)(rt.Z,{url:e.image,style:{height:"24px",width:"24px",minWidth:"24px",minHeight:"24px"}}),value:e.username}}))]}))}));return function(n){return e.apply(this,arguments)}}()}),2),B=T[0].suggestions,E=T[1],G=(0,Kg.Kb)({items:(null===B||void 0===B?void 0:B.results)||[],defaultHighlightedIndex:0,isOpen:Boolean(null===B||void 0===B?void 0:B.results.length),onSelectedItemChange:function(e){var n=e.selectedItem;if(B&&n){var t=B.applySuggestion({targetValue:m,suggestionValue:n.value}),r=t.fullValue,i=t.cursorIndex;v(r),setTimeout((function(){x.current&&(x.current.setSelectionRange(i,i),x.current.focus(),I())}))}}}),M=G.isOpen,D=G.getInputProps,P=G.getMenuProps,j=G.getItemProps,_=G.highlightedIndex,U=G.getComboboxProps;h.useEffect((function(){var e="threads/drafts/".concat(l.id),n=Ot.Z.get(e,"string");n&&v(n);var t=x.current;return function(){if(t){var n=t.value;0!==n.length?Ot.Z.set(e,n):Ot.Z.remove(e)}}}),[]),h.useEffect((function(){setTimeout((function(){x.current&&x.current.focus()}))}),[x]);var X=eZ(l).filter((function(e){return e.id!==p})),V="Add a comment";return 1===X.length?V="Reply to @".concat(X[0].username):X.length>1&&(V="Reply"),l.isResolved&&(V="Reply to unresolve this thread"),s&&(V=s),(0,o.BX)("div",{className:"jsx-83fb19ea8f375c79",children:[(0,o.BX)("div",(0,un.Z)((0,se.Z)({},U()),{className:"jsx-83fb19ea8f375c79 input-group",children:[(0,o.tZ)("textarea",(0,un.Z)((0,se.Z)({},D({autoFocus:!0,placeholder:V,value:m,onCompositionStart:function(){return b(!0)},onCompositionEnd:function(){return b(!1)},onChange:function(e){var n=e.target.value,t=w||Jg()();w||C(t),v(n),c({messageId:t,message:n})},onKeyDown:function(e){e.stopPropagation(),M||(e.nativeEvent.preventDownshiftDefault=!0,"Enter"!==e.key||e.shiftKey||Z||(e.preventDefault(),d()))},rows:1,ref:function(e){x.current=e,n&&"object"===typeof n&&(n.current=e),E(e),R(e)}})),{className:"jsx-83fb19ea8f375c79 "+(mn()("inputbox",{hasContent:m.length>0})||"")})),(0,o.tZ)(nn.h,{alt:"Send message",onClick:d,disabled:0===m.length,children:(0,o.tZ)(aZ.Z,{})})]})),(0,o.tZ)("div",(0,un.Z)((0,se.Z)({},P({})),{className:"jsx-83fb19ea8f375c79",children:M?(0,o.tZ)("div",{className:"jsx-83fb19ea8f375c79 mention-suggestions-container",children:B.results.map((function(e,n){return(0,h.createElement)("div",(0,un.Z)((0,se.Z)({},j({item:e,index:n})),{key:e.value,className:"jsx-83fb19ea8f375c79 "+(mn()("mention-suggestion",{selected:_===n})||""),children:[e.icon,(0,o.tZ)("div",{className:"jsx-83fb19ea8f375c79",children:e.value})]}))}))}):null})),(0,o.tZ)(sn(),{id:"83fb19ea8f375c79",children:'.input-group.jsx-83fb19ea8f375c79{display:grid;grid-template-columns:1fr -webkit-min-content;grid-template-columns:1fr min-content;grid-gap:10px;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:start;-moz-box-pack:start;-ms-flex-pack:start;justify-content:start}.inputbox.jsx-83fb19ea8f375c79{background:var(--background-higher);color:var(--foreground-default);border:none;-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);padding:var(--space-8);outline:none;resize:none;font-family:"IBM Plex Sans",sans-serif;font-size:var(--font-size-default);line-height:16px;overflow-y:auto;max-height:-webkit-calc(var(--font-size-default)*18);max-height:-moz-calc(var(--font-size-default)*18);max-height:calc(var(--font-size-default)*18)}.inputbox.jsx-83fb19ea8f375c79::-webkit-input-placeholder{white-space:pre}.inputbox.jsx-83fb19ea8f375c79:-moz-placeholder{white-space:pre}.inputbox.jsx-83fb19ea8f375c79::-moz-placeholder{white-space:pre}.inputbox.jsx-83fb19ea8f375c79:-ms-input-placeholder{white-space:pre}.inputbox.jsx-83fb19ea8f375c79::-ms-input-placeholder{white-space:pre}.inputbox.jsx-83fb19ea8f375c79::placeholder{white-space:pre}.inputbox.hasContent.jsx-83fb19ea8f375c79{-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px}.mention-suggestions-container.jsx-83fb19ea8f375c79{padding-top:1em;display:grid;grid-row-gap:var(--space-4);overflow:hidden}.mention-suggestion.jsx-83fb19ea8f375c79{display:grid;grid-template-columns:-webkit-min-content -webkit-max-content;grid-template-columns:min-content max-content;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;grid-column-gap:var(--space-8);padding:var(--space-8)0;cursor:pointer;color:var(--foreground-default)}.mention-suggestion.selected.jsx-83fb19ea8f375c79{background-color:var(--background-root)}.mention-suggestion.selected.jsx-83fb19ea8f375c79>*.jsx-83fb19ea8f375c79{-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-ms-transform:scale(1.1);-o-transform:scale(1.1);transform:scale(1.1)}'})]})}));lZ.displayName="ThreadInputForwarded";var sZ=lZ,cZ=t(20597);function uZ(e){var n=e.message,t=e.messageStyle,r=h.useMemo((function(){return"TextMessageContentType"===n.content.__typename?(0,_g.kW)(n.content.text,{}):"PreviewMessageContentType"===n.content.__typename&&"string"===typeof n.content.preview?(0,_g.kW)(n.content.preview,{}):null}),[n.content]),i="PreviewMessageContentType"===n.content.__typename&&"string"!==typeof n.content.preview;return n.user&&(r||i)?(0,o.BX)("div",{className:"jsx-e1dab5bcce309da6 "+(t||""),children:[(0,o.BX)("div",{className:"jsx-e1dab5bcce309da6 message",children:[r?(0,o.tZ)(_g.YI,{message:r,codeStyles:{color:"var(--accent-orange-stronger)",background:"var(--background-highest)"}}):null,i?(0,o.BX)("span",{className:"jsx-e1dab5bcce309da6 typing-indicator",children:[(0,o.tZ)("span",{className:"jsx-e1dab5bcce309da6 dot"}),(0,o.tZ)("span",{className:"jsx-e1dab5bcce309da6 dot"}),(0,o.tZ)("span",{className:"jsx-e1dab5bcce309da6 dot"})]}):null]}),(0,o.tZ)(sn(),{id:"e1dab5bcce309da6",children:".message.jsx-e1dab5bcce309da6{background:var(--background-higher);padding:var(--space-4)var(--space-8);-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);font-size:var(--font-size-default);overflow-wrap:break-word;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;max-width:100%;white-space:pre-wrap}.userhighlight.jsx-e1dab5bcce309da6 .message.jsx-e1dab5bcce309da6{background:transparent}.typing-indicator.jsx-e1dab5bcce309da6{min-height:1em;display:grid;grid-auto-flow:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;grid-gap:var(--space-8)}.dot.jsx-e1dab5bcce309da6{width:6px;height:6px;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;display:inline-block;background-color:var(--foreground-dimmest);-webkit-animation:pulse.6s infinite;-moz-animation:pulse.6s infinite;-o-animation:pulse.6s infinite;animation:pulse.6s infinite}.dot.jsx-e1dab5bcce309da6:nth-child(1){-webkit-animation-delay:0s;-moz-animation-delay:0s;-o-animation-delay:0s;animation-delay:0s}.dot.jsx-e1dab5bcce309da6:nth-child(2){-webkit-animation-delay:.2s;-moz-animation-delay:.2s;-o-animation-delay:.2s;animation-delay:.2s}.dot.jsx-e1dab5bcce309da6:nth-child(3){-webkit-animation-delay:.4s;-moz-animation-delay:.4s;-o-animation-delay:.4s;animation-delay:.4s}@-webkit-keyframes pulse{0%{background-color:var(--foreground-dimmest)}50%{background-color:var(--foreground-dimmest)}100%{background-color:var(--foreground-dimmest)}}@-moz-keyframes pulse{0%{background-color:var(--foreground-dimmest)}50%{background-color:var(--foreground-dimmest)}100%{background-color:var(--foreground-dimmest)}}@-o-keyframes pulse{0%{background-color:var(--foreground-dimmest)}50%{background-color:var(--foreground-dimmest)}100%{background-color:var(--foreground-dimmest)}}@keyframes pulse{0%{background-color:var(--foreground-dimmest)}50%{background-color:var(--foreground-dimmest)}100%{background-color:var(--foreground-dimmest)}}"})]}):null}var dZ=t(78890);function pZ(e){var n=e.message,t=h.useMemo((function(){var e=n.timeCreated;return e?(0,dZ.Z)(new Date(e),"do MMM, hh:mm a"):""}),[n]),r=n.user;return(0,o.tZ)("div",{className:"resolved-message",children:(0,o.BX)(Jn.Ug,{align:"center",spacing:1,children:[r?(0,o.tZ)(rt.Z,{url:r.image,size:"m"}):null,(0,o.tZ)(er.Z,{color:"var(--foreground-default)",size:24}),(0,o.BX)(lt.Z,{size:"xsmall",children:["Resolved ",t]})]})})}function fZ(e){var n=e.message,t=h.useMemo((function(){var e=n.timeCreated;return e?(0,dZ.Z)(new Date(e),"do MMM, hh:mm a"):""}),[n]),r=n.user;return(0,o.tZ)("div",{className:"resolved-message",children:(0,o.BX)(Jn.Ug,{align:"center",spacing:1,children:[r?(0,o.tZ)(rt.Z,{url:r.image,size:"m"}):null,(0,o.tZ)(er.Z,{size:24,color:"var(--foreground-dimmest)"}),(0,o.BX)(lt.Z,{size:"xsmall",children:["Unresolved ",t]})]})})}var hZ=function(e){var n=new Date(e),t=new Date;return(0,cZ.Z)(t,n)<60?"now":(0,zc.F)(n,!0)};function mZ(e){var n=e.messageGroup,t=n.messages,r=n.user,i=n.timeCreated;return r?(0,o.BX)("div",{className:"jsx-3469fc8bae278840 message-group",children:[(0,o.BX)("div",{className:"jsx-3469fc8bae278840 message-info",children:[(0,o.tZ)("div",{className:"jsx-3469fc8bae278840 avatar",children:(0,o.tZ)(rt.Z,{url:r.image,size:"xs",style:{minHeight:"15px",minWidth:"15px",height:"15px",width:"15px"}})}),(0,o.tZ)("div",{className:"jsx-3469fc8bae278840 username",children:r.username}),(0,o.tZ)("div",{className:"jsx-3469fc8bae278840 time",children:hZ(i)})]}),(0,o.tZ)("div",{className:"jsx-3469fc8bae278840 messages",children:t.map((function(e){return(0,o.tZ)(uZ,{message:e},e.id)}))}),(0,o.tZ)(sn(),{id:"3469fc8bae278840",children:".message-group.jsx-3469fc8bae278840{background-color:var(--background-default);color:var(--foreground-default);display:grid;position:relative;grid-template-rows:auto auto;grid-row-gap:var(--space-8);grid-template-columns:minmax(0,1fr)}.message-info.jsx-3469fc8bae278840{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;font-size:var(--font-size-small)}.messages.jsx-3469fc8bae278840{display:grid;grid-row-gap:var(--space-4);grid-template-columns:minmax(0,1fr)}.avatar.jsx-3469fc8bae278840{margin-right:5px}.username.jsx-3469fc8bae278840{color:var(--foreground-dimmer);font-weight:var(--font-weight-medium);margin-right:3px}.time.jsx-3469fc8bae278840{color:var(--foreground-dimmest)}"})]}):null}function vZ(e){var n=e.messageGroup;if("TextMessageContentType"===n.messageType||"PreviewMessageContentType"===n.messageType)return(0,o.tZ)(mZ,{messageGroup:n});if("StatusMessageContentType"===n.messageType){var t=n.messages[0];if("StatusMessageContentType"===t.content.__typename&&"resolved"===t.content.status)return(0,o.tZ)(pZ,{message:t});if("StatusMessageContentType"===t.content.__typename&&"unresolved"===t.content.status)return(0,o.tZ)(fZ,{message:t})}return null}function gZ(e){var n=e.generalThreadsOpen,t=e.setGeneralThreadsOpen,r=e.generalThread,i=e.handleChangeMessage,a=void 0===i?function(){}:i,l=e.handleFinalizeMessage,s=void 0===l?function(){}:l,c=e.createAnnotationAnchorPlaceholder,d=void 0===c?function(){}:c,p=(0,kn.Z)(),f=h.useMemo((function(){return r?function(e){var n=[],t=null,r=!0,i=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var s,c,u,d,p=a.value;!t||(null===p||void 0===p||null===(s=p.user)||void 0===s?void 0:s.id)!==(null===t||void 0===t||null===(c=t.user)||void 0===c?void 0:c.id)||(null===p||void 0===p||null===(u=p.anchor)||void 0===u?void 0:u.id)!==(null===t||void 0===t?void 0:t.anchorId)||!Hg.includes(t.messageType)||!Hg.includes(p.content.__typename)||new Date(p.timeCreated).getTime()-new Date(t.timeCreated).getTime()>6e5?(t&&n.push(t),t={user:p.user,timeCreated:p.timeCreated,anchorId:null===p||void 0===p||null===(d=p.anchor)||void 0===d?void 0:d.id,messages:[p],messageType:p.content.__typename}):t.messages.push(p)}}catch(f){i=!0,o=f}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return t&&n.push(t),n}((0,D.Z)(r.messages).sort((function(e,n){return new Date(e.timeCreated).getTime()-new Date(n.timeCreated).getTime()}))):[]}),[r]);h.useEffect((function(){r||d({annotationAnchor:{id:Yg()(),replId:p,isGeneral:!0,indexStart:null,indexEnd:null,isResolved:!1,otVersion:null,path:null}})}),[r,p,d]),h.useEffect((function(){r||d({annotationAnchor:{id:Yg()(),replId:p,isGeneral:!0,indexStart:null,indexEnd:null,isResolved:!1,otVersion:null,path:null}})}),[r,p,d]);var m=h.useRef(null);(0,qg.Z)(n&&r||null);return h.useEffect((function(){m.current&&(m.current.scrollTop=m.current.scrollHeight)}),[m,r]),r?(0,o.BX)("div",{onClick:function(){return t(!0)},className:"jsx-571d11d33063a57f "+(mn()("general-thread")||""),children:[(0,o.tZ)("div",{css:u.l0.scrollbar.thin,className:"jsx-571d11d33063a57f message-group-container-container",children:(0,o.tZ)("div",{ref:m,className:"jsx-571d11d33063a57f message-group-container",children:f.map((function(e){return(0,o.tZ)(vZ,{messageGroup:e},e.messages[0].id)}))})}),(0,o.tZ)("div",{className:"jsx-571d11d33063a57f thread-input-container",children:(0,o.tZ)(sZ,{placeholder:"Send message",annote:r,onChangeMessage:function(e){a({anchor:r,message:e.message,messageId:e.messageId}),t(!0)},onFinalizeMessage:function(e){s({anchor:r,message:e.message,messageId:e.messageId}),t(!0),(0,x.j)(x.U3.MESSAGE_SENT,{replId:p,source:"chat",newThread:0===r.messages.length})}})}),(0,o.tZ)(sn(),{id:"571d11d33063a57f",children:'.general-thread.jsx-571d11d33063a57f{padding-top:0,border-radius:var(--border-radius-8)var(--border-radius-8)0 0;background:var(--background-default);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex:1 1 0;-moz-box-flex:1;-ms-flex:1 1 0px;flex:1 1 0;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;overflow:hidden;grid-template-rows:-webkit-min-content 1fr -webkit-min-content;grid-template-rows:min-content 1fr min-content;grid-gap:var(--space-8);height:"100%"}.message-group-container-container.jsx-571d11d33063a57f{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;overflow:hidden;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:0;-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1}.message-group-container.jsx-571d11d33063a57f{padding:var(--space-12);display:grid;grid-row-gap:var(--space-16);overflow-y:auto}.thread-input-container.jsx-571d11d33063a57f{width:100%;border-top:1px solid var(--outline-dimmer);padding:var(--space-8)var(--space-12)}'})]}):null}var ZZ=t(96092),bZ=t(95784),xZ=t(33727),yZ=t(32099),wZ=t(8631),CZ=t(18556),kZ=t(69217),LZ=function(e){var n=(0,kZ.Z)(e,null,null).updateThread;return{handleToggleResolved:function(e){return n({changes:{isResolved:e}})}}};var SZ,RZ,IZ=function(e){var n=e.thread,t=e.onClick,r=n.messages.filter((function(e){return!e.seen})).length,i=function(e){var n=(0,CZ.Vy)(e.path?e:null);return null===n||void 0===n?void 0:n.getSnippet()}(n),a=(0,kZ.Z)(n.id,null,null).thread,l=(0,ha.Dv)(Dg.Q),s=LZ(n.id).handleToggleResolved,c="Jump to code",f="Resolve this thread",m="Re-open",v=function(e,n){var t=function(e){return 1===e?"reply":"replies"};return e<=1?"View ".concat(1===n?"unread":""," thread"):n?"View ".concat(n," unread ").concat(t(n)):"View ".concat(e-1," ").concat(t(e-1))},g=function(e,n){return"Opened ".concat(e," by ").concat(n)},Z=n.messages[0],b=h.useMemo((function(){return(null===Z||void 0===Z?void 0:Z.timeCreated)?(0,wZ.Y)(Z.timeCreated):"some time ago"}),[Z]);return n.user?(0,o.BX)(Je.T,{css:[tn.gU.filled,u.l0.overflow("hidden"),l===n.id&&{borderColor:u.TV.accentPrimaryDefault}],onClick:function(){t(n)},children:[(0,o.BX)(Je.T,{elevated:!0,css:[u.l0.flex.row,u.l0.align.center,u.l0.justify.spaceBetween,u.l0.flex.grow(1),u.l0.px(8),u.l0.py(8)],children:[(0,o.tZ)(p.G,{css:[u.l0.flex.row,u.l0.align.center,u.l0.rowWithGap(4)],children:(0,o.tZ)(d.xv,{color:"dimmer",variant:"small",children:g(b,n.user.username)})}),(0,o.BX)(p.G,{css:[u.l0.flex.row,u.l0.align.center,u.l0.rowWithGap(4)],children:[i&&n.path?(0,o.tZ)(nn.h,{alt:c,onClick:function(){return t(n)},children:(0,o.tZ)(ss.Z,{})}):null,n.isResolved?(0,o.tZ)(en.zx,{text:m,small:!0,colorway:"primary",onClick:function(){s(!1)}}):(0,o.tZ)(nn.h,{alt:f,onClick:function(){s(!0)},children:(0,o.tZ)(er.Z,{})})]})]}),i&&n.path?(0,o.tZ)(bZ.F,{elevation:"root",path:n.path,snippet:i,fontSize:12,maxHeight:"42px",minHeight:"42px",allowScroll:!1}):null,Z?(0,o.tZ)(p.G,{css:[u.l0.p(8),u.l0.py(12)],children:(0,o.tZ)(xZ.Z,{thread:a,message:Z},Z.id)}):null,n.messages.length>1&&(0,o.BX)(p.G,{css:[u.l0.pb(12),u.l0.px(8),u.l0.flex.row,u.l0.align.center,u.l0.rowWithGap(4),u.l0.color.foregroundDimmer],children:[(0,o.tZ)(p.G,{css:[u.l0.position.relative],children:(0,o.tZ)(yZ.Z,{unreadDot:r>0})}),(0,o.tZ)(d.xv,{variant:"small",children:v(n.messages.length,r)})]})]}):null},TZ=function(e){var n=e.path,t=e.threads,r=e.onThreadClick,i=t.some((function(e){return e.messages.some((function(e){return!e.seen}))}));return(0,o.tZ)(p.G,{css:[u.l0.pb(8)],children:(0,o.tZ)(ZZ.Q,{css:[u.TV.singleLine,u.l0.px(8)],headerContent:(0,o.BX)(p.G,{css:[u.l0.flex.row,u.l0.align.center,u.l0.justify.spaceBetween,u.l0.flex.growAndShrink(1),u.l0.mr(8)],children:[(0,o.BX)(p.G,{css:[u.l0.flex.row,u.l0.align.center,u.l0.rowWithGap(8),u.l0.flex.growAndShrink(1)],children:[(0,o.tZ)(Y.Z,{path:n,size:20}),(0,o.tZ)(d.xv,{css:[u.l0.flex.shrink(1)],children:n})]}),i?(0,o.tZ)("div",{css:[u.l0.flex.shrink(0),u.l0.width(8),u.l0.height(8),u.l0.backgroundColor.redStronger,u.l0.borderRadius("full")]}):null]}),children:(0,o.tZ)("div",{css:[u.l0.mt(8),u.l0.colWithGap(8)],children:t.map((function(e){return(0,o.tZ)(IZ,{thread:e,onClick:r},e.id)}))})})})};function BZ(e){var n=e.primary,t=e.secondary;return(0,o.tZ)(p.G,{css:[u.l0.align.center,u.l0.justify.center,u.l0.flex.grow(1)],children:(0,o.BX)(p.G,{css:[u.l0.align.center,u.l0.justify.center,u.l0.flex.grow(1)],children:[(0,o.tZ)(p.G,{css:[u.l0.maxWidth(140),u.l0.maxHeight(140),u.l0.position.relative,u.l0.align.center,u.l0.justify.center,{pointerEvents:"none"}],children:(0,o.tZ)(zg,{})}),(0,o.tZ)(d.xv,{variant:"subheadDefault",css:u.l0.mt(32),children:n}),(0,o.tZ)("div",{css:[u.l0.color.foregroundDimmest],children:(0,o.tZ)(d.xv,{variant:"text",css:u.l0.mt(8),children:t})})]})})}!function(e){e.CHRONOLOGICAL="chronological",e.CODE_ORDER="codeOrder"}(SZ||(SZ={})),function(e){e.PARTICIPATING="participating",e.RESOLVED="resolved",e.UNREAD="unread",e.INBOX="inbox"}(RZ||(RZ={}));var EZ=function(e){var n=e.isPane,t=e.isChatOnly,a=(0,kn.Z)(),l=Tc(a,{onReceiveAnnotationUpdate:function(){}}),s=l.annotations,c=l.loading,f=l.generalThread,m=l.createAnnotationAnchorPlaceholder,v=l.createAnnotationMessage,g=l.updateThreadPreview,Z=function(e){var n=(0,se.Z)({},Xg,e);return de.a(Vg,n)}(),b=Z.data,x=Z.loading,y=c||x,w=(0,L.Z)(h.useState(!1),2),C=w[0],k=w[1],S=(0,ha.b9)(Dg.Q),R=(0,_.Z)().session,I=(0,L.Z)(h.useState(""),2),T=I[0],B=I[1],E=(0,L.Z)(h.useState("INBOX"),2),G=E[0],M=E[1],P=(0,L.Z)(h.useState("CHRONOLOGICAL"),2),j=P[0],U=P[1],X=h.useMemo((function(){var e,n=null===b||void 0===b||null===(e=b.currentUser)||void 0===e?void 0:e.id,t=s.filter((function(e){if("INBOX"===G)return!e.isResolved;if("RESOLVED"===G)return e.isResolved;if("PARTICIPATING"===G)return!n||function(e,n){var t;return(null===(t=e.user)||void 0===t?void 0:t.id)===n||e.messages.some((function(e){var t=e.user;return(null===t||void 0===t?void 0:t.id)===n}))}(e,n);if("UNREAD"===G){var t=e.messages.some((function(e){return!e.seen}));return t}return!0}));return t}),[b,s,G]),V=h.useMemo((function(){return X.filter((function(e){var n,t;return 0===T.length||null!==(t=null===(n=e.path)||void 0===n?void 0:n.toLowerCase().includes(T.toLowerCase()))&&void 0!==t&&t}))}),[T,X]),z=h.useMemo((function(){return(0,D.Z)(V).sort((function(e,n){if("CHRONOLOGICAL"===j){var t,r,i=new Date(null===(t=e.messages[0])||void 0===t?void 0:t.timeCreated),o=new Date(null===(r=n.messages[0])||void 0===r?void 0:r.timeCreated);return i&&o?i<o?1:-1:0}return"CODE_ORDER"===j?(0,tr.IV)(e.path,n.path):0})).reduce((function(e,n){var t=n.path;return t&&"undefined"!==typeof t?(e[t]=e[t]||[],e[t].push(n),e):e}),{})}),[V,j]),W=h.useMemo((function(){var e=(0,se.Z)({},z),n=Object.values(e).map((function(e){return(0,D.Z)(e).sort((function(e,n){if("CHRONOLOGICAL"===j){var t,r,i=new Date(null===(t=e.messages[0])||void 0===t?void 0:t.timeCreated),o=new Date(null===(r=n.messages[0])||void 0===r?void 0:r.timeCreated);return i&&o?i<o?1:-1:0}var a,l,s,c;return"CODE_ORDER"===j?(null!==(l=null!==(a=e.indexStart)&&void 0!==a?a:e.indexEnd)&&void 0!==l?l:0)<(null!==(c=null!==(s=n.indexStart)&&void 0!==s?s:n.indexEnd)&&void 0!==c?c:0)?-1:1:0}))}));return n.reduce((function(e,n,t){return e[Object.keys(z)[t]]=n,e}),{})}),[z,j]),A=(0,jg.Z)().map((function(e){return e.username})),F=function(e){var n=(0,L.Z)((0,Ic.n)(),1)[0];return function(){n({variables:{replId:e}})}}(a),N=function(){var e=(0,r.Z)((function(e){return(0,i.__generator)(this,(function(n){return e.path?(R.openFile(e.path),S(e.id),[2]):[2]}))}));return function(n){return e.apply(this,arguments)}}(),O=Pg.Wo.StartThread.keyboardShortcut;return t?(0,o.tZ)(gZ,{generalThreadsOpen:C,setGeneralThreadsOpen:k,generalThread:f,handleChangeMessage:function(e){var n=e.anchor,t=e.messageId;g({threadId:n.id,messageId:t})},handleFinalizeMessage:function(e){var n=e.anchor,t=e.message,r=e.messageId,i=(0,_g.kW)(t,{users:(0,D.Z)(A).concat(["everyone"])});v({anchor:n,annotationMessage:{id:r,text:t,mentions:i.mentions}})},createAnnotationAnchorPlaceholder:m}):(0,o.tZ)(Je.T,{className:"threads-inbox",elevated:!n,css:[!n&&[u.l0.borderRadius(8),u.l0.pb(8),u.l0.shadow(2),{borderWidth:u.TV.borderWidthDefault,borderStyle:"solid",borderColor:u.TV.outlineDimmest}],u.l0.height("100%"),u.l0.width("100%"),u.l0.overflow("hidden"),u.l0.position.relative],"aria-busy":y,children:y?(0,o.tZ)(p.G,{css:[u.l0.display.flex,u.l0.align.center,u.l0.justify.center,u.l0.height("100%")],children:(0,o.tZ)(vn.Z,{size:24})}):(0,o.BX)(o.HY,{children:[(0,o.BX)(p.G,{className:"threads-inbox-header",css:[u.l0.py(12),u.l0.px(8),u.l0.position.sticky,u.l0.top(0),u.l0.backgroundColor.backgroundDefault,{zIndex:10}],children:[n?null:(0,o.tZ)(p.G,{css:[u.l0.pb(12)],children:(0,o.tZ)(d.xv,{variant:"subheadDefault",children:Og.title})}),(0,o.BX)(p.G,{css:[u.l0.flex.row,u.l0.align.center,u.l0.flex.wrap,{gap:8}],children:[(0,o.tZ)(za.II,{placeholder:Og.search.placeholder,value:T,onChange:function(e){return B(e.target.value)},css:[u.l0.flex.grow(1)]}),(0,o.BX)(p.G,{css:[u.l0.flex.row,u.l0.maxWidth("100%"),{gap:8}],children:[(0,o.tZ)(p.G,{css:[u.l0.flex.shrink(1)],children:(0,o.tZ)(bc.ZE,{cssProps:[u.l0.flex.shrink(1),{span:u.l0.flex.shrink(1)}],icon:Og.filters[RZ[G]].icon,suffix:(0,o.tZ)(ni.Z,{}),label:Og.filters[RZ[G]].label,onAction:function(e){switch(e){case"toggle-inbox":M("INBOX");break;case"toggle-unread":M("UNREAD");break;case"toggle-participating":M("PARTICIPATING");break;case"toggle-resolved":M("RESOLVED")}},children:Object.entries(Og.filters).map((function(e){var n=(0,L.Z)(e,2),t=(n[0],n[1]);return(0,o.tZ)(Mg.ck,{"aria-label":t.label,children:(0,o.BX)(p.G,{css:u.l0.rowWithGap(8),children:[t.icon,(0,o.tZ)(d.xv,{children:t.label})]})},t.key)}))})}),(0,o.tZ)(p.G,{css:[u.l0.flex.shrink(1)],children:(0,o.tZ)(bc.ZE,{cssProps:[u.l0.flex.shrink(1),{span:u.l0.flex.shrink(1)}],icon:Og.sorts[SZ[j]].icon,suffix:(0,o.tZ)(ni.Z,{}),label:Og.sorts[SZ[j]].label,onAction:function(e){switch(e){case Og.sorts.chronological.key:U("CHRONOLOGICAL");break;case Og.sorts.codeOrder.key:U("CODE_ORDER")}},children:Object.entries(Og.sorts).map((function(e){var n=(0,L.Z)(e,2),t=(n[0],n[1]);return(0,o.tZ)(Mg.ck,{"aria-label":t.label,children:(0,o.BX)(p.G,{css:u.l0.rowWithGap(8),children:[t.icon,(0,o.tZ)(d.xv,{children:t.label})]})},t.key)}))})}),(0,o.tZ)(p.G,{css:[u.l0.flex.shrink(1)],children:(0,o.tZ)(en.zx,{iconLeft:(0,o.tZ)(er.Z,{}),text:Og.markAsRead,onClick:F,css:{span:u.l0.flex.shrink(1)}})})]})]})]}),0===s.length?(0,o.tZ)(BZ,{primary:Og.empty.noThreadsCreated.text.primary,secondary:Og.empty.noThreadsCreated.text.secondary(O)}):(0,o.tZ)(o.HY,{children:Object.keys(W).length>0?(0,o.tZ)(p.G,{css:[u.l0.flex.growAndShrink(1),u.l0.overflowY("auto"),u.l0.scrollbar.thin],children:Object.keys(W).map((function(e,n){return(0,o.tZ)(TZ,{path:e||"-",threads:Object.values(W)[n],onThreadClick:function(e){var n=window.getSelection();"Range"!==(null===n||void 0===n?void 0:n.type)&&N(e)}},e)}))}):(0,o.tZ)(BZ,{primary:Og.empty.noThreadsFound.text.primary,secondary:Og.empty.noThreadsFound.text.secondary})})]})})},GZ={Content:function(){return(0,o.tZ)(EZ,{isPane:!0})},Icon:function(e){var n=e.size;return(0,o.tZ)(Ag.Z,{size:n})},getTitle:function(){return"Threads"}},MZ=t(66499),DZ=t(6897);var PZ,jZ=t(5095);function _Z(){var e,n=(0,_.Z)().fs,t=(0,z.yR)(),a=(0,di.Z)(f.y.Sidepane),l=(0,L.Z)(h.useState([]),2),s=l[0],c=l[1],m=(0,L.Z)(h.useState(PZ.Loading),2),v=m[0],g=m[1],Z=(0,kn.Z)(),b=(0,L.Z)(function(e,n){var t,r=(0,h.useState)((function(){return null!==(t=Ot.Z.get(e))&&void 0!==t?t:n})),i=r[0],o=r[1];return(0,h.useEffect)((function(){Ot.Z.set(e,i)}),[e,i]),[i,o]}("tutorialProgress--".concat(Z),0),2),x=b[0],y=b[1],w=(0,L.Z)(h.useState(!1),2),C=w[0],k=w[1],S=h.useRef(null),R=(0,ys.d)(),I=R?R.toString():"",B=(0,W.Qt)(),E=(0,W.R3)(),G=(0,Va.Z)(E),M=(0,j.Z)((function(){var e;return G?function(n){var t;return G({code:n,insertAt:null!==(e=null===(t=B())||void 0===t?void 0:t.position.offset)&&void 0!==e?e:"end"})}:void 0}),[G,B]),D=(0,jZ.jJ)(I,Z),P=D?(0,o.tZ)(jZ.gC,{challenge:D}):null,U=h.useCallback((function(){S.current&&(S.current.scrollTop=0)}),[S]);return h.useEffect((function(){var e=!1,t=function(){var t=(0,r.Z)((function(){var t,r,o,a,l,s,u,d,p,f,h,m,v,Z,b;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return g(PZ.Loading),[4,n.readDir(fs.V)];case 1:return t=i.sent(),e?[2]:t.error?(g(PZ.Error),[2]):(r=[],[4,Promise.all(t.children.filter((function(e){return e.type===T.Tv.File&&"md"===(0,tr.r6)(e.filename)})).map((function(e){var t="".concat(fs.V,"/").concat(e.filename);return Promise.all([t,n.readFile(t)])})))]);case 2:if(o=i.sent(),e)return[2];a=!0,l=!1,s=void 0;try{for(u=o[Symbol.iterator]();!(a=(d=u.next()).done);a=!0)p=(0,L.Z)(d.value,2),f=p[0],(h=p[1]).error?g(PZ.Error):(v=h.content.toString(),Z=RegExp("^#\\s(?<title>.*)"),b=Z.exec(v),r.push({title:null===b||void 0===b||null===(m=b.groups)||void 0===m?void 0:m.title,content:v,path:f}))}catch(x){l=!0,s=x}finally{try{a||null==u.return||u.return()}finally{if(l)throw s}}return c(r),g(PZ.Ready),[2]}}))}));return function(){return t.apply(this,arguments)}}();return t(),function(){e=!0}}),[n]),h.useEffect((function(){s[x]||y(0)}),[x,y,s]),v===PZ.Loading?(0,o.tZ)(p.G,{css:[u.l0.flex.growAndShrink(1),u.l0.center],children:(0,o.tZ)(vn.Z,{})}):v===PZ.Error?(0,o.tZ)(p.G,{css:[u.l0.flex.growAndShrink(1),u.l0.center],children:(0,o.BX)(p.G,{css:[u.l0.center,u.l0.colWithGap(4)],children:[(0,o.tZ)(ot.Z,{color:u.TV.accentNegativeDefault}),(0,o.tZ)(d.xv,{color:"dimmer",children:"Failed to load tutorial"})]})}):0===s.length?(0,o.tZ)(p.G,{css:[u.l0.flex.growAndShrink(1),u.l0.center],children:(0,o.BX)(p.G,{css:[u.l0.center,u.l0.colWithGap(4)],children:[(0,o.tZ)(ot.Z,{color:u.TV.accentNegativeDefault}),(0,o.tZ)(d.xv,{color:"dimmer",children:"No tutorials found!"})]})}):C?(0,o.BX)(p.G,{css:[u.l0.overflowY("scroll"),u.l0.flex.growAndShrink(1),u.l0.p(8),u.l0.colWithGap(16)],children:[(0,o.tZ)(d.xv,{variant:"headerDefault",children:"Table of Contents"}),(0,o.tZ)(p.G,{css:[u.l0.flex.growAndShrink(1),u.l0.colWithGap(8)],children:s.map((function(e,n){return(0,o.BX)(p.G,{css:[u.l0.p(8),x===n?u.l0.backgroundColor.backgroundHighest:u.l0.backgroundColor.backgroundHigher,u.l0.borderRadius(4),u.l0.rowWithGap(8),u.l0.align.center,u.l0.cursor.pointer,x===n?{outline:"solid 2px var(--outline-dimmest)"}:{},{":hover":{outline:"solid 2px var(--outline-dimmest)"}}],onClick:function(){y(n),k(!1)},children:[(0,o.tZ)(p.G,{css:[u.l0.backgroundColor.backgroundHighest,u.l0.width(20),u.l0.height(20),u.l0.borderRadius("full"),u.l0.center,{outline:"solid 1px var(--outline-dimmest)"}],children:(0,o.tZ)(d.xv,{variant:"small",color:"dimmest",children:n+1})}),(0,o.tZ)(d.xv,{css:[u.l0.maxWidth("80%")],children:e.title})]},e.title)}))})]}):(0,o.tZ)(p.G,{innerRef:a,css:[u.l0.height("100%")],children:(0,o.BX)(p.G,{dataCy:"tutorial-viewer-content",innerRef:S,css:[u.l0.overflowY("scroll"),u.l0.flex.growAndShrink(1),u.l0.p(16),u.l0.pb(48),u.l0.colWithGap(16)],children:[t?(0,o.tZ)(en.zx,{text:"Show tutorial video",iconLeft:(0,o.tZ)(Dc.Z,{}),onClick:function(){return t()}}):null,P,s.length>1&&(0,o.tZ)(en.zx,{text:"Table of Contents",iconLeft:(0,o.tZ)(DZ.Z,{}),onClick:function(){return k(!0)}}),(0,o.tZ)(MZ.Z,{fs:n,path:s[x].path,source:s[x].content,sourcePos:!1,onCodeInsert:M}),s.length>1&&(0,o.BX)(p.G,{css:[u.l0.position.absolute,u.l0.width("100%"),u.l0.left(0),u.l0.bottom(0),u.l0.overflow("hidden")],children:[(0,o.tZ)(UZ,{progress:(x+1)/s.length}),(0,o.BX)(p.G,{css:[u.l0.width("100%"),u.l0.height(40),u.l0.align.center,u.l0.flex.row],children:[(0,o.tZ)(p.G,{tag:"button",css:[u.l0.justify.center,u.l0.p(8),u.l0.backgroundColor.backgroundHigher,u.l0.cursor.pointer,u.l0.width(40),u.l0.height("100%")],onClick:function(){x>0&&(y((function(e){return e-1})),U())},children:x>0&&(0,o.tZ)(Ov.Z,{size:24})}),(0,o.tZ)(p.G,{tag:"button",css:[u.l0.rowWithGap(8),u.l0.flex.growAndShrink(1),u.l0.height("100%"),u.l0.justify.spaceBetween,u.l0.backgroundColor.backgroundHighest,u.l0.align.center,u.l0.p(8),u.l0.cursor.pointer,{userSelect:"none"}],onClick:function(){x<s.length-1&&(y((function(e){return e+1})),U())},children:x<s.length-1&&(0,o.BX)(o.HY,{children:[(0,o.BX)(d.xv,{css:[u.l0.flex.growAndShrink(1),u.l0.textAlign.left,u.l0.fontSize(u.TV.fontSizeSubheadDefault)],children:[(0,o.BX)("span",{css:[u.l0.color.foregroundDimmer],children:["Next",s[x+1].title?": ":" page"]}),(0,o.tZ)("b",{children:null!==(e=s[x+1].title)&&void 0!==e?e:""})]}),(0,o.tZ)(jo.Z,{size:24})]})})]})]})]})})}!function(e){e.Ready="READY",e.Loading="LOADING",e.Error="ERROR"}(PZ||(PZ={}));var UZ=function(e){var n=e.progress;return(0,o.tZ)(pn.u,{tooltip:"Progress: ".concat(Math.round(100*n*10)/10,"%"),children:(0,o.tZ)(p.G,{css:[u.l0.width("100%"),u.l0.height(4),u.l0.backgroundColor.backgroundHigher],children:(0,o.tZ)(p.G,{css:[u.l0.width("".concat(100*n,"%")),u.l0.height("100%"),u.l0.backgroundColor.purpleDefault]})})})},XZ={Content:function(){return(0,o.tZ)(_Z,{})},Icon:function(e){var n=e.size;return(0,o.tZ)(Kr.Z,{size:n})},getTitle:function(){return"Tutorial"}},VZ=t(84139),zZ=(0,a.iv)([u.l0.backgroundColor.backgroundDefault,u.l0.height("100%"),u.l0.borderRadius(4),{overflow:"hidden"}]),WZ=(0,a.iv)([u.l0.width("100%"),u.l0.height("100%"),u.l0.justify.center,u.l0.align.center,u.l0.display.flex]);function AZ(e){var n=e.paneId,t=e.extensionPaneData,r=e.environmentAPIs,i=(0,Fh.jx)(t.installationId),a=(0,Fh.r9)(t.installationId),l=wv({extension:i,environmentAPIs:r,sandboxTitle:t.name,sandboxUrl:t.url,paneId:n,filePath:t.path||null}),s=l.didConnectOnce,c=l.isValidExtensionPaneUrl,f=l.getIframeProps,h=l.reloadSandbox;return(0,Qc.L5)((function(){return{actions:[{icon:(0,o.tZ)(_c.Z,{}),label:"Refresh",run:function(){h()},type:"action",description:"Refresh the extension pane",key:"refresh"}]}}),[]),(0,o.tZ)(p.G,{className:"extension-pane",css:zZ,children:a&&s?(0,o.tZ)(o.HY,{children:c()?(0,o.tZ)("iframe",(0,se.Z)({},f({css:{width:"100%",height:"100%",border:"none"}}))):(0,o.tZ)(p.G,{css:[u.l0.p(12)],children:(0,o.BX)(d.xv,{multiline:!0,children:["Invalid url: ",(0,o.tZ)(VZ.Z,{children:t.url}),". Please contact the extension author, or Replit support."]})})}):(0,o.tZ)(p.G,{css:WZ,children:(0,o.tZ)(vn.Z,{})})})}var FZ={Content:function(e){var n=e.pane,t=e.options,r=Lv();return(0,o.tZ)(AZ,{extensionPaneData:n.data,paneId:t.paneId,environmentAPIs:r})},Icon:function(e){var n=e.pane,t=e.size;return(0,C.P5)({controlName:"flag-extension-icons-in-workspace"})&&n.data.icon?(0,o.tZ)(Pn.Z,{src:n.data.url+n.data.icon,layout:"fill",alt:""}):(0,o.tZ)(ou.Z,{size:t})},getTitle:function(e){return e.data.path?e.data.path+" \u2014 "+e.data.name:e.data.name}},NZ=t(24793),OZ=t(26995);function HZ(e){var n=e.user,t=e.size,r=void 0===t?16:t;return"replit"===n.username||"util"===n.username?(0,o.BX)(Jn.Ug,{spacing:1,align:"center",children:[(0,o.tZ)(si.N2,{size:r}),(0,o.tZ)(d.xv,{variant:"text",color:"dimmest",children:"Replit"})]}):(0,o.tZ)(p.G,{css:[{maxWidth:"fit-content",zIndex:1}],children:(0,o.tZ)(OZ.Z,{username:n.username,children:(0,o.tZ)(Qs.ZP,{user:n,children:(0,o.BX)(p.G,{as:"a",css:[{color:"inherit"},u.l0.rowWithGap(r<24?4:8),u.l0.align.center,u.l0.focusRing,u.l0.borderRadius(8),u.l0.cursor.pointer],children:[(0,o.tZ)(dn.q,{src:n.image,username:n.username,size:r,layout:"intrinsic"}),(0,o.tZ)(d.xv,{children:n.username})]})})})})}function qZ(e){var n=e.size,t=e.baseUrl,r=e.icon,i=t&&r?(0,Cv.Vh)(t,r):null;return(0,o.tZ)("div",{css:{background:i?"url(".concat(i,") no-repeat center center / contain"):"radial-gradient(89% 90% at 11% 10%, rgb(255 255 255 / 79%) 0%, #91d900 98.6%)",width:n,minWidth:n,height:n,minHeight:n,borderRadius:12,flexGrow:1}})}function $Z(e){var n=e.children;return(0,o.tZ)(p.G,{css:[u.l0.align.center,u.l0.display.flex,u.l0.flex.wrap,u.l0.flex.row,{gap:Gt.TV.space8}],children:n})}function YZ(e){var n,t=e.extension,r=e.onClick,i=t.manifest;if("ExtensionManifest"!==(null===i||void 0===i?void 0:i.__typename))return(0,o.tZ)("div",{children:"no manifest"});var a,l,s="replit"===t.user.username||"util"===t.user.username;return(0,o.tZ)(Je.T,{onClick:r,css:[u.l0.border({color:u.TV.backgroundHigher,style:"solid",width:1}),u.l0.borderRadius(8),u.l0.width("100%"),u.l0.p(12),u.l0.cursor.pointer,tn.gU.filledAndOutlined],children:(0,o.BX)(Jn.gC,{spacing:2,children:[(0,o.BX)(Jn.Ug,{spacing:2,wrap:"nowrap",css:[u.l0.width("100%")],children:[(0,o.tZ)(p.G,{css:[u.l0.flex.grow(0)],children:(0,o.tZ)(qZ,{size:64,baseUrl:t.url,icon:i.icon})}),(0,o.BX)(p.G,{css:[u.l0.flex.growAndShrink(1),u.l0.colWithGap(4)],children:[(0,o.tZ)(Jn.Ug,{align:"center",justify:"space-between",children:(0,o.tZ)(d.xv,{variant:"subheadBig",children:null!==(a=i.name)&&void 0!==a?a:t.name})}),(0,o.tZ)(HZ,{user:t.user}),(0,o.tZ)(d.xv,{variant:"text",color:"dimmer",multiline:!0,maxLines:2,children:null!==(l=i.description)&&void 0!==l?l:t.description})]})]}),(0,o.tZ)(p.G,{css:[u.l0.width("100%")],children:(0,o.BX)($Z,{children:[(0,o.BX)(p.G,{css:[u.l0.rowWithGap(4)],children:[(0,o.tZ)(Jv.Z,{color:u.TV.foregroundDimmer}),(0,o.tZ)(d.xv,{color:"dimmer",variant:"small",children:t.installCount})]}),(0,o.BX)(p.G,{css:[u.l0.rowWithGap(8),u.l0.align.center],children:[s?(0,o.tZ)(NZ.D,{text:"Official",css:[u.l0.color.accentPositiveStronger]}):null,null===(n=i.tags)||void 0===n?void 0:n.slice(0,5).map((function(e){return(0,o.tZ)(NZ.D,{text:"#".concat(e),css:[u.l0.color.foregroundDimmer,u.l0.border({color:u.TV.outlineDimmer})]},e)}))]})]})})]})})}function KZ(){return(0,o.BX)("svg",{width:"116",height:"136",viewBox:"0 0 116 136",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,o.BX)("g",{clipPath:"url(#clip0_512_49215)",children:[(0,o.tZ)("path",{d:"M34.8211 5.35826V8.85802C36.8023 8.11737 38.7028 7.7222 40.4849 7.65121L42.0489 3.56934L47.433 4.29816L46.5207 6.67866L45.8097 8.52911C47.3453 9.14908 48.7174 10.0861 49.8905 11.3237L52.6015 7.97066L55.6917 12.6891L52.8906 16.151C53.1442 16.7899 53.3669 17.4643 53.5589 18.1718C53.8977 19.4165 54.1442 20.7605 54.284 22.1992L57.4097 20.486L57.3695 27.921L54.1418 29.691C53.8812 31.797 53.4475 33.929 52.855 36.0563C52.7366 36.487 52.611 36.9177 52.4783 37.3483L55.0044 37.7175L55.1679 37.7411L52.0114 45.8836L49.2269 45.4789C47.9804 47.9872 46.5444 50.4103 44.9519 52.6843L46.4851 55.0719L41.0655 61.7236L39.4801 59.2556C39.1554 59.5821 38.826 59.9016 38.4943 60.2163C36.9753 61.6526 35.3875 62.9423 33.7476 64.0592L33.7097 67.8003L27.4867 71.1628L27.527 67.2963C25.7047 67.9494 23.9558 68.3114 22.3064 68.3942C22.1642 68.4013 22.0244 68.4061 21.8822 68.4084L20.285 72.4856L14.9412 71.655L16.5976 67.4311C15.0786 66.7804 13.7255 65.8102 12.5714 64.5466L10.5405 67.0194L9.84144 67.8713L6.81999 63.07L9.64002 59.6389C8.96463 57.8476 8.51438 55.8055 8.31532 53.5315L5.19434 55.1973L5.31045 47.7222L8.53807 45.9995C8.87695 43.4605 9.46465 40.8836 10.2704 38.328L7.60202 37.8878L10.8249 29.7549L13.5904 30.2139C14.8535 27.7127 16.3062 25.3015 17.9129 23.0464L16.4128 20.6162L21.8727 14.0237L23.4202 16.5319C25.0696 14.9039 26.8042 13.4439 28.6005 12.1945V8.47468L34.8259 5.01751V5.36299L34.8211 5.35826ZM32.5248 30.053C32.1789 30.169 31.8258 30.3275 31.4608 30.5286C28.2427 32.3176 25.6336 36.8751 25.6336 40.7085C25.6336 41.1391 25.6667 41.5414 25.7307 41.9153C26.226 44.8732 28.6052 46.0019 31.4632 44.4141C34.6813 42.6252 37.2904 38.07 37.2904 34.2343C37.2904 30.8339 35.2358 29.1443 32.5248 30.053Z",fill:"#686868"}),(0,o.tZ)("path",{d:"M57.4075 20.486L54.2818 22.1992C54.142 20.7605 53.8955 19.4164 53.5566 18.1717L53.5756 18.167L57.4051 20.486H57.4075Z",fill:"#444444"}),(0,o.tZ)("path",{d:"M55.0065 37.6913L55.0018 37.7173L52.4756 37.3482C52.6083 36.9175 52.7339 36.4868 52.8524 36.0562H52.8571L55.0065 37.6913Z",fill:"#444444"}),(0,o.tZ)("path",{d:"M52.6013 7.97057L49.8903 11.3236C48.7149 10.0884 47.3428 9.15136 45.8096 8.52902L46.5205 6.67857L46.53 6.68331L47.9092 5.04346L52.6037 7.97057H52.6013Z",fill:"#444444"}),(0,o.tZ)("path",{d:"M47.433 4.2978L42.0465 3.56898L37.3828 0.604004L42.7669 1.33283L47.433 4.2978Z",fill:"#686868"}),(0,o.tZ)("path",{d:"M42.0461 3.56898L40.4821 7.65086C38.7 7.72185 36.7995 8.11702 34.8184 8.85767V5.35791L36.1881 4.98876L37.3824 0.604004L42.0461 3.56898Z",fill:"#444444"}),(0,o.tZ)("path",{d:"M39.477 59.2529L41.0624 61.721L38.522 60.2444L38.4912 60.2137C38.8253 59.8989 39.1524 59.5795 39.477 59.2529Z",fill:"#444444"}),(0,o.tZ)("path",{d:"M37.2902 34.2341C37.2902 38.0699 34.6811 42.625 31.4629 44.414C28.605 46.0018 26.2281 44.873 25.7305 41.9152L25.7921 41.9057C26.1191 41.7897 26.4556 41.6407 26.7992 41.449C30.0174 39.6601 32.6265 35.1026 32.6265 31.2692C32.6265 30.8361 32.5933 30.4291 32.527 30.0529C35.238 29.1442 37.2926 30.8338 37.2926 34.2341H37.2902Z",fill:"#444444"}),(0,o.tZ)("path",{d:"M34.8206 5.01242L28.5952 8.46959V12.1894C26.7989 13.4388 25.0619 14.8965 23.4149 16.5269L21.8674 14.0186L19.7275 12.6603L19.7726 12.5893C21.1139 11.3494 22.5025 10.223 23.9339 9.2268V5.50697L30.1569 2.0498L34.8229 5.01478L34.8206 5.01242Z",fill:"#444444"}),(0,o.tZ)("path",{d:"M27.5243 67.2939L27.484 71.1605L22.3037 68.3966V68.3919C23.9531 68.3091 25.702 67.947 27.5243 67.2939Z",fill:"#444444"}),(0,o.tZ)("path",{d:"M21.8678 14.0188L16.4078 20.6089L11.7441 17.6463L17.2017 11.0562L19.7255 12.6581L21.8678 14.0188Z",fill:"#686868"}),(0,o.tZ)("path",{d:"M16.4073 20.6091L17.9074 23.0393C16.3007 25.2967 14.848 27.708 13.5849 30.2068L10.8194 29.7478L6.15332 26.7852L8.91884 27.2442C10.1843 24.743 11.637 22.3318 13.2437 20.0767L11.7436 17.6465L16.4073 20.6091Z",fill:"#444444"}),(0,o.tZ)("path",{d:"M16.5926 67.4309L14.9362 71.6548L9.73926 68.659L10.5355 67.0192L12.5664 64.5464C13.7228 65.81 15.076 66.7802 16.5926 67.4309Z",fill:"#444444"}),(0,o.tZ)("path",{d:"M10.8202 29.7497L7.59729 37.8827L5.29862 36.4227L2.93359 34.9177L6.1541 26.7871L10.8202 29.7497Z",fill:"#686868"}),(0,o.tZ)("path",{d:"M7.59719 37.8829L10.2655 38.323C9.45982 40.8786 8.87212 43.4555 8.53324 45.9945L5.30562 47.7172L5.1895 55.1924L3.77476 54.2932L0.523438 52.2274L0.639556 44.7522L3.86718 43.0319C4.15629 40.8644 4.62787 38.6685 5.2606 36.482L5.29851 36.4229L7.59482 37.8829H7.59719Z",fill:"#444444"}),(0,o.tZ)("path",{d:"M6.81257 63.0676L9.83402 67.8688C9.52832 67.7079 4.15607 64.0732 4.15607 64.0732L1.64648 59.873L6.8102 63.0652L6.81257 63.0676Z",fill:"#686868"}),(0,o.tZ)("path",{d:"M9.63455 59.6362L6.81216 63.0674L1.64844 59.8752L4.33575 57.0522L9.63455 59.6362Z",fill:"#444444"}),(0,o.tZ)("path",{d:"M9.6347 59.6362L4.3359 57.0522L3.76953 54.3002L3.77427 54.2955L5.18902 55.1947L8.31 53.5288C8.50669 55.8052 8.95932 57.8449 9.6347 59.6362Z",fill:"#444444"}),(0,o.tZ)("path",{d:"M52.8549 36.0563C53.445 33.929 53.8786 31.797 54.1417 29.691L57.3693 27.921L57.4096 20.486L54.2839 22.1992C54.1441 20.7605 53.8976 19.4165 53.5587 18.1718C53.3691 17.4643 53.144 16.7922 52.8905 16.151L55.6915 12.6891L52.6013 7.97066L49.8903 11.3237C48.7149 10.0885 47.3428 9.15145 45.8096 8.52911L46.5205 6.67866L47.4329 4.29816L42.0488 3.56934L40.4847 7.65121C38.7027 7.7222 36.8021 8.11737 34.821 8.85802V5.01278L28.5956 8.46995V12.1898C26.7993 13.4392 25.0623 14.8968 23.4153 16.5272L21.8679 14.0189L16.4079 20.6115L17.908 23.0416C16.3013 25.2991 14.8486 27.7104 13.5855 30.2092L10.82 29.7501L7.59713 37.8831L10.2655 38.3232C9.45977 40.8788 8.87207 43.4557 8.53319 45.9948L5.30557 47.7175L5.18945 55.1926L8.31043 53.5267C8.50712 55.8031 8.95975 57.8429 9.63513 59.6342L6.81511 63.0653L9.83656 67.8665L10.5356 67.0147L12.5665 64.5419C13.723 65.8055 15.0761 66.7757 16.5928 67.4264L14.9363 71.6503L20.2801 72.4808L21.8773 68.4037C22.0172 68.4037 22.157 68.3942 22.3015 68.3895C23.9509 68.3067 25.6998 67.9446 27.5221 67.2915L27.4818 71.1581L33.7048 67.7955L33.7428 64.0544C35.385 62.9375 36.9727 61.6479 38.4894 60.2115C38.8235 59.8968 39.1506 59.5774 39.4752 59.2508L41.0606 61.7189L46.4802 55.0672L44.947 52.6796C46.5395 50.4056 47.9756 47.9849 49.2221 45.4742L52.0065 45.8788L55.1631 37.7364L54.9995 37.7127L52.4734 37.3436C52.6061 36.9129 52.7317 36.4823 52.8502 36.0516L52.8549 36.0563Z",stroke:"#1B2332",strokeWidth:"0.23905",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M32.5241 30.0529C35.2351 29.1442 37.2897 30.8338 37.2897 34.2341C37.2897 38.0699 34.6806 42.625 31.4624 44.414C28.6045 46.0018 26.2276 44.873 25.73 41.9152C25.666 41.5413 25.6328 41.139 25.6328 40.7083C25.6328 36.8749 28.2419 32.3174 31.4601 30.5285C31.825 30.3274 32.1781 30.1688 32.5241 30.0529V30.0529Z",stroke:"#1B2332",strokeWidth:"0.23905",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M42.0465 3.56898L37.3828 0.604004L42.7669 1.33283L47.433 4.2978",stroke:"#1B2332",strokeWidth:"0.23905",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M19.7705 12.5874C21.1118 11.3474 22.5005 10.2211 23.9318 9.22485V5.50502L30.1548 2.04785L34.8209 5.01283",stroke:"#1B2332",strokeWidth:"0.23905",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M2.93359 34.918L6.1541 26.7873L8.91962 27.2464C10.1851 24.7452 11.6377 22.334 13.2444 20.0789L11.7444 17.6487L17.2019 11.0562L19.7281 12.6605L21.868 14.0188",stroke:"#1B2332",strokeWidth:"0.23905",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M5.2606 36.4819C4.62787 38.6684 4.15629 40.862 3.86718 43.0319L0.639556 44.7522L0.523438 52.2273L3.77476 54.2931L5.1895 55.1923",stroke:"#1B2332",strokeWidth:"0.23905",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M32.506 29.937C32.5131 29.9772 32.5202 30.0151 32.5249 30.053C32.5913 30.4292 32.6244 30.8362 32.6244 31.2692C32.6244 35.1027 30.0153 39.6602 26.7972 41.4491C26.4536 41.6384 26.1171 41.7898 25.79 41.9058",stroke:"#1B2332",strokeWidth:"0.23905",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M52.6011 7.97057L47.9042 5.04346L46.5273 6.68331",stroke:"#1B2332",strokeWidth:"0.23905",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M37.3827 0.604004L36.1907 4.98876L34.821 5.35791L34.8115 5.36027",stroke:"#1B2332",strokeWidth:"0.23905",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M16.4078 20.6091L11.7441 17.6465",stroke:"#1B2332",strokeWidth:"0.23905",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M6.15332 26.7871L10.8194 29.7497",stroke:"#1B2332",strokeWidth:"0.23905",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M2.93359 34.918L5.29862 36.4229L7.59729 37.8829",stroke:"#1B2332",strokeWidth:"0.23905",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M6.81216 63.0674L1.64844 59.8752L4.33575 57.0522L9.63455 59.6362",stroke:"#1B2332",strokeWidth:"0.23905",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M4.3359 57.0523L3.76953 54.3003",stroke:"#1B2332",strokeWidth:"0.23905",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M9.83597 67.8688C9.53027 67.7079 4.15802 64.0732 4.15802 64.0732L1.64844 59.873",stroke:"#1B2332",strokeWidth:"0.23905",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M14.9367 71.6546L9.74219 68.6589L10.5384 67.019",stroke:"#1B2332",strokeWidth:"0.23905",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M27.484 71.1603L22.3037 68.3965",stroke:"#1B2332",strokeWidth:"0.23905",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M41.0628 61.7212L38.5225 60.2446",stroke:"#1B2332",strokeWidth:"0.23905",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M55.0068 37.6913L52.8574 36.0586",stroke:"#1B2332",strokeWidth:"0.23905",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M57.4067 20.486L53.5771 18.167",stroke:"#1B2332",strokeWidth:"0.23905",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M115.888 81.7139V88.3395L110.58 91.8724V85.0267L111.17 84.6575L115.888 81.7139Z",fill:"#4F5FFF"}),(0,o.tZ)("path",{d:"M115.889 81.7137L111.17 84.6574L109.502 83.7275H111.675C111.881 83.7275 112.069 83.6447 112.206 83.5074C112.343 83.3702 112.426 83.1832 112.426 82.975C112.426 82.5633 112.09 82.2249 111.675 82.2249H106.808L104.952 81.1908H109.028C109.237 81.1908 109.424 81.108 109.559 80.9707C109.696 80.8335 109.779 80.6465 109.779 80.4383C109.779 80.0266 109.445 79.6882 109.028 79.6882H107.478L110.168 78.1714L110.213 78.2495L115.891 81.7114L115.889 81.7137Z",fill:"#293DCE"}),(0,o.tZ)("path",{d:"M109.794 21.6522L112.972 19.8609L114.472 17.0024C114.472 17.0024 114.83 23.1454 114.472 23.5027L112.972 26.3588L107.58 29.3971L105.381 30.6371L102.661 32.1704L102.227 32.4142L100.215 33.5476L97.5587 35.0431L97.1724 35.2608L94.0917 36.9977V40.2845L92.2314 37.1421V32.7147L94.0917 30.4998L96.5373 29.1227L102.457 25.7838L109.791 21.6522H109.794Z",fill:"#4F5FFF"}),(0,o.tZ)("path",{d:"M109.943 38.2781L112.604 36.7778L112.972 36.572L114.429 33.7963L114.472 33.7158C114.472 33.7158 114.83 39.8587 114.472 40.2161L112.972 43.0722L107.58 46.1105L105.381 47.3505L102.661 48.8838L102.227 49.1276L100.215 50.261L97.5587 51.7565L97.1724 51.9742L94.0917 53.7111V56.9979L92.2314 53.8554V49.4281L94.0917 47.2132L99.8597 43.9619L104.528 41.3306L107.189 39.8327L109.943 38.2804V38.2781Z",fill:"#4F5FFF"}),(0,o.tZ)("path",{d:"M107.189 56.5388L109.947 54.9842L112.606 53.4863L112.974 53.2804L114.431 50.5048L114.474 50.4243C114.474 50.4243 114.831 56.5672 114.474 56.9246L112.974 59.7807L107.582 62.819L105.383 64.059L102.663 65.5923L102.229 65.8361L100.217 66.9695L97.5606 68.465L97.1744 68.6827L94.0937 70.4196V73.704L92.2334 70.5639V66.1366L94.0937 63.9217L99.8617 60.6704L104.53 58.0391L107.191 56.5412L107.189 56.5388Z",fill:"#4F5FFF"}),(0,o.tZ)("path",{d:"M104.72 74.7471L107.301 73.2942L110.123 71.7041L112.718 70.2417L112.972 70.0973L114.472 67.2412C114.472 67.2412 114.83 73.3818 114.472 73.7391L112.972 76.5976L110.168 78.1759L107.479 79.6927L104.884 81.1551L104.815 81.1929L102.983 82.2246L100.334 83.7154L97.0966 85.5398L94.0917 87.2341V90.5185L92.2314 87.3785V82.9487L94.0917 80.7362L99.9498 77.4329L104.72 74.7448V74.7471Z",fill:"#4F5FFF"}),(0,o.tZ)("path",{d:"M114.472 17.0048L112.972 19.8633L109.794 21.6522L104.095 18.7819V11.5718L114.472 17.0048Z",fill:"#293DCE"}),(0,o.tZ)("path",{d:"M114.471 67.239L112.971 70.0952L112.718 70.2395L112.694 70.1945H108.831L106.213 68.4813H111.781C111.988 68.4813 112.177 68.3985 112.315 68.2613C112.452 68.124 112.535 67.9371 112.535 67.7312C112.535 67.3171 112.199 66.9811 111.781 66.9811H103.878V66.9527L102.257 65.8926L102.227 65.8334L102.66 65.5897H107.705C107.912 65.5897 108.101 65.5045 108.236 65.3697C108.374 65.2348 108.457 65.0455 108.457 64.8396C108.457 64.4255 108.123 64.0895 107.705 64.0895H105.4L105.378 64.0563L107.577 62.8164L114.471 67.2414V67.239Z",fill:"#293DCE"}),(0,o.tZ)("path",{d:"M107.58 29.397L114.431 33.7936L112.973 36.5692L112.606 36.7751H108.831L106.213 35.0619H111.781C111.988 35.0619 112.177 34.9791 112.315 34.8418C112.452 34.707 112.535 34.52 112.535 34.3118C112.535 33.8977 112.199 33.5617 111.781 33.5617H103.878V33.5333L102.257 32.4732L102.227 32.414L102.66 32.1703H107.705C107.912 32.1703 108.101 32.0875 108.236 31.9502C108.374 31.8153 108.457 31.626 108.457 31.4202C108.457 31.0061 108.123 30.67 107.705 30.67H105.4L105.378 30.6369L107.577 29.397H107.58Z",fill:"#293DCE"}),(0,o.tZ)("path",{d:"M107.58 46.1055L114.431 50.5021L112.973 53.2777L112.606 53.4836H108.831L106.213 51.7704H111.781C111.988 51.7704 112.177 51.6876 112.315 51.5503C112.452 51.4155 112.535 51.2285 112.535 51.0203C112.535 50.6062 112.199 50.2702 111.781 50.2702H103.878V50.2418L102.257 49.1817L102.227 49.1225L102.66 48.8788H107.705C107.912 48.8788 108.101 48.7936 108.236 48.6587C108.374 48.5238 108.457 48.3345 108.457 48.1287C108.457 47.7146 108.123 47.3785 107.705 47.3785H105.4L105.378 47.3454L107.577 46.1055H107.58Z",fill:"#293DCE"}),(0,o.tZ)("path",{d:"M99.4284 70.1948H112.692L112.716 70.2397L110.121 71.7021L110.116 71.6926H96.6012C96.3927 71.6926 96.2055 71.6098 96.068 71.4726C95.9306 71.3353 95.8477 71.1507 95.8477 70.9425C95.8477 70.5308 96.1842 70.1924 96.6012 70.1924H99.426L99.4284 70.1948Z",fill:"#51FF53"}),(0,o.tZ)("path",{d:"M108.832 36.7753H112.607L109.946 38.2756H96.6061C96.3976 38.2756 96.2104 38.1904 96.0729 38.0555C95.9378 37.9182 95.8525 37.7313 95.8525 37.5231C95.8525 37.1113 96.189 36.7729 96.6061 36.7729H108.832V36.7753Z",fill:"#FF87B1"}),(0,o.tZ)("path",{d:"M108.831 53.4863H112.606L109.947 54.9841H96.6032C96.3947 54.9841 96.2074 54.9013 96.07 54.7641C95.9325 54.6268 95.8496 54.4422 95.8496 54.234C95.8496 53.8223 96.1861 53.4839 96.6032 53.4839H108.829L108.831 53.4863Z",fill:"#FFCF32"}),(0,o.tZ)("path",{d:"M111.78 33.564C112.195 33.564 112.534 33.8977 112.534 34.3141C112.534 34.5224 112.451 34.7093 112.313 34.8442C112.176 34.9814 111.989 35.0642 111.78 35.0642H97.5661L97.5566 35.0453L100.213 33.5498L100.223 33.5664H111.78V33.564Z",fill:"#51FF53"}),(0,o.tZ)("path",{d:"M111.78 50.2725C112.195 50.2725 112.534 50.6061 112.534 51.0226C112.534 51.2309 112.451 51.4178 112.313 51.5527C112.176 51.6899 111.989 51.7727 111.78 51.7727H97.5661L97.5566 51.7538L100.213 50.2583L100.223 50.2749H111.78V50.2725Z",fill:"#51FF53"}),(0,o.tZ)("path",{d:"M111.78 66.981C112.195 66.981 112.534 67.3146 112.534 67.7311C112.534 67.937 112.451 68.1239 112.313 68.2612C112.176 68.3984 111.989 68.4812 111.78 68.4812H97.5661L97.5566 68.4623L100.213 66.9668L100.223 66.9834H111.78V66.981Z",fill:"#FF87B1"}),(0,o.tZ)("path",{d:"M106.808 82.2271H111.676C112.088 82.2271 112.427 82.5631 112.427 82.9772C112.427 83.183 112.344 83.3723 112.207 83.5096C112.069 83.6468 111.882 83.7297 111.676 83.7297H100.341L100.334 83.7178L102.983 82.2271H106.811H106.808Z",fill:"#51FF53"}),(0,o.tZ)("path",{d:"M109.029 79.6904C109.443 79.6904 109.78 80.0264 109.78 80.4405C109.78 80.6464 109.697 80.8357 109.559 80.973C109.424 81.1102 109.237 81.193 109.029 81.193H104.953L104.884 81.1552L107.479 79.6928H109.029V79.6904Z",fill:"#FFCF32"}),(0,o.tZ)("path",{d:"M107.706 30.6723C108.121 30.6723 108.458 31.0059 108.458 31.4224C108.458 31.6283 108.375 31.8176 108.237 31.9525C108.102 32.0897 107.913 32.1725 107.706 32.1725H102.661L105.382 30.6392L105.403 30.6723H107.709H107.706Z",fill:"#FF87B1"}),(0,o.tZ)("path",{d:"M107.706 47.3813C108.121 47.3813 108.458 47.7149 108.458 48.1314C108.458 48.3373 108.375 48.5266 108.237 48.6614C108.102 48.7963 107.913 48.8815 107.706 48.8815H102.661L105.382 47.3481L105.403 47.3813H107.709H107.706Z",fill:"#FF87B1"}),(0,o.tZ)("path",{d:"M107.706 64.0893C108.121 64.0893 108.458 64.4229 108.458 64.8394C108.458 65.0453 108.375 65.2346 108.237 65.3695C108.102 65.5043 107.913 65.5895 107.706 65.5895H102.661L105.382 64.0562L105.403 64.0893H107.709H107.706Z",fill:"#FFCF32"}),(0,o.tZ)("path",{d:"M107.277 73.247L107.301 73.292L104.72 74.7449H99.7415C99.5353 74.7449 99.3481 74.6597 99.2106 74.5248C99.0732 74.3899 98.9902 74.2006 98.9902 73.9947C98.9902 73.5806 99.3267 73.2446 99.7415 73.2446H107.277V73.247Z",fill:"#FF87B1"}),(0,o.tZ)("path",{d:"M107.19 39.83L104.528 41.3279H99.7415C99.5353 41.3279 99.3481 41.2451 99.2106 41.1078C99.0732 40.9729 98.9902 40.7836 98.9902 40.5778C98.9902 40.1637 99.3267 39.8276 99.7415 39.8276H107.19V39.83Z",fill:"#FFCF32"}),(0,o.tZ)("path",{d:"M107.19 56.5385L104.528 58.0364H99.7415C99.5353 58.0364 99.3481 57.9535 99.2106 57.8163C99.0732 57.6814 98.9902 57.4921 98.9902 57.2863C98.9902 56.8721 99.3267 56.5361 99.7415 56.5361H107.19V56.5385Z",fill:"#FF87B1"}),(0,o.tZ)("path",{d:"M104.72 74.7474L99.9499 77.4355L94.0918 73.6683V70.417L97.1725 68.6802L99.4285 70.1946H96.6037C96.189 70.1946 95.8502 70.5306 95.8502 70.9447C95.8502 71.153 95.9355 71.3399 96.0706 71.4748C96.2056 71.6097 96.3952 71.6948 96.6037 71.6948H101.772V71.7706L104.033 73.2045V73.2495H99.7413C99.329 73.2495 98.9901 73.5832 98.9901 73.9996C98.9901 74.2055 99.073 74.3948 99.2105 74.5297C99.3479 74.6646 99.5352 74.7497 99.7413 74.7497H104.72V74.7474Z",fill:"#293DCE"}),(0,o.tZ)("path",{d:"M104.528 41.3279L99.8598 43.9593L94.0918 40.2489V36.9976L97.1725 35.2607L99.4285 36.7752H96.6037C96.189 36.7752 95.8502 37.1112 95.8502 37.5253C95.8502 37.7335 95.9355 37.9205 96.0706 38.0577C96.208 38.1926 96.3952 38.2778 96.6037 38.2778H101.772V38.3511L104.033 39.7851V39.8301H99.7413C99.329 39.8301 98.9901 40.1637 98.9901 40.5802C98.9901 40.7861 99.073 40.9754 99.2105 41.1102C99.3479 41.2475 99.5352 41.3303 99.7413 41.3303H104.528V41.3279Z",fill:"#293DCE"}),(0,o.tZ)("path",{d:"M104.528 58.0364L99.8598 60.6678L94.0918 56.9574V53.7061L97.1725 51.9692L99.4285 53.4837H96.6037C96.189 53.4837 95.8502 53.8197 95.8502 54.2338C95.8502 54.442 95.9355 54.629 96.0706 54.7638C96.2056 54.8987 96.3952 54.9839 96.6037 54.9839H101.772V55.0596L104.033 56.4936V56.5386H99.7413C99.329 56.5386 98.9901 56.8722 98.9901 57.2887C98.9901 57.4946 99.073 57.6839 99.2105 57.8187C99.3479 57.956 99.5352 58.0388 99.7413 58.0388H104.528V58.0364Z",fill:"#293DCE"}),(0,o.tZ)("path",{d:"M103.808 91.612V95.8311L94.0918 90.5187V87.2343L97.0967 85.54L97.1204 85.5826L98.3597 86.3091L100.083 87.2864L102.772 88.815L103.808 89.4042V90.0455V91.612Z",fill:"#293DCE"}),(0,o.tZ)("path",{d:"M102.395 25.6723L102.459 25.7859L96.5396 29.1224L96.4969 29.0467L92.9541 26.9052V20.3174L102.395 25.6723Z",fill:"#293DCE"}),(0,o.tZ)("path",{d:"M88.0697 102.005L96.4136 97.1704V110.37L53.2412 135.389V122.189L88.0697 102.005Z",fill:"#686868"}),(0,o.tZ)("path",{d:"M88.0699 102.005L53.2414 122.189V135.389L51.957 134.655V121.456L95.1294 96.437L96.4138 97.1706L88.0699 102.005Z",fill:"#444444"}),(0,o.tZ)("path",{d:"M82.9376 33.9949C81.7219 35.5898 79.8 36.6215 77.6364 36.6215H76.8283C74.9894 36.6215 73.3258 35.8761 72.1219 34.674C71.9371 34.4894 71.7641 34.2978 71.6053 34.0919C70.7096 32.9584 70.174 31.5268 70.174 29.9722C70.174 28.9073 69.6929 27.9064 68.8825 27.213C66.079 24.8136 64.3515 21.1979 64.5269 17.1847C64.8065 10.7862 69.9963 5.58503 76.4041 5.28687C83.5727 4.95323 89.49 10.6584 89.49 17.7407C89.49 21.3635 87.9425 24.6219 85.4732 26.8983C84.7267 27.5846 84.2978 28.5453 84.2978 29.5581V29.9698C84.2978 31.4795 83.793 32.8732 82.9399 33.9901L82.9376 33.9949Z",fill:"#51FF53"}),(0,o.tZ)("path",{d:"M87.5463 66.0795V80.6607C87.5463 80.928 87.4586 81.186 87.2951 81.3966L87.2714 81.4297C86.9112 81.8935 86.269 82.0331 85.75 81.7563V64.0303L87.1079 65.1472C87.3875 65.3767 87.5487 65.7174 87.5487 66.0771L87.5463 66.0795Z",fill:"#293DCE"}),(0,o.tZ)("path",{d:"M85.7502 81.7565V97.076C85.7502 97.7007 85.5559 98.2757 85.2265 98.7537C84.6909 99.5251 83.7999 100.031 82.788 100.031C81.9704 100.031 81.231 99.7026 80.6955 99.1654C80.5675 99.0376 80.4537 98.9004 80.3518 98.7537C80.0225 98.2757 79.8281 97.6983 79.8281 97.076V62.2369C79.8281 60.9567 80.6433 59.8658 81.7832 59.4541V60.9614C81.7832 61.5483 82.2595 62.0239 82.8472 62.0239H83.0439C83.6316 62.0239 84.1079 61.5483 84.1079 60.9614V59.5913C85.0795 60.0764 85.7454 61.0798 85.7454 62.2369V81.7565H85.7502Z",fill:"#4F5FFF"}),(0,o.tZ)("path",{d:"M82.7877 100.034C83.7996 100.034 84.6906 99.5273 85.2262 98.7559C85.2262 98.7559 84.3707 100.85 83.2379 101.326C83.091 101.39 82.9417 101.423 82.7877 101.423C82.5791 101.423 82.3777 101.359 82.1834 101.25C81.7521 101.011 81.3682 100.55 81.0649 100.09C80.6217 99.4232 80.3516 98.7582 80.3516 98.7582C80.4535 98.9073 80.5672 99.0422 80.6952 99.17C81.2307 99.7071 81.9701 100.036 82.7877 100.036V100.034Z",fill:"#293DCE"}),(0,o.tZ)("path",{d:"M84.1128 59.591V60.9611C84.1128 61.5479 83.6365 62.0235 83.0488 62.0235H82.8521C82.2644 62.0235 81.7881 61.5479 81.7881 60.9611V56.3042C81.7881 55.7197 82.2644 55.2417 82.8521 55.2417H83.0488C83.6365 55.2417 84.1128 55.7197 84.1128 56.3042V59.591Z",fill:"#4F5FFF"}),(0,o.tZ)("path",{d:"M71.3983 35.8878C71.4647 35.8807 71.5381 35.8925 71.6045 35.9209L72.1685 36.1622L72.1756 36.1528C72.7775 36.6473 73.6922 37.0449 74.7942 37.291L83.1642 40.8878L83.368 40.9753C83.5978 41.0747 83.7021 41.3373 83.605 41.5645C83.5339 41.7325 83.368 41.8366 83.1926 41.8366H83.176C83.1215 41.8366 83.067 41.8201 83.0149 41.7988L71.4078 36.813L71.2537 36.7467C71.0239 36.6473 70.9196 36.3823 71.0168 36.1575C71.0855 35.9966 71.2371 35.8972 71.4007 35.8878H71.3983Z",fill:"#686868"}),(0,o.tZ)("path",{d:"M83.1719 37.6341L83.3497 37.7098C83.5772 37.8068 83.6814 38.0719 83.5843 38.2967C83.5132 38.467 83.3473 38.5688 83.1743 38.5688C83.1127 38.5688 83.0534 38.557 82.9966 38.5333L80.5225 37.4708C80.4088 37.4235 80.3258 37.3312 80.2832 37.2271L80.2666 37.1703C80.6339 37.0685 80.9752 36.9479 81.2832 36.813L81.288 36.8225L83.1719 37.6341Z",fill:"#686868"}),(0,o.tZ)("path",{d:"M83.1717 44.1513L83.3115 44.2128C83.5414 44.3122 83.6457 44.5772 83.5485 44.802C83.475 44.9724 83.3115 45.0741 83.1362 45.0741C83.084 45.0741 83.0272 45.0646 82.9774 45.0457C82.9703 45.0457 82.9655 45.041 82.9584 45.0386L71.4035 40.0741L71.2162 39.9937C70.9888 39.8966 70.8845 39.6316 70.9816 39.4068C71.0527 39.2341 71.221 39.1323 71.3964 39.1323C71.4532 39.1323 71.5125 39.1465 71.5693 39.1702L83.1717 44.1536V44.1513Z",fill:"#686868"}),(0,o.tZ)("path",{d:"M83.2377 101.323V101.96C83.2377 102.106 83.1785 102.239 83.0837 102.331C82.9889 102.428 82.8562 102.485 82.714 102.485C82.4225 102.485 82.1855 102.248 82.1855 101.957V101.245C82.3799 101.354 82.5813 101.418 82.7898 101.418C82.9415 101.418 83.0932 101.385 83.2401 101.321L83.2377 101.323Z",fill:"#4F5FFF"}),(0,o.tZ)("path",{d:"M83.1718 41.8366V44.1485L71.5695 39.165C71.5126 39.1414 71.4534 39.1272 71.3965 39.1272V36.8271L71.4036 36.8105L83.0107 41.7964C83.0652 41.8176 83.1197 41.8318 83.1718 41.8342V41.8366Z",fill:"#444444"}),(0,o.tZ)("path",{d:"M83.1719 38.5688V40.8641L83.1601 40.8878L74.79 37.291C75.5484 37.4567 76.3896 37.5513 77.2807 37.5513C78.3707 37.5513 79.3874 37.4117 80.2618 37.168L80.2784 37.2248C80.3211 37.3312 80.404 37.4212 80.5178 37.4685L82.9918 38.531C83.0487 38.5546 83.1079 38.5665 83.1695 38.5665L83.1719 38.5688Z",fill:"#444444"}),(0,o.tZ)("path",{d:"M83.1719 34.771V37.6342L81.2879 36.8226L81.2832 36.8131C82.4444 36.3067 83.1719 35.5803 83.1719 34.771Z",fill:"#444444"}),(0,o.tZ)("path",{d:"M82.9753 45.043L82.9563 45.095C82.6032 45.6937 81.8378 46.2096 80.8141 46.574C80.7785 46.4509 80.6885 46.3421 80.5605 46.29L71.6194 42.4471C71.5483 42.4187 71.4725 42.4069 71.4014 42.414V40.0808L71.4061 40.0737L82.9611 45.0382C82.9611 45.0382 82.9729 45.043 82.98 45.0453L82.9753 45.043Z",fill:"#444444"}),(0,o.tZ)("path",{d:"M82.9374 33.9946C83.0891 34.2407 83.1744 34.501 83.1744 34.7708C83.1744 35.5777 82.4468 36.3041 81.2857 36.8129C80.9752 36.9478 80.6363 37.0685 80.269 37.1702C79.3946 37.4139 78.378 37.5535 77.2879 37.5535C76.3968 37.5535 75.5532 37.4589 74.7972 37.2933C73.6953 37.0495 72.7829 36.6496 72.1786 36.1551C71.6834 35.7457 71.4014 35.2748 71.4014 34.7708C71.4014 34.5507 71.4559 34.3377 71.5578 34.1319L71.6075 34.094C71.7663 34.2975 71.9393 34.4916 72.1241 34.6761C73.328 35.8782 74.9939 36.6236 76.8305 36.6236H77.6386C79.8022 36.6236 81.7241 35.5919 82.9398 33.997L82.9374 33.9946Z",fill:"#686868"}),(0,o.tZ)("path",{d:"M80.8118 46.5741C80.8378 46.6711 80.8331 46.7776 80.7904 46.877C80.7193 47.0473 80.5534 47.1491 80.3781 47.1491C80.3188 47.1491 80.2596 47.1373 80.2004 47.1136L79.6292 46.8699L71.3991 43.3346L71.2592 43.2731C71.0317 43.1737 70.9275 42.911 71.0223 42.6839C71.0886 42.5277 71.2355 42.4307 71.3943 42.4141C71.4654 42.407 71.5412 42.4189 71.6123 42.4472L80.5535 46.2901C80.6814 46.3445 80.7715 46.451 80.807 46.5741H80.8118Z",fill:"#686868"}),(0,o.tZ)("path",{d:"M80.2001 47.1112L79.2025 47.769H75.1217C74.3113 47.769 73.1761 46.3918 73.1074 46.3066C74.1738 46.813 75.6502 47.1277 77.2829 47.1277C78.1124 47.1277 78.9015 47.0473 79.6148 46.9006L79.629 46.8675L80.2001 47.1112Z",fill:"#686868"}),(0,o.tZ)("path",{d:"M73.107 46.307C72.0478 45.8053 71.3984 45.1143 71.3984 44.3477V43.3325L79.631 46.8678L79.6168 46.9009C78.9035 47.0476 78.1144 47.1281 77.2849 47.1281C75.6522 47.1281 74.1758 46.8134 73.1094 46.307H73.107Z",fill:"#444444"}),(0,o.tZ)("path",{d:"M77.4017 71.1836V85.7671C77.4017 86.0345 77.3141 86.2924 77.1506 86.503L77.1269 86.5361C76.7666 86.9999 76.1244 87.1372 75.6055 86.8627V69.1367L76.9633 70.2512C77.243 70.4831 77.4041 70.8239 77.4041 71.1812L77.4017 71.1836Z",fill:"#DB588A"}),(0,o.tZ)("path",{d:"M75.6027 86.863V102.182C75.6027 102.807 75.4084 103.382 75.079 103.86C74.5434 104.632 73.6524 105.138 72.6405 105.138C71.8229 105.138 71.0836 104.809 70.548 104.272C70.42 104.144 70.3063 104.007 70.2044 103.86C69.875 103.382 69.6807 102.805 69.6807 102.182V67.3433C69.6807 66.0632 70.4959 64.9723 71.6357 64.5605V66.0679C71.6357 66.6547 72.112 67.1303 72.6997 67.1303H72.8964C73.4818 67.1303 73.9605 66.6547 73.9605 66.0679V64.6978C74.9321 65.1829 75.598 66.1862 75.598 67.3433V86.863H75.6027Z",fill:"#FF87B1"}),(0,o.tZ)("path",{d:"M72.0389 106.352C71.6076 106.113 71.2237 105.651 70.9203 105.192C70.4772 104.525 70.207 103.86 70.207 103.86C70.3089 104.009 70.4227 104.144 70.5506 104.272C71.0862 104.809 71.8256 105.138 72.6431 105.138C73.655 105.138 74.5461 104.631 75.0816 103.86C75.0816 103.86 74.2262 105.954 73.0934 106.43C72.9465 106.494 72.7972 106.527 72.6431 106.527C72.4346 106.527 72.2332 106.463 72.0389 106.354V106.352Z",fill:"#DB588A"}),(0,o.tZ)("path",{d:"M73.9654 64.6979V66.068C73.9654 66.6548 73.4867 67.1305 72.9013 67.1305H72.7046C72.1169 67.1305 71.6406 66.6548 71.6406 66.068V61.4111C71.6406 60.8243 72.1169 60.3486 72.7046 60.3486H72.9013C73.4867 60.3486 73.9654 60.8243 73.9654 61.4111V64.6979Z",fill:"#FF87B1"}),(0,o.tZ)("path",{d:"M73.0903 106.43V107.066C73.0903 107.213 73.031 107.345 72.9362 107.438C72.8414 107.535 72.7087 107.592 72.5665 107.592C72.2751 107.592 72.0381 107.355 72.0381 107.064V106.352C72.2324 106.46 72.4338 106.524 72.6424 106.524C72.794 106.524 72.9457 106.491 73.0926 106.427L73.0903 106.43Z",fill:"#FF87B1"}),(0,o.tZ)("path",{d:"M67.5245 45.5564V79.1674C67.5245 79.8631 67.1382 80.502 66.5197 80.8286L63.958 82.1774C63.6333 82.3501 63.2684 82.4187 62.9106 82.3856V47.5347C62.9106 46.7798 62.5053 46.0865 61.8513 45.7126L43.9975 35.5588L43.9619 35.5304C44.1017 35.36 44.2747 35.211 44.4714 35.0997L46.4502 33.9639C47.0189 33.6397 47.7133 33.6326 48.2891 33.9426L66.5434 43.9071C67.1477 44.2337 67.5221 44.8678 67.5221 45.5541L67.5245 45.5564Z",fill:"#293DCE"}),(0,o.tZ)("path",{d:"M53.6302 93.3086L56.2843 91.8936L66.8298 97.3455L57.7085 100.003L23.4891 109.974L21.0459 110.684L53.6302 93.3086Z",fill:"white"}),(0,o.tZ)("path",{d:"M62.913 82.3788V82.3859C62.6429 82.3623 62.3751 82.2771 62.1333 82.1375L44.4596 71.7991C43.8838 71.4631 43.5283 70.8455 43.5283 70.1782V36.7281C43.5283 36.2832 43.6847 35.862 43.962 35.5308L43.9975 35.5592L61.8513 45.713C62.5054 46.0845 62.9106 46.7802 62.9106 47.535V82.3788H62.913ZM60.6475 52.8829V49.3949C60.6475 49.1062 60.4958 48.8365 60.2423 48.6898L47.1256 41.0466C46.5806 40.7272 45.8957 41.12 45.8957 41.7518V45.2397C45.8957 45.5284 46.0474 45.7982 46.3009 45.9449L59.4176 53.588C59.9626 53.9075 60.6475 53.5147 60.6475 52.8829ZM59.811 76.2052V74.7026C59.811 74.5535 59.7351 74.4162 59.6095 74.3358L57.946 73.2899C57.6569 73.11 57.2801 73.3159 57.2801 73.6567V75.1593C57.2801 75.3083 57.3559 75.4456 57.4815 75.526L59.1451 76.5719C59.4342 76.7518 59.811 76.5459 59.811 76.2052ZM59.811 72.1824V70.6798C59.811 70.5284 59.7351 70.3935 59.6095 70.3131L57.946 69.2695C57.6569 69.0873 57.2801 69.2932 57.2801 69.6363V71.1389C57.2801 71.2903 57.3559 71.4252 57.4815 71.5057L59.1451 72.5492C59.4342 72.7314 59.811 72.5232 59.811 72.1824ZM59.811 68.1574V66.6548C59.811 66.5057 59.7351 66.3684 59.6095 66.288L57.946 65.2421C57.6569 65.0599 57.2801 65.2681 57.2801 65.6088V67.1115C57.2801 67.2605 57.3559 67.3978 57.4815 67.4782L59.1451 68.5218C59.4342 68.704 59.811 68.4981 59.811 68.155V68.1574ZM59.811 64.1323V62.632C59.811 62.4806 59.7351 62.3457 59.6095 62.2653L57.946 61.2217C57.6569 61.0395 57.2801 61.2454 57.2801 61.5885V63.0911C57.2801 63.2402 57.3559 63.3774 57.4815 63.4579L59.1451 64.5014C59.4342 64.6836 59.811 64.4754 59.811 64.1346V64.1323ZM59.811 60.1096V58.607C59.811 58.4579 59.7351 58.3206 59.6095 58.2402L57.946 57.1943C57.6569 57.0121 57.2801 57.2203 57.2801 57.5611V59.0637C57.2801 59.2127 57.3559 59.35 57.4815 59.4304L59.1451 60.474C59.4342 60.6562 59.811 60.4503 59.811 60.1072V60.1096ZM56.2208 74.1985V72.6959C56.2208 72.5445 56.145 72.4096 56.017 72.3292L54.3558 71.2856C54.0667 71.1034 53.6899 71.3093 53.6899 71.6524V73.155C53.6899 73.3064 53.7657 73.4413 53.8913 73.5218L55.5549 74.5653C55.8416 74.7475 56.2208 74.5416 56.2208 74.1985ZM56.2208 70.1735V68.6708C56.2208 68.5218 56.145 68.3845 56.017 68.3041L54.3558 67.2582C54.0667 67.0783 53.6899 67.2842 53.6899 67.6249V69.1275C53.6899 69.2766 53.7657 69.4139 53.8913 69.4943L55.5549 70.5402C55.8416 70.7201 56.2208 70.5142 56.2208 70.1735ZM56.2208 66.1507V64.6481C56.2208 64.4967 56.145 64.3618 56.017 64.2814L54.3558 63.2378C54.0667 63.0556 53.6899 63.2615 53.6899 63.6046V65.1072C53.6899 65.2586 53.7657 65.3935 53.8913 65.474L55.5549 66.5175C55.8416 66.6997 56.2208 66.4915 56.2208 66.1507ZM56.2208 62.1257V60.623C56.2208 60.474 56.145 60.3367 56.017 60.2563L54.3558 59.2104C54.0667 59.0282 53.6899 59.2364 53.6899 59.5771V61.0797C53.6899 61.2288 53.7657 61.3661 53.8913 61.4465L55.5549 62.4901C55.8416 62.6723 56.2208 62.4664 56.2208 62.1233V62.1257ZM56.2208 58.1006V56.6003C56.2208 56.4489 56.145 56.314 56.017 56.2336L54.3558 55.19C54.0667 55.0078 53.6899 55.2137 53.6899 55.5568V57.0594C53.6899 57.2085 53.7657 57.3457 53.8913 57.4262L55.5549 58.4697C55.8416 58.6519 56.2208 58.4437 56.2208 58.1029V58.1006ZM52.6282 72.1895V70.6869C52.6282 70.5379 52.5524 70.4006 52.4268 70.3202L50.7632 69.2743C50.4765 69.0944 50.0973 69.3003 50.0973 69.641V71.1436C50.0973 71.2927 50.1731 71.43 50.3011 71.5104L51.9647 72.5563C52.2514 72.7362 52.6282 72.5303 52.6282 72.1895ZM52.6282 68.1668V66.6642C52.6282 66.5128 52.5524 66.3779 52.4268 66.2974L50.7632 65.2539C50.4765 65.0717 50.0973 65.2776 50.0973 65.6207V67.1233C50.0973 67.2747 50.1731 67.4096 50.3011 67.4901L51.9647 68.5336C52.2514 68.7158 52.6282 68.5099 52.6282 68.1668ZM52.6282 64.1417V62.6391C52.6282 62.4901 52.5524 62.3528 52.4268 62.2724L50.7632 61.2265C50.4765 61.0443 50.0973 61.2525 50.0973 61.5932V63.0958C50.0973 63.2449 50.1731 63.3822 50.3011 63.4626L51.9647 64.5085C52.2514 64.6884 52.6282 64.4825 52.6282 64.1417ZM52.6282 60.119V58.6164C52.6282 58.465 52.5524 58.3301 52.4268 58.2496L50.7632 57.2061C50.4765 57.0239 50.0973 57.2298 50.0973 57.5729V59.0755C50.0973 59.2269 50.1731 59.3618 50.3011 59.4423L51.9647 60.4858C52.2514 60.668 52.6282 60.4598 52.6282 60.119ZM52.6282 56.0939V54.5913C52.6282 54.4423 52.5524 54.305 52.4268 54.2246L50.7632 53.1787C50.4765 52.9965 50.0973 53.2047 50.0973 53.5454V55.048C50.0973 55.1971 50.1731 55.3344 50.3011 55.4148L51.9647 56.4584C52.2514 56.6406 52.6282 56.4347 52.6282 56.0916V56.0939ZM49.038 70.1829V68.6803C49.038 68.5289 48.9622 68.394 48.8366 68.3135L47.173 67.27C46.8839 67.0878 46.5071 67.296 46.5071 67.6368V69.1394C46.5071 69.2908 46.583 69.4257 46.7085 69.5062L48.3721 70.5497C48.6612 70.7319 49.038 70.526 49.038 70.1829ZM49.038 66.1578V64.6552C49.038 64.5062 48.9622 64.3689 48.8366 64.2885L47.173 63.2425C46.8839 63.0627 46.5071 63.2686 46.5071 63.6093V65.1119C46.5071 65.261 46.583 65.3983 46.7085 65.4787L48.3721 66.5246C48.6612 66.7044 49.038 66.4986 49.038 66.1578ZM49.038 62.1351V60.6325C49.038 60.4811 48.9622 60.3462 48.8366 60.2657L47.173 59.2222C46.8839 59.04 46.5071 59.2459 46.5071 59.589V61.0916C46.5071 61.243 46.583 61.3779 46.7085 61.4584L48.3721 62.5019C48.6612 62.6841 49.038 62.4759 49.038 62.1351ZM49.038 58.11V56.6074C49.038 56.4584 48.9622 56.3211 48.8366 56.2407L47.173 55.1947C46.8839 55.0125 46.5071 55.2208 46.5071 55.5615V57.0641C46.5071 57.2132 46.583 57.3505 46.7085 57.4309L48.3721 58.4744C48.6612 58.6567 49.038 58.4508 49.038 58.1077V58.11ZM49.038 54.0873V52.5847C49.038 52.4333 48.9622 52.2984 48.8366 52.2179L47.173 51.1744C46.8839 50.9922 46.5071 51.1981 46.5071 51.5412V53.0438C46.5071 53.1929 46.583 53.3301 46.7085 53.4106L48.3721 54.4541C48.6612 54.6363 49.038 54.4281 49.038 54.0873Z",fill:"#4F5FFF"}),(0,o.tZ)("path",{d:"M60.6473 49.3926V52.8806C60.6473 53.51 59.9648 53.9028 59.4174 53.5857L46.3007 45.9426C46.0495 45.7959 45.8955 45.5285 45.8955 45.2374V41.7495C45.8955 41.12 46.578 40.7272 47.1254 41.0443L60.2421 48.6875C60.4933 48.8342 60.6473 49.1016 60.6473 49.3926Z",fill:"#51FF53"}),(0,o.tZ)("path",{d:"M59.8102 74.7023V76.2049C59.8102 76.5457 59.4358 76.7515 59.1443 76.5717L57.4807 75.5258C57.3551 75.4477 57.2793 75.3081 57.2793 75.159V73.6564C57.2793 73.3157 57.6537 73.1098 57.9452 73.2896L59.6088 74.3355C59.7344 74.4136 59.8102 74.5532 59.8102 74.7023Z",fill:"#29A3FF"}),(0,o.tZ)("path",{d:"M59.8102 70.6794V72.182C59.8102 72.5204 59.4358 72.7287 59.1443 72.5488L57.4807 71.5053C57.3551 71.4248 57.2793 71.2876 57.2793 71.1385V69.6359C57.2793 69.2952 57.6537 69.0893 57.9452 69.2691L59.6088 70.3127C59.7344 70.3931 59.8102 70.5304 59.8102 70.6794Z",fill:"#29A3FF"}),(0,o.tZ)("path",{d:"M59.8102 66.6546V68.1572C59.8102 68.4979 59.4358 68.7038 59.1443 68.524L57.4807 67.4804C57.3551 67.4023 57.2793 67.2627 57.2793 67.1136V65.611C57.2793 65.2703 57.6537 65.0621 57.9452 65.2443L59.6088 66.2902C59.7344 66.3683 59.8102 66.5079 59.8102 66.6569V66.6546Z",fill:"#29A3FF"}),(0,o.tZ)("path",{d:"M59.8102 62.632V64.1322C59.8102 64.473 59.4358 64.6812 59.1443 64.499L57.4807 63.4555C57.3551 63.375 57.2793 63.2354 57.2793 63.0887V61.5861C57.2793 61.2454 57.6537 61.0395 57.9452 61.2193L59.6088 62.2629C59.7344 62.3433 59.8102 62.4806 59.8102 62.6296V62.632Z",fill:"#29A3FF"}),(0,o.tZ)("path",{d:"M59.8102 58.6067V60.1093C59.8102 60.4501 59.4358 60.6559 59.1443 60.4761L57.4807 59.4326C57.3551 59.3545 57.2793 59.2149 57.2793 59.0658V57.5632C57.2793 57.2224 57.6537 57.0142 57.9452 57.1964L59.6088 58.2423C59.7344 58.3204 59.8102 58.46 59.8102 58.6091V58.6067Z",fill:"#29A3FF"}),(0,o.tZ)("path",{d:"M57.7087 100.003L53.6374 103.455L23.5272 110.105L23.4893 109.975L57.7087 100.003Z",fill:"#BFBFBF"}),(0,o.tZ)("path",{d:"M56.2204 72.6956V74.1982C56.2204 74.5389 55.8436 74.7448 55.5545 74.5649L53.8909 73.5214C53.7653 73.4409 53.6895 73.3037 53.6895 73.1546V71.652C53.6895 71.3113 54.0639 71.1054 54.3554 71.2852L56.0166 72.3288C56.1445 72.4092 56.2204 72.5465 56.2204 72.6956Z",fill:"#29A3FF"}),(0,o.tZ)("path",{d:"M56.2204 68.6706V70.1732C56.2204 70.5139 55.8436 70.7198 55.5545 70.54L53.8909 69.4941C53.7653 69.416 53.6895 69.2764 53.6895 69.1273V67.6247C53.6895 67.2839 54.0639 67.0781 54.3554 67.2579L56.0166 68.3038C56.1445 68.3819 56.2204 68.5215 56.2204 68.6706Z",fill:"#29A3FF"}),(0,o.tZ)("path",{d:"M56.2204 64.6477V66.1503C56.2204 66.4887 55.8436 66.6969 55.5545 66.5171L53.8909 65.4735C53.7653 65.3931 53.6895 65.2558 53.6895 65.1068V63.6042C53.6895 63.2634 54.0639 63.0576 54.3554 63.2374L56.0166 64.2809C56.1445 64.3614 56.2204 64.4986 56.2204 64.6477Z",fill:"#29A3FF"}),(0,o.tZ)("path",{d:"M56.2204 60.6228V62.1254C56.2204 62.4662 55.8436 62.6721 55.5545 62.4922L53.8909 61.4487C53.7653 61.3706 53.6895 61.231 53.6895 61.0819V59.5793C53.6895 59.2385 54.0639 59.0303 54.3554 59.2125L56.0166 60.2584C56.1445 60.3365 56.2204 60.4761 56.2204 60.6252V60.6228Z",fill:"#29A3FF"}),(0,o.tZ)("path",{d:"M56.2204 56.6027V58.1029C56.2204 58.4437 55.8436 58.6519 55.5545 58.4697L53.8909 57.4262C53.7653 57.3457 53.6895 57.2061 53.6895 57.0594V55.5568C53.6895 55.2161 54.0639 55.0102 54.3554 55.19L56.0166 56.2336C56.1445 56.314 56.2204 56.4513 56.2204 56.6003V56.6027Z",fill:"#29A3FF"}),(0,o.tZ)("path",{d:"M52.0638 89.416L53.6302 93.3086L21.0459 110.684L52.0638 89.416Z",fill:"#BFBFBF"}),(0,o.tZ)("path",{d:"M52.6276 70.6891V72.1917C52.6276 72.5325 52.2532 72.7384 51.9641 72.5585L50.3005 71.5126C50.1725 71.4345 50.0967 71.2949 50.0967 71.1458V69.6432C50.0967 69.3025 50.4735 69.0966 50.7626 69.2765L52.4262 70.3224C52.5518 70.4005 52.6276 70.5401 52.6276 70.6891Z",fill:"#29A3FF"}),(0,o.tZ)("path",{d:"M52.6276 66.6663V68.1689C52.6276 68.5096 52.2532 68.7155 51.9641 68.5356L50.3005 67.4921C50.1725 67.4116 50.0967 67.2744 50.0967 67.1253V65.6227C50.0967 65.282 50.4735 65.0761 50.7626 65.2559L52.4262 66.2995C52.5518 66.3799 52.6276 66.5172 52.6276 66.6663Z",fill:"#29A3FF"}),(0,o.tZ)("path",{d:"M52.6276 62.6413V64.1439C52.6276 64.4847 52.2532 64.6905 51.9641 64.5107L50.3005 63.4648C50.1725 63.3867 50.0967 63.2471 50.0967 63.098V61.5954C50.0967 61.2547 50.4735 61.0464 50.7626 61.2286L52.4262 62.2745C52.5518 62.3526 52.6276 62.4922 52.6276 62.6413Z",fill:"#29A3FF"}),(0,o.tZ)("path",{d:"M52.6276 58.6184V60.121C52.6276 60.4594 52.2532 60.6676 51.9641 60.4878L50.3005 59.4443C50.1725 59.3638 50.0967 59.2266 50.0967 59.0775V57.5749C50.0967 57.2341 50.4735 57.0283 50.7626 57.2081L52.4262 58.2516C52.5518 58.3321 52.6276 58.4693 52.6276 58.6184Z",fill:"#29A3FF"}),(0,o.tZ)("path",{d:"M52.6276 54.5935V56.0961C52.6276 56.4369 52.2532 56.6428 51.9641 56.4629L50.3005 55.4194C50.1725 55.3413 50.0967 55.2017 50.0967 55.0526V53.55C50.0967 53.2093 50.4735 53.001 50.7626 53.1832L52.4262 54.2291C52.5518 54.3072 52.6276 54.4468 52.6276 54.5959V54.5935Z",fill:"#29A3FF"}),(0,o.tZ)("path",{d:"M52.0638 89.4161L21.0459 110.684L44.125 85.2041L52.0638 89.4161Z",fill:"white"}),(0,o.tZ)("path",{d:"M49.0377 68.6825V70.1851C49.0377 70.5259 48.6633 70.7317 48.3718 70.5519L46.7083 69.5084C46.5827 69.4279 46.5068 69.2907 46.5068 69.1416V67.639C46.5068 67.3006 46.8813 67.0924 47.1727 67.2722L48.8363 68.3157C48.9619 68.3962 49.0377 68.5335 49.0377 68.6825Z",fill:"#29A3FF"}),(0,o.tZ)("path",{d:"M49.0377 64.6574V66.16C49.0377 66.5008 48.6633 66.7066 48.3718 66.5268L46.7083 65.4809C46.5827 65.4028 46.5068 65.2632 46.5068 65.1141V63.6115C46.5068 63.2707 46.8813 63.0649 47.1727 63.2447L48.8363 64.2906C48.9619 64.3687 49.0377 64.5083 49.0377 64.6574Z",fill:"#FF87B1"}),(0,o.tZ)("path",{d:"M49.0377 60.6345V62.1371C49.0377 62.4755 48.6633 62.6837 48.3718 62.5039L46.7083 61.4604C46.5827 61.3799 46.5068 61.2427 46.5068 61.0936V59.591C46.5068 59.2502 46.8813 59.0444 47.1727 59.2242L48.8363 60.2678C48.9619 60.3482 49.0377 60.4855 49.0377 60.6345Z",fill:"#FF87B1"}),(0,o.tZ)("path",{d:"M49.0377 56.6096V58.1123C49.0377 58.453 48.6633 58.6589 48.3718 58.479L46.7083 57.4355C46.5827 57.3574 46.5068 57.2178 46.5068 57.0687V55.5661C46.5068 55.2254 46.8813 55.0171 47.1727 55.1993L48.8363 56.2452C48.9619 56.3233 49.0377 56.4629 49.0377 56.612V56.6096Z",fill:"#FF87B1"}),(0,o.tZ)("path",{d:"M49.0377 52.5872V54.0898C49.0377 54.4281 48.6633 54.6364 48.3718 54.4565L46.7083 53.413C46.5827 53.3325 46.5068 53.1929 46.5068 53.0462V51.5436C46.5068 51.2029 46.8813 50.997 47.1727 51.1768L48.8363 52.2204C48.9619 52.3008 49.0377 52.4381 49.0377 52.5872Z",fill:"#FF87B1"}),(0,o.tZ)("path",{d:"M37.9803 45.8285V87.6364L6.80371 105.971V64.1627L37.9803 45.8262V45.8285ZM30.6388 70.9563V66.5668C30.6388 65.573 29.5606 64.9506 28.698 65.4499L23.6717 68.3534V75.7883L30.0013 72.0708C30.3971 71.8366 30.6388 71.4154 30.6388 70.9587V70.9563ZM23.7689 82.4329V75.7717L17.4179 79.4395C17.0387 79.6596 16.8017 80.0666 16.8017 80.502V85.0737C16.8017 86.0249 17.8373 86.6165 18.6596 86.1338L23.1598 83.4883C23.5366 83.2682 23.7689 82.8636 23.7689 82.4305V82.4329ZM23.6053 68.351V63.1191C23.6053 62.1726 22.5769 61.581 21.7569 62.0567L17.2544 64.6548C16.8752 64.8773 16.6382 65.2819 16.6382 65.7197V70.2914C16.6382 71.2426 17.6738 71.8342 18.4961 71.3515L23.6053 68.3487V68.351Z",fill:"#293DCE"}),(0,o.tZ)("path",{d:"M35.8379 46.1033L37.1531 45.3342L37.9802 45.8288L6.80354 64.1653L0.111328 60.171L31.2856 41.8345L32.0581 42.2959L1.70381 60.0692L3.25364 60.985H3.25601L6.78459 63.0649L35.8379 46.1033Z",fill:"#4F5FFF"}),(0,o.tZ)("path",{d:"M35.8378 46.103L6.78444 63.0647L3.25586 60.9847L32.058 43.9946L35.8378 46.103Z",fill:"white"}),(0,o.tZ)("path",{d:"M32.0584 42.2959V43.9949L3.2563 60.985H3.25393L1.7041 60.0692L32.0584 42.2959Z",fill:"#293DCE"}),(0,o.tZ)("path",{d:"M30.6361 66.5648V70.9543C30.6361 71.411 30.3943 71.8346 29.9986 72.0665L23.6689 75.784V68.349L28.6952 65.4456C29.5578 64.9487 30.6361 65.5686 30.6361 66.5625V66.5648Z",fill:"#51FF53"}),(0,o.tZ)("path",{d:"M23.7669 75.772V82.4331C23.7669 82.8685 23.5347 83.2732 23.1579 83.4909L18.6577 86.1364C17.8354 86.6191 16.7998 86.0275 16.7998 85.0763V80.5046C16.7998 80.0668 17.0368 79.6622 17.4159 79.4421L23.7669 75.7743V75.772Z",fill:"#51FF53"}),(0,o.tZ)("path",{d:"M23.6029 63.1196V68.3515L18.4936 71.3543C17.6713 71.8371 16.6357 71.2455 16.6357 70.2942V65.7225C16.6357 65.2824 16.8727 64.8801 17.2519 64.6577L21.7544 62.0595C22.5744 61.5839 23.6029 62.1755 23.6029 63.122V63.1196Z",fill:"#51FF53"}),(0,o.tZ)("path",{d:"M6.80354 64.1652V105.971L0.111328 101.979V60.1709L6.80354 64.1652Z",fill:"#4F5FFF"}),(0,o.tZ)("path",{d:"M82.1836 101.245V101.957C82.1836 102.248 82.4206 102.485 82.7121 102.485C82.8566 102.485 82.9893 102.426 83.0817 102.331C83.1789 102.237 83.2358 102.104 83.2358 101.96V101.323",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M85.75 64.0327L87.1079 65.1496C87.3875 65.3791 87.5487 65.7199 87.5487 66.0796V80.6607C87.5487 80.9281 87.461 81.1861 87.2975 81.3967L87.2738 81.4298C86.9136 81.8936 86.2713 82.0332 85.7524 81.7563",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M84.1128 59.591V60.9611C84.1128 61.5479 83.6365 62.0235 83.0488 62.0235H82.8521C82.2644 62.0235 81.7881 61.5479 81.7881 60.9611V56.3042C81.7881 55.7197 82.2644 55.2417 82.8521 55.2417H83.0488C83.6365 55.2417 84.1128 55.7197 84.1128 56.3042V59.591V59.591Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M85.2262 98.7534C85.2262 98.7534 84.3707 100.848 83.2379 101.323C83.091 101.387 82.9417 101.42 82.7877 101.42C82.5791 101.42 82.3777 101.356 82.1834 101.248C81.7521 101.009 81.3682 100.547 81.0649 100.088C80.6217 99.4207 80.3516 98.7558 80.3516 98.7558",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M84.1127 59.5913C85.0843 60.0764 85.7502 61.0798 85.7502 62.2369V97.076C85.7502 97.7007 85.5559 98.2757 85.2265 98.7537C84.6909 99.5251 83.7999 100.031 82.788 100.031C81.9704 100.031 81.231 99.7026 80.6955 99.1654C80.5675 99.0376 80.4537 98.9004 80.3518 98.7537C80.0225 98.2757 79.8281 97.6983 79.8281 97.076V62.2369C79.8281 60.9567 80.6433 59.8658 81.7832 59.4541",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M72.0381 106.349V107.064C72.0381 107.355 72.2751 107.591 72.5665 107.591C72.7111 107.591 72.8438 107.532 72.9362 107.438C73.0334 107.343 73.0903 107.21 73.0903 107.066V106.43",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M75.6025 69.1367L76.9604 70.2512C77.24 70.4831 77.4012 70.8239 77.4012 71.1812V85.7647C77.4012 86.0321 77.3135 86.2901 77.15 86.5007L77.1263 86.5338C76.7661 86.9976 76.1239 87.1348 75.6049 86.8603",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M73.9654 64.6979V66.068C73.9654 66.6548 73.4867 67.1305 72.9013 67.1305H72.7046C72.1169 67.1305 71.6406 66.6548 71.6406 66.068V61.4111C71.6406 60.8243 72.1169 60.3486 72.7046 60.3486H72.9013C73.4867 60.3486 73.9654 60.8243 73.9654 61.4111V64.6979Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M75.0787 103.86C75.0787 103.86 74.2232 105.954 73.0905 106.43C72.9435 106.494 72.7943 106.527 72.6402 106.527C72.4317 106.527 72.2303 106.463 72.0359 106.354C71.6046 106.115 71.2207 105.654 70.9174 105.194C70.4743 104.527 70.2041 103.862 70.2041 103.862",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M73.9652 64.6978C74.9368 65.1829 75.6027 66.1862 75.6027 67.3433V102.182C75.6027 102.807 75.4084 103.382 75.079 103.86C74.5434 104.632 73.6524 105.138 72.6405 105.138C71.8229 105.138 71.0836 104.809 70.548 104.272C70.42 104.144 70.3063 104.007 70.2044 103.86C69.875 103.382 69.6807 102.805 69.6807 102.182V67.3433C69.6807 66.0632 70.4959 64.9723 71.6357 64.5605",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M53.2412 135.389V122.189L88.0697 102.005L96.4136 97.1704V110.37L53.2412 135.389Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M96.4138 97.1706L95.1294 96.437L51.957 121.456V134.655L53.2414 135.389",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M54.7725 121.312V125.01",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M58.9365 118.959V122.656",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M63.0947 116.503V120.201",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M67.2588 114.13V117.828",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M71.4199 111.697V115.393",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M75.584 109.302V112.998",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M79.7451 106.908V110.606",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M83.9062 104.473V108.171",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M88.0703 101.998V102.005V105.696",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M92.2314 99.603V103.302",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M62.912 82.3856C62.6419 82.3619 62.3741 82.2767 62.1324 82.1371L44.4587 71.7987C43.8828 71.4627 43.5273 70.8451 43.5273 70.1778V36.7278C43.5273 36.2829 43.6837 35.8617 43.961 35.5304C44.1008 35.36 44.2738 35.211 44.4705 35.0997L46.4493 33.9639C47.018 33.6397 47.7124 33.6326 48.2882 33.9426L66.5425 43.9071C67.1468 44.2337 67.5212 44.8678 67.5212 45.5541V79.165C67.5212 79.8607 67.1349 80.4996 66.5164 80.8262L63.9547 82.175C63.6301 82.3477 63.2651 82.4163 62.9073 82.3832L62.912 82.3856Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M43.999 35.5591L61.8528 45.7129C62.5069 46.0844 62.9121 46.7801 62.9121 47.5349V82.3788",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M60.6473 52.8829V49.3949C60.6473 49.1062 60.4956 48.8365 60.2421 48.6898L47.1254 41.0466C46.5804 40.7272 45.8955 41.12 45.8955 41.7518V45.2397C45.8955 45.5284 46.0472 45.7981 46.3007 45.9449L59.4174 53.588C59.9624 53.9075 60.6473 53.5147 60.6473 52.8829V52.8829Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M46.5088 53.0462V51.5436C46.5088 51.2029 46.8832 50.997 47.1747 51.1768L48.8383 52.2204C48.9639 52.3008 49.0397 52.4381 49.0397 52.5872V54.0898C49.0397 54.4281 48.6653 54.6364 48.3738 54.4565L46.7102 53.413C46.5846 53.3325 46.5088 53.1929 46.5088 53.0462Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M50.0996 55.0526V53.55C50.0996 53.2093 50.4764 53.001 50.7655 53.1832L52.4291 54.2291C52.5547 54.3072 52.6305 54.4468 52.6305 54.5959V56.0985C52.6305 56.4393 52.2561 56.6451 51.967 56.4653L50.3034 55.4217C50.1754 55.3437 50.0996 55.204 50.0996 55.055V55.0526Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M53.6914 57.0594V55.5568C53.6914 55.2161 54.0658 55.0102 54.3573 55.19L56.0185 56.2336C56.1465 56.314 56.2223 56.4513 56.2223 56.6003V58.1006C56.2223 58.4413 55.8455 58.6496 55.5564 58.4674L53.8928 57.4238C53.7672 57.3434 53.6914 57.2038 53.6914 57.057V57.0594Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M57.2822 59.0682V57.5656C57.2822 57.2249 57.6566 57.0166 57.9481 57.1988L59.6117 58.2448C59.7373 58.3228 59.8131 58.4625 59.8131 58.6115V60.1141C59.8131 60.4549 59.4387 60.6607 59.1472 60.4809L57.4837 59.4374C57.3581 59.3593 57.2822 59.2197 57.2822 59.0706V59.0682Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M46.5088 57.0712V55.5686C46.5088 55.2278 46.8832 55.0196 47.1747 55.2018L48.8383 56.2477C48.9639 56.3258 49.0397 56.4654 49.0397 56.6145V58.1171C49.0397 58.4578 48.6653 58.6637 48.3738 58.4838L46.7102 57.4403C46.5846 57.3622 46.5088 57.2226 46.5088 57.0735V57.0712Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M50.0996 59.0755V57.5729C50.0996 57.2322 50.4764 57.0263 50.7655 57.2061L52.4291 58.2497C52.5547 58.3301 52.6305 58.4674 52.6305 58.6165V60.1191C52.6305 60.4574 52.2561 60.6657 51.967 60.4858L50.3034 59.4423C50.1754 59.3618 50.0996 59.2246 50.0996 59.0755V59.0755Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M53.6914 61.0843V59.5817C53.6914 59.241 54.0658 59.0328 54.3573 59.215L56.0185 60.2609C56.1465 60.339 56.2223 60.4786 56.2223 60.6276V62.1302C56.2223 62.471 55.8455 62.6769 55.5564 62.497L53.8928 61.4535C53.7672 61.3754 53.6914 61.2358 53.6914 61.0867V61.0843Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M57.2822 63.0887V61.5861C57.2822 61.2454 57.6566 61.0395 57.9481 61.2193L59.6117 62.2629C59.7373 62.3433 59.8131 62.4806 59.8131 62.6296V64.1299C59.8131 64.4706 59.4387 64.6789 59.1472 64.4967L57.4837 63.4531C57.3581 63.3727 57.2822 63.233 57.2822 63.0863V63.0887Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M46.5088 61.0936V59.591C46.5088 59.2502 46.8832 59.0444 47.1747 59.2242L48.8383 60.2678C48.9639 60.3482 49.0397 60.4855 49.0397 60.6345V62.1371C49.0397 62.4755 48.6653 62.6837 48.3738 62.5039L46.7102 61.4604C46.5846 61.3799 46.5088 61.2427 46.5088 61.0936Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M50.0996 63.1005V61.5979C50.0996 61.2571 50.4764 61.0489 50.7655 61.2311L52.4291 62.277C52.5547 62.3551 52.6305 62.4947 52.6305 62.6438V64.1464C52.6305 64.4871 52.2561 64.693 51.967 64.5131L50.3034 63.4672C50.1754 63.3891 50.0996 63.2495 50.0996 63.1005V63.1005Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M53.6914 65.1068V63.6042C53.6914 63.2634 54.0658 63.0576 54.3573 63.2374L56.0185 64.2809C56.1465 64.3614 56.2223 64.4986 56.2223 64.6477V66.1503C56.2223 66.4887 55.8455 66.6969 55.5564 66.5171L53.8928 65.4735C53.7672 65.3931 53.6914 65.2558 53.6914 65.1068Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M57.2822 67.1136V65.611C57.2822 65.2703 57.6566 65.0621 57.9481 65.2443L59.6117 66.2902C59.7373 66.3683 59.8131 66.5079 59.8131 66.6569V68.1595C59.8131 68.5003 59.4387 68.7062 59.1472 68.5263L57.4837 67.4828C57.3581 67.4047 57.2822 67.2651 57.2822 67.116V67.1136Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M46.5088 65.119V63.6164C46.5088 63.2756 46.8832 63.0698 47.1747 63.2496L48.8383 64.2955C48.9639 64.3736 49.0397 64.5132 49.0397 64.6623V66.1649C49.0397 66.5056 48.6653 66.7115 48.3738 66.5317L46.7102 65.4858C46.5846 65.4077 46.5088 65.2681 46.5088 65.119Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M50.0996 67.1229V65.6203C50.0996 65.2795 50.4764 65.0737 50.7655 65.2535L52.4291 66.297C52.5547 66.3775 52.6305 66.5147 52.6305 66.6638V68.1664C52.6305 68.5072 52.2561 68.713 51.967 68.5332L50.3034 67.4897C50.1754 67.4092 50.0996 67.272 50.0996 67.1229V67.1229Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M53.6914 69.1322V67.6296C53.6914 67.2888 54.0658 67.0829 54.3573 67.2628L56.0185 68.3087C56.1465 68.3868 56.2223 68.5264 56.2223 68.6755V70.1781C56.2223 70.5188 55.8455 70.7247 55.5564 70.5448L53.8928 69.4989C53.7672 69.4208 53.6914 69.2812 53.6914 69.1322Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M57.2822 71.1361V69.6335C57.2822 69.2927 57.6566 69.0869 57.9481 69.2667L59.6117 70.3102C59.7373 70.3907 59.8131 70.5279 59.8131 70.677V72.1796C59.8131 72.518 59.4387 72.7262 59.1472 72.5464L57.4837 71.5028C57.3581 71.4224 57.2822 71.2852 57.2822 71.1361Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M46.5088 69.1391V67.6365C46.5088 67.2982 46.8832 67.0899 47.1747 67.2698L48.8383 68.3133C48.9639 68.3938 49.0397 68.531 49.0397 68.6801V70.1827C49.0397 70.5234 48.6653 70.7293 48.3738 70.5495L46.7102 69.5059C46.5846 69.4255 46.5088 69.2882 46.5088 69.1391Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M50.0996 71.1483V69.6457C50.0996 69.3049 50.4764 69.0991 50.7655 69.2789L52.4291 70.3248C52.5547 70.4029 52.6305 70.5425 52.6305 70.6916V72.1942C52.6305 72.5349 52.2561 72.7408 51.967 72.561L50.3034 71.5151C50.1754 71.437 50.0996 71.2974 50.0996 71.1483V71.1483Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M53.6914 73.1546V71.652C53.6914 71.3113 54.0658 71.1054 54.3573 71.2852L56.0185 72.3288C56.1465 72.4092 56.2223 72.5465 56.2223 72.6956V74.1982C56.2223 74.5389 55.8455 74.7448 55.5564 74.5649L53.8928 73.5214C53.7672 73.4409 53.6914 73.3037 53.6914 73.1546Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M57.2822 75.1615V73.6589C57.2822 73.3181 57.6566 73.1122 57.9481 73.2921L59.6117 74.338C59.7373 74.4161 59.8131 74.5557 59.8131 74.7048V76.2074C59.8131 76.5481 59.4387 76.754 59.1472 76.5741L57.4837 75.5282C57.3581 75.4502 57.2822 75.3105 57.2822 75.1615Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M82.9089 33.9453C82.9208 33.9619 82.9303 33.9784 82.9374 33.995C83.0891 34.2411 83.1744 34.5014 83.1744 34.7712C83.1744 35.5781 82.4468 36.3045 81.2857 36.8133C80.9752 36.9482 80.6363 37.0688 80.269 37.1706C79.3946 37.4143 78.378 37.5539 77.2879 37.5539C76.3968 37.5539 75.5532 37.4593 74.7972 37.2936C73.6953 37.0499 72.7829 36.65 72.1786 36.1554C71.6834 35.7461 71.4014 35.2752 71.4014 34.7712C71.4014 34.5511 71.4559 34.3381 71.5578 34.1323",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M71.3984 35.8926V35.8879V34.771",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M71.3984 39.132V39.1296V36.8296",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M71.3984 42.4V40.0786",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M79.6173 46.9006C78.904 47.0473 78.1149 47.1277 77.2855 47.1277C75.6527 47.1277 74.1764 46.813 73.11 46.3066C72.0507 45.805 71.4014 45.114 71.4014 44.3473V43.3369",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M82.9557 45.0952C82.6027 45.6939 81.8372 46.2097 80.8135 46.5742",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M83.1719 41.8369V44.1512V44.163",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M83.1719 38.5688V40.8642",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M83.1719 34.771V37.6342V37.6437",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M80.8118 46.5741C80.8378 46.6711 80.8331 46.7776 80.7904 46.877C80.7193 47.0473 80.5534 47.1491 80.3781 47.1491C80.3188 47.1491 80.2596 47.1373 80.2004 47.1136L79.6292 46.8699L71.3991 43.3346L71.2592 43.2731C71.0317 43.1737 70.9275 42.911 71.0223 42.6839C71.0886 42.5277 71.2355 42.4307 71.3943 42.4141C71.4654 42.407 71.5412 42.4189 71.6123 42.4472L80.5535 46.2901C80.6814 46.3445 80.7715 46.451 80.807 46.5741H80.8118Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M83.1717 44.1513L83.3115 44.2128C83.5414 44.3122 83.6457 44.5772 83.5485 44.802C83.475 44.9724 83.3115 45.0741 83.1362 45.0741C83.084 45.0741 83.0272 45.0646 82.9774 45.0457C82.9703 45.0457 82.9655 45.041 82.9584 45.0386L71.4035 40.0741L71.2162 39.9937C70.9888 39.8966 70.8845 39.6316 70.9816 39.4068C71.0527 39.2341 71.221 39.1323 71.3964 39.1323C71.4532 39.1323 71.5125 39.1465 71.5693 39.1702L83.1717 44.1536V44.1513Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M74.7922 37.291L83.1622 40.8878L83.366 40.9753C83.5959 41.0747 83.7002 41.3374 83.603 41.5645C83.5319 41.7325 83.366 41.8366 83.1907 41.8366H83.1741C83.1196 41.8366 83.0651 41.8201 83.0129 41.7988L71.4058 36.813L71.2518 36.7467C71.0219 36.6473 70.9176 36.3823 71.0148 36.1575C71.0835 35.9966 71.2352 35.8972 71.3987 35.8878C71.4651 35.8807 71.5385 35.8925 71.6049 35.9209L72.1689 36.1622",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M81.288 36.8203L83.1719 37.632L83.3497 37.7077C83.5772 37.8047 83.6814 38.0697 83.5843 38.2945C83.5132 38.4649 83.3473 38.5666 83.1743 38.5666C83.1127 38.5666 83.0535 38.5548 82.9966 38.5311L80.5226 37.4687C80.4088 37.4214 80.3259 37.3291 80.2832 37.2249",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M73.1025 46.3018L73.1073 46.3065C73.176 46.3917 74.3111 47.7689 75.1216 47.7689H79.2023L80.2 47.111",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M82.937 33.995C83.7877 32.8781 84.2949 31.4844 84.2949 29.9747V29.5629C84.2949 28.5478 84.7238 27.5894 85.4703 26.9032C87.9396 24.6268 89.487 21.3684 89.487 17.7456C89.487 10.6633 83.5721 4.95811 76.4012 5.29176C69.9933 5.58991 64.8036 10.791 64.5239 17.1895C64.3486 21.2028 66.0761 24.8185 68.8796 27.2179C69.69 27.9113 70.1711 28.9122 70.1711 29.977C70.1711 31.5317 70.7066 32.9633 71.6024 34.0968C71.7612 34.3003 71.9342 34.4943 72.119 34.6789C73.3229 35.881 74.9888 36.6264 76.8254 36.6264H77.6335C79.7971 36.6264 81.7189 35.5946 82.9346 33.9998L82.937 33.995Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M3.25601 60.985L6.78459 63.0649L35.8379 46.1033L37.1531 45.3342L37.9802 45.8288L6.80354 64.1653L0.111328 60.171L31.2856 41.8345L32.0581 42.2959L1.70381 60.0692L3.25364 60.985",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M37.9802 45.8286V87.6341L6.80354 105.971L0.111328 101.979V60.1708",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M6.80371 64.165V105.971",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M32.0584 42.2959V43.9949L3.25628 60.985H3.25391",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M32.0576 43.9946L35.8374 46.103L35.8587 46.1125",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M16.6357 65.72V70.2917C16.6357 71.243 17.6713 71.8346 18.4936 71.3518L23.6029 68.349V63.1171C23.6029 62.1706 22.5744 61.579 21.7544 62.0546L17.2519 64.6528C16.8727 64.8752 16.6357 65.2799 16.6357 65.7177V65.72Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M23.6689 68.3511V75.786L29.9986 72.0685C30.3943 71.8343 30.6361 71.4131 30.6361 70.9564V66.5669C30.6361 65.573 29.5578 64.9507 28.6952 65.45L23.6689 68.3534V68.3511Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M16.7988 80.5021V85.0738C16.7988 86.0251 17.8344 86.6167 18.6567 86.1339L23.1569 83.4884C23.5337 83.2683 23.7659 82.8637 23.7659 82.4307V75.7695L17.415 79.4373C17.0358 79.6574 16.7988 80.0644 16.7988 80.4998V80.5021Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M94.0917 73.6685V73.7016L92.2314 70.5616V66.1342L94.0917 63.9194L99.8597 60.668L104.528 58.0367L107.189 56.5388L109.948 54.9842L112.607 53.4863L112.974 53.2804L114.431 50.5048L114.474 50.4243C114.474 50.4243 114.832 56.5672 114.474 56.9246L112.974 59.7807L107.583 62.819L105.384 64.059L102.663 65.5923L102.229 65.8361L100.218 66.9695L97.561 68.465L97.1748 68.6827L94.0941 70.4196V73.6709L94.0917 73.6685Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M94.0917 90.5185L92.2314 87.3784V82.9487L94.0917 80.7362L99.9498 77.4328L104.72 74.7447L107.301 73.2918L110.123 71.7016L112.718 70.2392L112.972 70.0949L114.472 67.2388C114.472 67.2388 114.83 73.3793 114.472 73.7366L112.972 76.5951L110.168 78.1735L107.479 79.6903L104.884 81.1526L104.815 81.1905L102.983 82.2222L100.334 83.713L97.0966 85.5374L94.0917 87.2317V90.5161V90.5185Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M114.472 67.2391L107.58 62.8165L107.562 62.8047",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M103.877 66.9527L102.256 65.8926",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M108.883 70.2301L108.831 70.1946L106.21 68.4814",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M94.0918 73.6685L99.9499 77.4332L100.028 77.4853",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M101.771 71.7705L104.03 73.2021",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M97.1299 68.6519L97.1725 68.6802L99.4286 70.1947L99.4428 70.2065",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M94.0918 90.5186L103.808 95.831V91.6119V90.0454V89.4041L102.772 88.8149L100.083 87.2863L98.3597 86.309L97.1204 85.5825",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M110.213 78.2544L115.888 81.7139V88.3396L110.58 91.8725V85.0268L111.17 84.6576L115.888 81.7139",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M109.474 83.7109L109.502 83.7275L111.17 84.6575",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M104.831 81.1245L104.883 81.1529L104.952 81.1931L106.807 82.2272L106.824 82.2343",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M112.692 70.1943H96.6032C96.1885 70.1943 95.8496 70.5304 95.8496 70.9445C95.8496 71.1527 95.9349 71.3396 96.07 71.4745C96.2051 71.6094 96.3947 71.6946 96.6032 71.6946H110.118",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M107.277 73.2471H99.7415C99.3291 73.2471 98.9902 73.5807 98.9902 73.9972C98.9902 74.2031 99.0732 74.3924 99.2106 74.5272C99.3481 74.6621 99.5353 74.7473 99.7415 74.7473H104.73",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M100.222 66.981H111.779C112.194 66.981 112.533 67.3146 112.533 67.7311C112.533 67.9369 112.45 68.1239 112.312 68.2611C112.175 68.3984 111.988 68.4812 111.779 68.4812H97.5654",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M107.473 79.6904H109.028C109.443 79.6904 109.779 80.0264 109.779 80.4405C109.779 80.6464 109.696 80.8357 109.559 80.973C109.424 81.1102 109.237 81.193 109.028 81.193H104.736",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M102.985 82.2271H111.675C112.088 82.2271 112.427 82.5631 112.427 82.9772C112.427 83.183 112.344 83.3723 112.206 83.5096C112.069 83.6468 111.882 83.7297 111.675 83.7297H100.341",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M105.4 64.0894H107.706C108.121 64.0894 108.457 64.423 108.457 64.8395C108.457 65.0453 108.374 65.2346 108.237 65.3695C108.102 65.5044 107.912 65.5896 107.706 65.5896H102.557",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M94.0917 56.9576V56.9931L92.2314 53.8506V49.4233L94.0917 47.2084L99.8597 43.9571L104.528 41.3258L107.189 39.8279L109.943 38.2756L112.604 36.7754L112.972 36.5695L114.429 33.7938L114.472 33.7134C114.472 33.7134 114.83 39.8563 114.472 40.2136L112.972 43.0697L107.58 46.1081L105.381 47.348L102.661 48.8814L102.227 49.1251L100.215 50.2586L97.5587 51.7541L97.1724 51.9718L94.0917 53.7086V56.9599V56.9576Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M114.472 50.5306L114.429 50.5046L107.58 46.1057L107.562 46.0962",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M103.877 50.2441L102.256 49.1816",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M108.883 53.5216L108.831 53.4861L106.21 51.7705",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M94.0918 56.9575L99.8598 60.6679L100.028 60.7767",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M101.771 55.0596L104.03 56.4935",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M97.1299 51.9409L97.1725 51.9717L99.4286 53.4861L99.4428 53.4956",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M112.692 53.4863H96.6032C96.1885 53.4863 95.8496 53.8223 95.8496 54.2364C95.8496 54.4447 95.9349 54.6316 96.07 54.7665C96.2051 54.9014 96.3947 54.9866 96.6032 54.9866H110.118",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M107.277 56.5386H99.7415C99.3291 56.5386 98.9902 56.8722 98.9902 57.2887C98.9902 57.4946 99.0732 57.6839 99.2106 57.8187C99.3481 57.956 99.5353 58.0388 99.7415 58.0388H104.73",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M100.222 50.2725H111.779C112.194 50.2725 112.533 50.6061 112.533 51.0226C112.533 51.2308 112.45 51.4178 112.312 51.5526C112.175 51.6899 111.988 51.7727 111.779 51.7727H97.5654",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M105.4 47.3809H107.706C108.121 47.3809 108.457 47.7145 108.457 48.131C108.457 48.3368 108.374 48.5262 108.237 48.661C108.102 48.7959 107.912 48.8811 107.706 48.8811H102.557",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M94.0917 40.249V40.2845L92.2314 37.1421V32.7147L94.0917 30.4998L96.5373 29.1226L102.457 25.7838L109.791 21.6522L112.969 19.8609L114.469 17.0024C114.469 17.0024 114.827 23.1454 114.469 23.5027L112.969 26.3588L107.578 29.3971L105.379 30.6371L102.658 32.1704L102.225 32.4142L100.213 33.5476L97.5563 35.0431L97.17 35.2608L94.0893 36.9977V40.249H94.0917Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M114.472 33.8221L114.429 33.7937L107.58 29.3971L107.562 29.3853",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M103.877 33.5333L102.256 32.4731",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M108.883 36.8131L108.831 36.7752L106.21 35.062",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M94.0918 40.249L99.8598 43.9594L100.028 44.0706",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M101.771 38.3511L104.03 39.7851",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M97.1299 35.2324L97.1725 35.2608L99.4286 36.7753L99.4428 36.7871",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M112.692 36.7754H96.6032C96.1885 36.7754 95.8496 37.1114 95.8496 37.5255C95.8496 37.7337 95.9349 37.9207 96.07 38.0579C96.2074 38.1928 96.3947 38.278 96.6032 38.278H110.118",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M107.277 39.8301H99.7415C99.3291 39.8301 98.9902 40.1637 98.9902 40.5802C98.9902 40.7861 99.0732 40.9754 99.2106 41.1102C99.3481 41.2475 99.5353 41.3303 99.7415 41.3303H104.73",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M100.222 33.5645H111.779C112.194 33.5645 112.533 33.8981 112.533 34.3146C112.533 34.5228 112.45 34.7097 112.312 34.8446C112.175 34.9819 111.988 35.0647 111.779 35.0647H97.5654",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M105.4 30.6724H107.706C108.121 30.6724 108.457 31.006 108.457 31.4225C108.457 31.6283 108.374 31.8177 108.237 31.9525C108.102 32.0898 107.912 32.1726 107.706 32.1726H102.557",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M114.472 17.0048L104.095 11.5718V18.7819L109.794 21.6522L109.905 21.709",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M102.395 25.6728L92.9541 20.3179V26.9057L96.4969 29.0472",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M52.0635 89.416L53.6299 93.3086L53.6441 93.3393",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M21.0459 110.684L23.4891 109.975L57.7085 100.003L66.8298 97.3456L56.2843 91.8936L53.6302 93.3087L21.0459 110.684ZM21.0459 110.684L52.0638 89.4161L44.125 85.2041L21.0459 110.684Z",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M57.7728 99.9482L57.7088 100.003L53.6376 103.455L23.5273 110.104",stroke:"#1B2332",strokeWidth:"0.258284",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,o.tZ)("defs",{children:(0,o.tZ)("clipPath",{id:"clip0_512_49215",children:(0,o.tZ)("rect",{width:"116",height:"135",fill:"white",transform:"translate(0 0.5)"})})})]})}function QZ(){return(0,o.tZ)(p.G,{css:[u.l0.display.flex,u.l0.align.center,u.l0.justify.center,u.l0.height("100%"),u.l0.width("100%")],children:(0,o.tZ)(vn.Z,{size:24})})}var JZ=t(69526),eb=function(e){var n=e.size;return(0,o.BX)("svg",{width:n,height:n,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,o.tZ)("path",{d:"M12.4809 4.27917C14.3036 2.06288 17.6964 2.06288 19.5191 4.27917V4.27917C20.3693 5.31306 21.6312 5.92075 22.9696 5.94087V5.94087C25.8388 5.98401 27.9542 8.63669 27.3578 11.4435V11.4435C27.0796 12.7529 27.3913 14.1183 28.21 15.1773V15.1773C29.9652 17.4474 29.2102 20.7552 26.6439 22.039V22.039C25.4467 22.6378 24.5735 23.7328 24.256 25.0332V25.0332C23.5755 27.8208 20.5186 29.293 17.9149 28.087V28.087C16.7003 27.5244 15.2997 27.5244 14.0851 28.087V28.087C11.4814 29.293 8.42446 27.8208 7.74396 25.0332V25.0332C7.42651 23.7328 6.55327 22.6378 5.3561 22.039V22.039C2.78981 20.7552 2.03482 17.4474 3.78997 15.1773V15.1773C4.60875 14.1183 4.9204 12.7529 4.64219 11.4435V11.4435C4.0458 8.63669 6.16124 5.98401 9.03038 5.94087V5.94087C10.3688 5.92075 11.6307 5.31306 12.4809 4.27917V4.27917Z",fill:"#F26207",fillOpacity:"0.75"}),(0,o.tZ)("path",{d:"M22.2172 13.2239C22.7054 12.7357 22.7054 11.9443 22.2172 11.4561C21.7291 10.968 20.9376 10.968 20.4495 11.4561L14 17.9056L11.5506 15.4561C11.0624 14.968 10.271 14.968 9.7828 15.4561C9.29465 15.9443 9.29465 16.7357 9.7828 17.2239L13.1161 20.5572C13.6043 21.0454 14.3957 21.0454 14.8839 20.5572L22.2172 13.2239Z",fill:u.TV.white})]})},nb=function(e){var n=e.size,t=void 0===n?24:n;return e.hasTooltip?(0,o.tZ)(pn.u,{tooltip:"Verified",children:(0,o.tZ)(eb,{size:t})}):(0,o.tZ)(eb,{size:t})},tb=t(68779),rb=t(24104),ib=(t(90429),t(78421)),ob=t(67644);function ab(){var e=(0,ce.Z)(["\n  query ExtensionCoverPage($extensionId: String!) {\n    extension(id: $extensionId) {\n      ... on Extension {\n        ...TopLevelExtension\n        manifest {\n          ... on ExtensionManifest {\n            supportEmail\n            website\n            longDescription\n            coverImages {\n              path\n              label\n            }\n          }\n        }\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n"]);return ab=function(){return e},e}var lb={},sb=(0,ue.Ps)(ab(),Nh.R9);var cb,ub=function(){return(0,o.tZ)(p.G,{css:[u.l0.mr(8),{borderBottom:"1px solid ".concat(u.TV.backgroundHighest)},u.l0.width("100%")]})},db=t(3774),pb=t(98836),fb=t(60507),hb=t(31802),mb=(0,a.iv)([tn.gU.nofill,u.l0.color.accentPrimaryStronger,[u.l0.py(8),{margin:"0 -8px"}]]),vb=(0,a.iv)([u.l0.px(4),{boxSizing:"content-box"}]);function gb(e){var n=e.supportEmail,t=e.website,r=e.longDescription,i=e.baseUrl,a=e.coverImages,l=null===a||void 0===a?void 0:a[0];return(0,o.BX)(p.G,{children:[(0,o.BX)(p.G,{css:[u.l0.pt(8),u.l0.pb(24)],children:[i&&l?(0,o.tZ)("img",{src:(0,Cv.Vh)(i,l.path),alt:l.label,css:[{width:"100%"},u.l0.pb(16),{userSelect:"none",pointerEvents:"none"}]}):null,(0,o.tZ)(JZ.ZP,{lineBreaks:!0,css:[{p:{fontSize:"14px !important"}}],children:null!==r&&void 0!==r?r:""})]}),(0,o.tZ)(ub,{}),(0,o.BX)(p.G,{css:[u.l0.colWithGap(8),u.l0.pt(16)],children:[(0,o.BX)(p.G,{children:[(0,o.tZ)(d.xv,{css:[u.l0.fontSize(12),u.l0.fontWeight.medium],children:"Support"}),(0,o.BX)(p.G,{css:[u.l0.colWithGap(8),u.l0.align.start],children:[n?(0,o.tZ)(Wr.Z,{small:!0,css:mb,text:n,href:"mailto:".concat(n),iconLeft:(0,o.tZ)(ob.Z,{})}):null,(0,o.tZ)(Wr.Z,{small:!0,css:mb,text:"Replit Support",href:"https://replit.com/support",iconLeft:(0,o.tZ)(rb.Z,{})})]})]}),t?(0,o.BX)(p.G,{children:[(0,o.tZ)(d.xv,{css:[u.l0.fontSize(12),u.l0.fontWeight.medium],children:"Resources"}),(0,o.tZ)(p.G,{css:[u.l0.colWithGap(8),u.l0.align.start],children:(0,o.tZ)(Wr.Z,{css:mb,small:!0,text:"Visit developer website",href:t,target:"_blank",iconLeft:(0,o.tZ)(fa.Z,{})})})]}):null,(0,o.BX)(p.G,{children:[(0,o.tZ)(d.xv,{css:[u.l0.fontSize(12),u.l0.fontWeight.medium],children:"Community Safety"}),(0,o.tZ)(d.xv,{variant:"small",css:[u.l0.color.foregroundDimmest],multiline:!0,maxLines:3,children:"Replit reviews extensions before they are published. If you encounter inappropriate content, please report it."}),(0,o.tZ)(p.G,{css:[u.l0.py(8),u.l0.align.start],children:(0,o.tZ)(en.zx,{small:!0,text:"Report this extension",css:[mb,u.l0.color.accentNegativeStronger],iconLeft:(0,o.tZ)(ib.Z,{})})})]})]})]})}function Zb(e){var n=e.iconSize;return(0,o.tZ)("div",{css:[u.l0.width(4*n/3),u.l0.height(4*n/3),u.l0.borderRadius("full"),u.l0.backgroundColor.greenDimmest,u.l0.display.flex,u.l0.align.center,u.l0.justify.center],children:(0,o.tZ)(er.Z,{size:n,color:u.TV.greenStrongest})})}function bb(e){var n=e.name,t=e.reason,r=fb.k.find((function(e){return e.key===n}));return(0,o.BX)(p.G,{css:[u.l0.p(8),u.l0.colWithGap(8)],children:[(0,o.BX)(p.G,{css:[u.l0.rowWithGap(8)],children:[(0,o.tZ)(rb.Z,{})," ",(0,o.tZ)(d.xv,{children:null===r||void 0===r?void 0:r.friendlyName})]}),(0,o.BX)(p.G,{css:[u.l0.rowWithGap(8),u.l0.py(4)],children:[(0,o.tZ)(Zb,{iconSize:12}),(0,o.tZ)(d.xv,{children:null===r||void 0===r?void 0:r.description})]}),(0,o.tZ)(p.G,{css:[u.l0.pl(24)],children:(0,o.BX)(d.xv,{multiline:!0,children:["Author notes: ",t]})})]})}function xb(e){var n=e.scopes,t=void 0===n?[]:n,r=e.loading,i=void 0!==r&&r,a=e.showChoice,l=void 0===a||a,s=e.onCancel,c=void 0===s?function(){}:s,f=e.onAccept,h=void 0===f?function(){}:f;return(0,o.tZ)(p.G,{css:[u.l0.p(12)],children:(0,o.tZ)(p.G,{css:[u.l0.p(12),u.l0.border({color:u.TV.outlineDimmer,width:1,style:"solid"}),u.l0.borderRadius(8)],children:(0,o.BX)(p.G,{css:[u.l0.colWithGap(8)],children:[null===t||void 0===t?void 0:t.map((function(e){return(0,o.tZ)(bb,{name:e.name,reason:e.reason},e.name)})),t&&0!==t.length?null:(0,o.tZ)(d.xv,{children:"This extension requires no permissions"}),l?(0,o.BX)(p.G,{css:[u.l0.display.grid,{gap:u.TV.space8,gridAutoFlow:"column",gridTemplateColumns:"1fr 1fr"},u.l0.width("100%")],children:[(0,o.tZ)(en.zx,{text:"Cancel",onClick:c}),(0,o.tZ)(en.zx,{text:"Accept and Activate",iconLeft:(0,o.tZ)(db.Z,{}),colorway:"primary",onClick:h,loading:i,disabled:i})]}):null]})})})}function yb(e){var n,t,a=e.extensionId,l=e.goBackToStore,s=(0,kn.Z)(),c=(0,Fh.WF)(),f=(0,Fh.LM)(),m=(0,Fh.Mu)(),v=(0,z.cT)(),g=m.find((function(e){return e.extensionId===a})),Z=(0,L.Z)(h.useState(g?cb.Installed:cb.NotInstalled),2),b=Z[0],x=Z[1];h.useEffect((function(){x(g?cb.Installed:cb.NotInstalled)}),[g,x]);var y=function(e){var n=(0,se.Z)({},lb,e);return de.a(sb,n)}({variables:{extensionId:a},fetchPolicy:"cache-and-network",ssr:!1}),w=y.data;if(y.loading&&!w)return(0,o.tZ)(QZ,{});if(!w||"Extension"!==(null===(n=w.extension)||void 0===n?void 0:n.__typename))return(0,o.tZ)("div",{children:"Not found"});var C,k,S=w.extension,R=S.manifest;return"ExtensionManifest"!==(null===R||void 0===R?void 0:R.__typename)?(0,o.tZ)("div",{children:"Manifest error"}):(0,o.tZ)(p.G,{css:[u.l0.maxWidth(1200),u.l0.width("100%"),{alignSelf:"center"}],children:(0,o.BX)(p.G,{css:[u.l0.colWithGap(16),u.l0.align.start,u.l0.p(12),u.l0.height("100%")],children:[(0,o.tZ)(en.zx,{small:!0,onClick:l,iconLeft:(0,o.tZ)(Od.Z,{}),text:"Back to Store"}),(0,o.BX)(p.G,{css:[u.l0.rowWithGap(16)],children:[(0,o.tZ)(qZ,{size:64,baseUrl:S.url,icon:R.icon}),(0,o.BX)(p.G,{css:[u.l0.colWithGap(8),u.l0.align.start,u.l0.flex.shrink(1)],children:[(0,o.BX)(p.G,{css:[u.l0.flex.shrink(1),u.l0.colWithGap(4)],children:[(0,o.BX)(p.G,{css:[u.l0.rowWithGap(8),u.l0.align.center],children:[(0,o.tZ)(d.xv,{variant:"headerDefault",children:null!==(C=R.name)&&void 0!==C?C:S.name}),S.isBlessed?(0,o.tZ)(nb,{}):null]}),(0,o.tZ)(HZ,{user:S.user,size:24}),(0,o.tZ)(d.xv,{variant:"text",color:"dimmest",multiline:!0,maxLines:2,children:null!==(k=R.description)&&void 0!==k?k:S.description})]}),(0,o.BX)($Z,{children:[(0,o.BX)(p.G,{css:[u.l0.rowWithGap(4)],children:[(0,o.tZ)(Jv.Z,{color:u.TV.foregroundDimmer}),(0,o.tZ)(d.xv,{color:"dimmer",variant:"small",children:S.installCount})]}),null===(t=R.tags)||void 0===t?void 0:t.slice(0,5).map((function(e){return(0,o.tZ)(NZ.D,{text:"#".concat(e)},e)}))]})]})]}),S.isBlessed?null:(0,o.BX)(Je.T,{elevated:!0,css:[u.l0.rowWithGap(16),u.l0.p(16),u.l0.justify.start,u.l0.align.center,u.l0.width("100%"),u.l0.borderRadius(12),u.l0.overflow("hidden")],children:[(0,o.tZ)(hb.Z,{strokeWidth:8}),(0,o.tZ)(d.xv,{multiline:!0,maxLines:3,css:[u.l0.maxWidth("100%"),u.l0.flex.growAndShrink(1)],children:"This extension has not been verified by the Replit team."})]}),(0,o.BX)(p.G,{css:[u.l0.rowWithGap(8),u.l0.width("100%")],children:[null,b===cb.Installed&&g?(0,o.BX)(o.HY,{children:[(0,o.tZ)(en.zx,{text:"Open Extension",iconLeft:(0,o.tZ)(_d.Z,{}),colorway:"primary",onClick:function(){v({pane:{type:"extension",data:{extensionId:(0,Kh.T)(S.id),installationId:g.installationId,name:S.name,url:(0,Cv.BY)(S.url)}}})}}),(0,o.tZ)(en.zx,{text:"Deactivate Extension",onClick:(0,r.Z)((function(){return(0,i.__generator)(this,(function(e){return g.installationId?(x(cb.Uninstalling),f({installationId:g.installationId,replId:s}),[2]):[2]}))}))})]}):null,b===cb.Uninstalling?(0,o.tZ)(en.zx,{text:"Deactivating\u2026",iconLeft:(0,o.tZ)(vn.Z,{}),colorway:"grey",css:[u.l0.flex.grow(1)],disabled:!0,loading:!0}):null,b===cb.NotInstalled?(0,o.tZ)(en.zx,{text:"Activate Extension for your account",colorway:"primary",css:[u.l0.flex.grow(1)],onClick:(0,r.Z)((function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return R.scopes&&0!==R.scopes.length?[3,2]:(x(cb.Installing),[4,c({extension:S,replId:null})]);case 1:return e.sent(),[2];case 2:return x(cb.WaitingForPermissions),[2]}}))}))}):null,[cb.WaitingForPermissions,cb.Installing].includes(b)?(0,o.tZ)(en.zx,{text:b===cb.WaitingForPermissions?"Accept permissions below\u2026":"Activating\u2026",iconLeft:(0,o.tZ)(vn.Z,{}),colorway:"grey",css:[u.l0.flex.grow(1)],disabled:!0,loading:!0}):null]}),(0,o.tZ)(ug.R,{}),(0,o.tZ)(p.G,{css:[u.l0.width("100%")],children:[cb.WaitingForPermissions].includes(b)?(0,o.tZ)(xb,{scopes:null===R||void 0===R?void 0:R.scopes,showChoice:!0,loading:b===cb.Installing,onAccept:(0,r.Z)((function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return x(cb.Installing),[4,c({extension:S,replId:null})];case 1:return e.sent(),[2]}}))})),onCancel:function(){x(cb.NotInstalled)}}):(0,o.BX)(tb.mQ,{children:[(0,o.tZ)(p.G,{children:(0,o.BX)(tb.td,{withUnderline:!0,children:[(0,o.tZ)(tb.OK,{iconLeft:(0,o.tZ)(ht.Z,{css:vb}),children:"Overview"}),(0,o.tZ)(tb.OK,{iconLeft:(0,o.tZ)(pb.Z,{css:vb}),children:"Permissions"})]})}),(0,o.BX)(tb.nP,{children:[(0,o.tZ)(tb.x4,{children:(0,o.tZ)(gb,{supportEmail:R.supportEmail,website:R.website,longDescription:R.longDescription,baseUrl:S.url,coverImages:R.coverImages})}),(0,o.tZ)(tb.x4,{children:(0,o.tZ)(xb,{scopes:R.scopes,showChoice:!1})})]})]})})]})})}function wb(){var e=(0,ce.Z)(["\n  query ExtensionStorePane($replId: String!, $includeNonBlessed: Boolean!) {\n    extensionList(includeNonBlessed: $includeNonBlessed) {\n      ...TopLevelExtension\n      installation(replId: $replId) {\n        ...TopLevelExtensionInstallation\n      }\n    }\n  }\n  ","\n  ","\n"]);return wb=function(){return e},e}!function(e){e.NotInstalled="NotInstalled",e.WaitingForPermissions="WaitingForPermissions",e.Installing="Installing",e.Installed="Installed",e.Uninstalling="Uninstalling"}(cb||(cb={}));var Cb={},kb=(0,ue.Ps)(wb(),Nh.R9,Nh.gp);var Lb=t(93505);function Sb(e){var n=(0,kn.Z)(),t=(0,L.Z)(h.useState(!1),2),r=t[0],i=t[1],a=(0,Fh.Mu)(),l=function(e){var n=(0,se.Z)({},Cb,e);return de.a(kb,n)}({variables:{replId:n,includeNonBlessed:"manage"===e.page||r},partialRefetch:!0}),s=l.data,c=l.loading,f=l.error,m=l.previousData,v=(0,z.HM)(),g=h.useCallback((function(n,t){if("cover"===n){if(null===t)return void g("store",null);v({paneId:e.paneId,pane:{type:"extensionStore",data:{coverPageExtensionId:t,page:"cover"}}})}else v({paneId:e.paneId,pane:{type:"extensionStore",data:{page:n}}})}),[v,e.paneId]),Z=(0,L.Z)(h.useMemo((function(){var e,n=null===(e=null!==s&&void 0!==s?s:m)||void 0===e?void 0:e.extensionList.filter((function(e){return!(!e.manifest||"ExtensionManifest"!==e.manifest.__typename)}));return n?[n.filter((function(e){return e.isBlessed})).sort((function(e,n){return e.installCount>n.installCount?-1:1})),n.filter((function(e){return!e.isBlessed})).sort((function(e,n){return e.manifest.icon&&!n.manifest.icon?-1:!e.manifest.icon&&n.manifest.icon?1:e.installCount>n.installCount?-1:1}))]:[[],[]]}),[s,m]),2),b=Z[0],y=Z[1],w=h.useMemo((function(){var e;return null===(e=null!==s&&void 0!==s?s:m)||void 0===e?void 0:e.extensionList.filter((function(e){return a.find((function(n){return n.extensionId===e.id}))}))}),[a,s,m]);return"cover"===e.page?(0,o.tZ)(yb,{extensionId:e.coverPageExtensionId,goBackToStore:function(){return g("store",null)}}):(0,o.BX)(p.G,{css:[u.l0.height("100%"),u.l0.width("100%"),u.l0.maxWidth(1200),{alignSelf:"center"}],children:[(0,o.BX)(p.G,{css:[u.l0.p(12),u.l0.mb(12),u.l0.border({color:u.TV.outlineDimmest,width:2,style:"solid",direction:"bottom"}),u.l0.colWithGap(8)],children:[(0,o.BX)(p.G,{css:[u.l0.flex.row,u.l0.flex.wrap,u.l0.align.center,u.l0.rowWithGap(8)],children:[(0,o.tZ)(d.xv,{variant:"headerDefault",multiline:!0,css:u.l0.flex.shrink(1),children:"Extensions"}),(0,o.tZ)(p.G,{css:u.l0.flex.grow(1)}),(0,o.BX)(p.G,{css:[u.l0.flex.row,u.l0.align.center,u.l0.rowWithGap(8)],children:[(0,o.tZ)(Wr.Z,{href:"https://docs.replit.com/extension/intro",small:!0,target:"_blank",text:"Docs"}),(0,o.tZ)(Wr.Z,{href:"https://docs.replit.com/extensions",target:"_blank",small:!0,text:"Developer Guide"})]})]}),(0,o.tZ)(d.xv,{multiline:!0,children:"Make your workspace more powerful with new tools, commands, and integrations."})]}),(0,o.tZ)(p.G,{children:(0,o.tZ)(p.G,{children:(0,o.BX)(tb.mQ,{onSelectionChange:function(e){0===e&&g("store",null),1===e&&g("manage",null)},children:[(0,o.BX)(tb.td,{withDividers:!1,css:[u.l0.fontSize(16),u.l0.px(12),{"[aria-selected=true]":[u.l0.fontWeight.medium]}],children:[(0,o.tZ)(tb.OK,{iconLeft:(0,o.tZ)(Lb.Z,{}),children:"Store"},1),(0,o.tZ)(tb.OK,{iconLeft:(0,o.tZ)(pb.Z,{}),children:"Installed"},2)]}),(0,o.BX)(tb.nP,{children:[(0,o.tZ)(tb.x4,{children:(0,o.BX)(p.G,{css:[u.l0.p(12)],children:[(0,o.tZ)(d.xv,{variant:"subheadDefault",css:[u.l0.py(12)],color:"dimmer",children:"Explore Extensions"}),b.length>0?(0,o.BX)(p.G,{css:[u.l0.colWithGap(8)],children:[b.map((function(e){return(0,o.tZ)(YZ,{extension:e,onClick:function(){(0,x.j)(x.U3.EXTENSION_COVER_PAGE_VIEWED,{source:"store"}),g("cover",(0,Kh.T)(e.id))}},e.id)})),!r||c&&!s&&m?(0,o.tZ)(en.zx,{text:"View unverified extensions",onClick:function(){i(!0)},loading:c,iconLeft:c?(0,o.tZ)(vn.Z,{}):void 0}):null]}):null,y.length>0&&r?(0,o.BX)(p.G,{css:[u.l0.py(16),u.l0.colWithGap(8)],children:[(0,o.tZ)(d.xv,{variant:"subheadBig",children:"Unverified extensions"}),(0,o.tZ)(p.G,{css:[u.l0.colWithGap(8)],children:y.map((function(e){return(0,o.tZ)(YZ,{extension:e,onClick:function(){(0,x.j)(x.U3.EXTENSION_COVER_PAGE_VIEWED,{source:"store"}),g("cover",(0,Kh.T)(e.id))}},e.id)}))})]}):null]})}),(0,o.tZ)(tb.x4,{children:(0,o.tZ)(p.G,{css:[u.l0.p(12)],children:w&&w.length>0?(0,o.tZ)(p.G,{css:[u.l0.colWithGap(8)],children:w.map((function(e){return(0,o.tZ)(YZ,{extension:e,onClick:function(){(0,x.j)(x.U3.EXTENSION_COVER_PAGE_VIEWED,{source:"manage"}),g("cover",(0,Kh.T)(e.id))}},e.id)}))}):(0,o.BX)(p.G,{css:[u.l0.p(16),u.l0.flex.column,u.l0.colWithGap(16),u.l0.align.center],children:[(0,o.tZ)(d.xv,{variant:"subheadBig",children:"There's nothing here"}),(0,o.tZ)(KZ,{}),(0,o.tZ)(d.xv,{multiline:!0,css:{textAlign:"center",maxWidth:320},children:"You haven't installed any Extensions yet. Install something from the Store to get started."})]})})})]})]})})}),s||m||!c||f?null:(0,o.tZ)(QZ,{}),f?(0,o.tZ)("div",{children:f.message}):null]})}var Rb={Content:function(e){return(0,o.tZ)(Sb,(0,un.Z)((0,se.Z)({},e.pane.data),{paneId:e.options.paneId}))},Icon:function(e){var n=e.size;return(0,o.tZ)(ou.Z,{size:n})},getTitle:function(){return"Extensions"}},Ib=t(5559);var Tb=t(78762);function Bb(){var e=function(){var e=(0,_.Z)().toolchain;function n(){return(n=(0,r.Z)((function(n){return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return[4,e.addModule(n).catch((function(e){bf.kg.error("Toolchain: failed to add Nix module: "+e.message)}))];case 1:return t.sent(),[2]}}))}))).apply(this,arguments)}function t(){return(t=(0,r.Z)((function(n){return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return[4,e.removeModule(n).catch((function(e){bf.kg.error("Toolchain: failed to remove Nix module: "+e.message)}))];case 1:return t.sent(),[2]}}))}))).apply(this,arguments)}function o(){return(o=(0,r.Z)((function(n,t){return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.upgradeModule(n,t).catch((function(e){bf.kg.error("Toolchain: failed to upgrade Nix module: "+e.message)}))];case 1:return r.sent(),[2]}}))}))).apply(this,arguments)}return{modules:(0,Gi.Z)(e.modules),addModule:function(e){return n.apply(this,arguments)},removeModule:function(e){return t.apply(this,arguments)},upgradeModule:function(e,n){return o.apply(this,arguments)}}}(),n=e.modules,t=e.addModule,a=e.removeModule,l=e.upgradeModule,s=(0,_.Z)().toolchain,c=(0,h.useState)(null),f=c[0],m=c[1];return(0,h.useEffect)((function(){s.getRegistry().then((function(e){m(e)})).catch((function(e){bf.kg.error("Toolchain: failed to get module registry: "+e.message)}))}),[s]),(0,o.BX)(p.G,{children:[(0,o.tZ)(d.xv,{variant:"headerDefault",multiline:!0,css:u.l0.p(8),children:"Modules"}),(0,o.BX)(tb.mQ,{children:[(0,o.BX)(tb.td,{withDividers:!1,css:[u.l0.fontSize(16),u.l0.px(12),{"[aria-selected=true]":[u.l0.fontWeight.medium]}],children:[(0,o.tZ)(tb.OK,{iconLeft:(0,o.tZ)(Lb.Z,{}),children:"Store"},1),(0,o.tZ)(tb.OK,{iconLeft:(0,o.tZ)(pb.Z,{}),children:"Installed"},2)]}),(0,o.BX)(tb.nP,{children:[(0,o.tZ)(tb.x4,{children:(0,o.tZ)(Eb,{registry:f,modules:n,addModule:t})}),(0,o.tZ)(tb.x4,{children:(0,o.tZ)(Mb,{modules:n,registry:f,removeModule:a,upgradeModule:l})})]})]})]})}function Eb(e){var n=e.registry,t=e.modules,a=e.addModule,l=(0,h.useState)(!1),s=l[0],c=l[1],d=(0,h.useMemo)((function(){var e=new Set((null===t||void 0===t?void 0:t.map((function(e){return e.referencedId})))||[]);return((null===n||void 0===n?void 0:n.modules)||[]).filter((function(n){return!e.has(Gb(n))})).sort((function(e,n){return e.name===n.name?0:e.name>n.name?1:-1}))}),[n,t]);return(0,o.BX)(p.G,{css:[u.l0.p(12)],children:[n?(0,o.tZ)(p.G,{children:d.map((function(e){var n=e.id;return(0,o.BX)(p.G,{css:[u.l0.flex.row,u.l0.fontSize(16),u.l0.px(12),u.l0.py(8),{"[aria-selected=true]":[u.l0.fontWeight.medium]}],children:[(0,o.BX)(p.G,{children:[e.name," v",e.version,e.description]}),(0,o.tZ)(nn.h,{onClick:function(){a(Gb(e))},alt:"Install",children:(0,o.tZ)($.Z,{})})]},n)}))}):null,(0,o.tZ)(en.zx,{text:"Add by source file",onClick:function(){c(!0)}}),(0,o.tZ)(on.u,{isOpen:s,onRequestClose:function(){return c(!1)},children:(0,o.tZ)(Jh.Z,{prompt:"Add module",desc:"What's the module file path?",placeholder:"path",type:"text",onCancel:function(){return c(!1)},onConfirm:function(){var e=(0,r.Z)((function(e){return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return[4,a(e)];case 1:return n.sent(),c(!1),[2]}}))}));return function(n){return e.apply(this,arguments)}}()})})]})}function Gb(e){return"".concat(e.id,":").concat(e.tag)}function Mb(e){var n=e.registry,t=e.modules,r=e.removeModule,i=e.upgradeModule;return t?(t.sort((function(e,n){return e.name===n.name?0:e.name>n.name?1:-1})),(0,o.tZ)(o.HY,{children:t.map((function(e){return(0,o.tZ)(Db,{removeModule:r,upgradeModule:i,moduleId:e.id,module:e,registry:n},e.id)}))})):(0,o.tZ)(p.G,{css:[u.l0.p(8)],children:"Loading..."})}function Db(e){var n=e.moduleId,t=e.module,a=e.removeModule,l=e.upgradeModule,s=e.registry,c=null===s||void 0===s?void 0:s.recommendUpgrade[t.resolvedId],d=(0,h.useMemo)((function(){if(!s)return null;var e=s.recommendUpgrade[t.resolvedId];if(!e)return null;var n=e.to.split(":")[0];return s.modules.find((function(e){return e.id===n}))}),[s,t.resolvedId]);return(0,o.tZ)(ZZ.Q,{css:[{borderTop:"1px solid #ccc"},u.l0.pb(8)],headerContent:function(e){var r=e.isExpanded;return(0,o.BX)(p.G,{css:[u.l0.flex.row,u.l0.fontSize(16),u.l0.px(12),u.l0.py(8),{"[aria-selected=true]":[u.l0.fontWeight.medium]}],children:[t.name," ",t.version,!r&&c?(0,o.tZ)(Tb.Z,{alt:"Upgrade available"}):null]},n)},children:(0,o.BX)(p.G,{css:[u.l0.position.relative],children:[(0,o.tZ)(Pb,{module:t}),c?(0,o.tZ)(pn.u,{tooltip:c.changelog,children:(0,o.tZ)(en.zx,{iconRight:(0,o.tZ)(Tb.Z,{}),text:"Upgrade to ".concat(null===d||void 0===d?void 0:d.name," v").concat(null===d||void 0===d?void 0:d.version),onClick:function(){l(t.referencedId,c.to)}})}):null,(0,o.tZ)(en.zx,{css:[u.l0.position.absolute,u.l0.top(8),u.l0.right(8)],text:"",iconLeft:(0,o.tZ)(Da.Z,{}),small:!0,onClick:(0,r.Z)((function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return[4,a(t.referencedId)];case 1:return e.sent(),[2]}}))}))})]})})}function Pb(e){var n=e.module;return(0,o.BX)("ul",{css:[u.l0.pl(12)],children:["resolve"===n.buildType?(0,o.BX)("li",{css:[u.l0.pl(8)],children:["Registry ID: ",n.resolvedId]},"resolvedId"):null,"build"===n.buildType?(0,o.BX)("li",{css:[u.l0.pl(8)],children:["Built from: ",n.resolvedId]},"buildType"):null,n.referencedId!==n.resolvedId?(0,o.BX)("li",{css:[u.l0.pl(8)],children:["Originally installed version: ",n.referencedId]},n.referencedId):null,n.runners.map((function(e){return(0,o.BX)("li",{css:[u.l0.pl(8)],children:["Runner: ",e.name]},e.id)})),n.debuggers.map((function(e){return(0,o.BX)("li",{css:[u.l0.pl(8)],children:["Debugger: ",e.name]},e.id)})),n.languageServers.map((function(e){return(0,o.BX)("li",{css:[u.l0.pl(8)],children:["Language server: ",e.name]},e.id)})),n.packagers.map((function(e){return(0,o.BX)("li",{css:[u.l0.pl(8)],children:["Packager: ",e.name]},e.id)}))]})}var jb={Content:function(){return(0,o.tZ)(p.G,{css:[u.l0.p(8)],children:(0,o.tZ)(Bb,{})})},Icon:function(e){var n=e.size;return(0,o.tZ)(Ib.Z,{size:n})},getTitle:function(){return"Modules"}},_b={Content:function(e){var n,t=e.pane;return(0,o.tZ)(Je.T,{css:{width:"100%",height:"100%",borderBottomLeftRadius:"4px",borderBottomRightRadius:"4px",overflow:"hidden"},children:(0,o.tZ)("iframe",{title:"Replit Docs",src:(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.url)||Qh.TT.HOME,width:"100%",height:"100%",frameBorder:"0"})})},Icon:function(e){var n=e.size;return(0,o.tZ)(Ya.Z,{size:n})},getTitle:function(){return"Docs"}},Ub=["youtube.com","vimeo.com","wistia.com","sadanandpai.github.io"],Xb={Content:function(e){var n=e.pane.data;return(0,o.tZ)(Vb,{title:n.title,embedUrl:n.embedUrl})},Icon:function(e){var n=e.size;return(0,o.tZ)(Dc.Z,{size:n})},getTitle:function(e){return e.data.title}};function Vb(e){return function(e){try{var n=new URL(e).hostname;return Ub.some((function(e){return n===e||n.endsWith("."+e)}))}catch(t){return!1}}(e.embedUrl)?(0,o.tZ)("iframe",{title:e.title,src:e.embedUrl,frameBorder:"0",css:[u.l0.coverContainer,u.l0.borderRadius(0,0,8,8)]}):(0,o.BX)("div",{children:["Only YouTube, Vimeo, and Wistia videos are supported."," ",(0,o.tZ)("a",{href:Qh.xz,target:"_blank",children:"Request more formats here."})]})}var zb={Content:function(){return(0,o.tZ)(Je.T,{background:"default",css:u.l0.flex.growAndShrink(1),children:(0,o.tZ)(EZ,{isPane:!0,isChatOnly:!0})})},Icon:function(e){var n=e.size;return(0,o.tZ)(oc.Z,{size:n})},getTitle:function(){return"Chat"}},Wb=t(34509),Ab=function(e,n,t){h.useEffect((function(){var n=setTimeout(e,t);return function(){clearTimeout(n)}}),n)},Fb=t(1929),Nb=t(14526),Ob=t(21485),Hb=t(90888),qb=(0,G.X)({self:[u.l0.position.relative,u.l0.flex.shrink(1),u.l0.width("100%")],iconWrapper:[u.l0.position.absolute,u.l0.top(0),u.l0.right(0),u.l0.height("100%"),u.l0.p(4)]}),$b=h.forwardRef((function(e,n){var t,r=e.onClear,i=(0,oi.Z)(e,["onClear"]);return(0,o.BX)(p.G,{css:qb.self,children:[(0,o.tZ)(Hb.w,(0,se.Z)({ref:n},i)),((null===(t=i.value)||void 0===t?void 0:t.length)||0)>0?(0,o.tZ)(p.G,{css:qb.iconWrapper,children:(0,o.tZ)(nn.h,{alt:"Clear search query",tooltipHidden:!0,onClick:r,css:{"&:hover":{backgroundColor:"".concat(u.TV.backgroundHighest," !important")}},children:(0,o.tZ)(ot.Z,{})})}):null]})}));$b.displayName="SearchInput";var Yb=$b,Kb=t(54548),Qb=(0,G.X)({self:[u.l0.width(32),u.l0.height(32)],queryPill:[u.l0.display.inline,u.l0.fontSize(u.TV.fontSizeDefault)],popover:[{"& > .popover-control-container":u.l0.mr(0)}],replaceButton:[u.l0.width(104)]});function Jb(e){var n=e.text;return(0,o.tZ)(NZ.D,{css:Qb.queryPill,text:0===n.length?"\u23b5":n})}function ex(e){var n=e.query,t=e.replacement,r=e.numMatches,i=e.onCancel,a=e.onConfirm;return(0,o.BX)(p.G,{css:[u.l0.colWithGap(24)],children:[(0,o.BX)(d.xv,{multiline:!0,children:["Replace ",(0,o.tZ)(Jb,{text:n})," with ",(0,o.tZ)(Jb,{text:t})," ","in ",(0,gt.Z)("match",r,!0),"?"]}),(0,o.tZ)(d.xv,{multiline:!0,children:"This operation cannot be undone!"}),(0,o.BX)(p.G,{css:[u.l0.rowWithGap(12),u.l0.justify.end],children:[(0,o.tZ)(en.zx,{onClick:function(){return i()},text:"Cancel"}),(0,o.tZ)(en.zx,{colorway:"negative",onClick:function(){return a()},text:"Yes, replace ".concat((0,gt.Z)("match",r,!0)),iconLeft:(0,o.tZ)(Kb.Z,{})})]})]})}function nx(e){var n=e.disabled,t=e.loading,a=e.query,l=e.replacement,s=e.results,c=e.replace,u=e.onReplace,d=(0,h.useState)(!1),f=d[0],m=d[1],v=(0,Ca.Z)(),g=function(){var e=(0,r.Z)((function(){var e;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return m(!1),(0,x.j)(x.U3.SEARCH_PANE_USED,{action:"replace"}),[4,c()];case 1:return e=n.sent(),v.current&&e.success&&u(),[2]}}))}));return function(){return e.apply(this,arguments)}}(),Z=(0,h.useMemo)((function(){return s.reduce((function(e,n){return e+n.lines.reduce((function(e,n){return e+n.matches.length}),0)}),0)}),[s]);return(0,o.tZ)(p.G,{css:Qb.popover,children:(0,o.BX)(Hn.Z,{isOpen:f,maxWidth:400,showArrow:!0,children:[(0,o.tZ)(en.zx,{text:"Replace All",css:Qb.replaceButton,disabled:n||t,onClick:function(){m((function(e){return!e}))}}),(0,o.tZ)(ex,{query:a,replacement:l,numMatches:Z,onCancel:function(){return m(!1)},onConfirm:g})]})})}var tx=t(44866),rx=t(94629),ix=t(40306),ox=(0,G.X)({self:[u.l0.flex.row,u.l0.rowWithGap(4),u.l0.align.center,u.l0.justify.center,u.l0.pt(8),u.l0.pb(8),u.l0.width("100%"),u.l0.flex.wrap],text:[u.l0.display.block,u.l0.textAlign.center,{overflow:"visible",whiteSpace:"normal"}]});function ax(e){var n=e.error;return(0,o.BX)(p.G,{css:ox.self,children:[(0,o.tZ)(ix.Z,{}),(0,o.tZ)(d.xv,{css:ox.text,children:n})]})}var lx=(0,G.X)({self:[u.l0.width("fit-content"),u.l0.display.inlineBlock,u.l0.color.accentNegativeDefault,u.l0.fontWeight.bold]});function sx(e){var n=e.content;return(0,o.tZ)(o.HY,{children:n.split("\n").reduce((function(e,n,t){return null===e?[n]:(0,D.Z)(e).concat([(0,o.tZ)(p.K.span,{css:lx.self,children:"\\n"},"".concat(n,"-").concat(t)),n])}),null)})}var cx,ux,dx=t(48743),px=p.K.span,fx=50,hx="SearchMatch";!function(e){e.HIGHLIGHT="highlight",e.REMOVE="remove",e.ADD="add",e.TEXT="text"}(cx||(cx={}));var mx=(0,G.X)((ux={self:[u.l0.width("fit-content"),u.l0.display.inlineBlock,u.l0.cursor.pointer,{"&:focus-visible":[u.l0.focusRing]}]},(0,ae.Z)(ux,cx.HIGHLIGHT,[u.l0.px(2),u.l0.backgroundColor.accentPrimaryDimmest,u.l0.borderRadius(4),u.l0.border({color:u.TV.accentPrimaryDimmer,width:1,direction:"full"})]),(0,ae.Z)(ux,cx.REMOVE,[u.l0.px(2),u.l0.backgroundColor.accentNegativeDimmest,u.l0.borderRadius(4),u.l0.border({color:u.TV.accentNegativeDimmer,width:1,direction:"full"}),{textDecoration:"line-through"}]),(0,ae.Z)(ux,cx.ADD,[u.l0.px(2),u.l0.backgroundColor.accentPositiveDimmest,u.l0.borderRadius(4),u.l0.border({color:u.TV.accentPositiveDimmer,width:1,direction:"full"})]),(0,ae.Z)(ux,"hiddenTextWrapper",[u.l0.display.inlineBlock,u.l0.mx(2),{"& > div":[u.l0.display.inlineBlock],transform:"translateY(12.5%)"}]),(0,ae.Z)(ux,"firstHiddenTextWrapper",[u.l0.ml(0)]),(0,ae.Z)(ux,"lastHiddenTextWrapper",[u.l0.mr(0)]),ux));function vx(e){var n=e.content,t=e.matches,r=e.dedentBy,i=e.replacement,a=e.path,l=e.lineNumber,s=e.performPaneOperation,c=e.isRegex,u=e.query,d=function(e){s({operation:"open",pane:{type:"codeEditor",data:{path:a,line:l,col:e}}})};return(0,o.tZ)(o.HY,{children:Zx({content:n,matches:t,dedentBy:r,replacement:i}).map((function(e,t,r){var a=e.start,l=e.end,s=e.type,p="".concat(a,"-").concat(l),f=l-a;if("text"===s){var m=r[t+1];if(0===t&&f>fx)return(0,o.BX)(h.Fragment,{children:[(0,o.tZ)(px,{css:[mx.hiddenTextWrapper,mx.firstHiddenTextWrapper],children:(0,o.tZ)(nn.h,{size:18,alt:"Jump to hidden text",onClick:function(){d(l-fx)},children:(0,o.tZ)(dx.MoreHorizontal,{})})},p),(0,o.tZ)("span",{children:n.substring(l-fx,l)})]},p);if(t===r.length-1&&f>fx)return(0,o.BX)(h.Fragment,{children:[(0,o.tZ)("span",{children:n.substring(a,a+fx)}),(0,o.tZ)(px,{css:[mx.hiddenTextWrapper,mx.lastHiddenTextWrapper],children:(0,o.tZ)(nn.h,{size:18,alt:"Jump to hidden text",onClick:function(){d(a+fx)},children:(0,o.tZ)(dx.MoreHorizontal,{})})},p)]},p);if(m&&f>100)return(0,o.BX)(h.Fragment,{children:[(0,o.tZ)("span",{children:n.substring(a,a+fx)}),(0,o.tZ)(px,{css:mx.hiddenTextWrapper,children:(0,o.tZ)(nn.h,{size:18,alt:"Jump to hidden text",onClick:function(){d(a+fx)},children:(0,o.tZ)(dx.MoreHorizontal,{})})},p),(0,o.tZ)("span",{children:n.substring(l-fx,l)})]},p)}var v=-1===a?i:n.substring(a,l);if("text"===s)return(0,o.tZ)(h.Fragment,{children:v},p);var g=null,Z=r[t-1];return s===cx.ADD&&(null===Z||void 0===Z?void 0:Z.type)===cx.REMOVE&&(g=n.substring(Z.start,Z.end)),(0,o.tZ)(gx,{content:v,type:s,isRegex:c,query:u,replacement:i,removedText:g,onClick:function(e){e.stopPropagation(),d(l)}},p)}))})}function gx(e){var n=e.content,t=e.type,r=e.isRegex,i=e.replacement,a=e.query,l=e.removedText,s=(0,oi.Z)(e,["content","type","isRegex","replacement","query","removedText"]),c=n,u=void 0;switch(t){case cx.HIGHLIGHT:u="Matched text ".concat(c);break;case cx.REMOVE:u="Removed text ".concat(c);break;case cx.ADD:if(u="Added text ".concat(c),r&&null!==l)try{c=l.replace(new RegExp(a),i.replaceAll(/\$[&`']/g,"$$$&"))}catch(d){}}return(0,o.tZ)(p.K.span,(0,un.Z)((0,se.Z)({css:[mx.self,mx[t]],tabIndex:0,"aria-label":u,role:"button","data-nav":hx},s),{children:t===cx.ADD?(0,o.tZ)(sx,{content:c}):c}))}function Zx(e){for(var n=e.content,t=e.matches,r=e.dedentBy,i=e.replacement,o=[],a=r,l=0;l<t.length;l++){var s=t[l],c=s.start+s.length;o.push({start:a,end:s.start,type:cx.TEXT});var u=n.substring(s.start,c);i.length>0&&i!==u?(o.push({start:s.start,end:c,type:cx.REMOVE}),o.push({start:-1,end:c,type:cx.ADD})):o.push({start:s.start,end:c,type:cx.HIGHLIGHT,matchIndex:l}),a=c}return o.push({start:a,end:n.length,type:cx.TEXT}),o}var bx="SearchLine",xx="--search-line-number-width",yx=(0,G.X)({self:[u.l0.rowWithGap(8),u.l0.align.stretch,u.l0.overflow("hidden"),u.l0.cursor.pointer,u.l0.borderRadius(4),{"&:focus-visible":[u.l0.focusRing],"&:hover, &:focus-visible":[u.l0.backgroundColor.backgroundHighest]}],content:[u.l0.font.code,u.l0.maxWidth("100%"),u.l0.width("fit-content"),{whiteSpace:"pre-wrap",overflowWrap:"break-word",lineHeight:u.TV.lineHeightDefault}],lineNumberWrapper:[u.l0.display.inlineBlock,u.l0.color.foregroundDimmest,u.l0.mr(8),u.l0.pl(8),u.l0.pt(4)],lineNumber:[u.l0.display.inlineBlock,u.l0.textAlign.right,{width:"var(".concat(xx,")")}]});function wx(e){var n=e.lineNumber,t=e.content,r=e.matches,i=e.path,a=e.dedentBy,l=e.performPaneOperation,s=(0,oi.Z)(e,["lineNumber","content","matches","path","dedentBy","performPaneOperation"]),c=function(){(0,x.j)(x.U3.SEARCH_PANE_RESULT_CLICKED,(0,se.Z)({},s));var e=r[0];l({operation:"open",pane:{type:"codeEditor",data:{path:i,line:n,col:e?e.start+e.length:0}}})};return(0,o.BX)(p.G,{tabIndex:0,css:yx.self,"data-nav":bx,onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),c())},onClick:c,children:[(0,o.tZ)(p.G,{css:yx.lineNumberWrapper,children:(0,o.tZ)(p.G,{tag:"span",css:yx.lineNumber,"aria-label":"Line ".concat(n),children:n})}),(0,o.tZ)("pre",{css:yx.content,children:(0,o.tZ)(vx,{isRegex:s.isRegex,content:t,matches:r,dedentBy:a,query:s.query,replacement:s.replacement,path:i,lineNumber:n,performPaneOperation:l})})]})}function Cx(e){return Math.log(e)*Math.LOG10E+1|0}var kx="SearchFile",Lx="SearchFileHeader",Sx=Gt.Wx.space24,Rx=parseInt(Sx,10)+10,Ix=(0,G.X)({header:[u.l0.rowWithGap(8),u.l0.align.center,u.l0.flex.row,u.l0.flex.growAndShrink(1),u.l0.overflow("hidden"),u.l0.height(Sx),u.l0.overflow("hidden")],headerText:[u.l0.flex.shrink(1)],gap:[u.l0.height(24),u.l0.display.flex,u.l0.align.center,u.l0.truncate],accordionWrapper:[u.l0.backgroundColor.backgroundHigher,u.l0.borderRadius(4)],accordionChildren:[u.l0.p(8)],linesWrapper:[u.l0.py(8),u.l0.overflow("hidden"),u.l0.borderRadius(4),u.l0.colWithGap(2),u.l0.font.code],hiddenLineWrapper:[u.l0.display.flex,u.l0.justify.end,{width:"calc(var(".concat(xx,") + ").concat(Gt.TV.space16,")"),"& > div":[u.l0.align.end]}],padding:u.l0.pb(8)});function Tx(e){var n=e.path,t=e.lines,r=e.dedentBy,i=e.isLast,a=e.expanded,l=void 0===a||a,s=e.onClick,c=e.performPaneOperation,u=e.scrollOffset,f=void 0===u?0:u,m=(0,oi.Z)(e,["path","lines","dedentBy","isLast","expanded","onClick","performPaneOperation","scrollOffset"]),v=(0,h.useRef)(null),g=(0,L.Z)((0,j.Z)((function(){return[t.reduce((function(e,n){return e+n.matches.length}),0),Bx(t)]}),[t]),2),Z=g[0],b=g[1],x=(0,j.Z)((function(){var e=t[t.length-1];if(!e)return{};var n=Cx(e.lineNumber);return(0,ae.Z)({},xx,"".concat(n,"ch"))}),[t]);return(0,o.tZ)(p.G,{css:[!i&&Ix.padding,x],"data-nav":kx,innerRef:v,children:(0,o.tZ)(Je.T,{css:Ix.accordionWrapper,elevated:!0,children:(0,o.tZ)(ZZ.Q,{expanded:l,onClick:function(){s(v.current)},headerProps:{"data-nav":"".concat(Lx," ").concat(bx),style:{position:"sticky",zIndex:1,insetBlockStart:"-".concat(f,"px"),background:Gt.TV.backgroundHigher}},headerContent:(0,o.BX)(p.G,{css:Ix.header,children:[(0,o.tZ)(Y.Z,{path:n}),(0,o.tZ)(d.xv,{css:Ix.headerText,children:n.replace(/^\.\//,"")}),(0,o.BX)(d.xv,{color:"dimmest",css:Ix.headerText,children:[Z," ",(0,gt.Z)("match",Z)]})]}),children:(0,o.tZ)(p.G,{css:Ix.accordionChildren,children:(0,o.tZ)(Je.T,{css:Ix.linesWrapper,children:t.map((function(e,t){return(0,o.BX)(h.Fragment,{children:[(0,o.tZ)(wx,(0,un.Z)((0,se.Z)({},e,m),{path:n,dedentBy:r,performPaneOperation:c})),0!==b[t]?(0,o.tZ)(p.G,{css:Ix.hiddenLineWrapper,children:(0,o.tZ)(nn.h,{alt:"".concat(b[t]," hidden ").concat((0,gt.Z)("line",b[t])),onClick:function(){c({operation:"open",pane:{type:"codeEditor",data:{path:n,line:e.lineNumber+1,col:0}}})},children:(0,o.tZ)(dx.MoreVertical,{})})}):null]},e.lineNumber)}))})})})})})}function Bx(e){return e.map((function(n,t){var r=e[t+1];return r?r.lineNumber-n.lineNumber-1:0}))}function Ex(e,n){var t=function(e){return Bx(e).map((function(e){return e>0}))}(e).filter((function(e){return e})).length,r=e.length;if(n)for(var i=n-48,o=0;o<e.length;o++){var a=e[o],l=9*Cx(o)+9*a.content.length+4*a.matches.length;l>i&&(r+=Math.floor(i/l)+1)}return Rx+40+24.39*r+2*r+24*t}var Gx=function(e){var n;null===(n=e.focus)||void 0===n||n.call(e)};function Mx(e){var n=e.isValid,t=e.move,r=e.focus,i=void 0===r?Gx:r,o=e.wrap,a=void 0!==o&&o,l=e.selector,s=e.boundary,c=(0,h.useRef)(null);return(0,h.useEffect)((function(){if(c.current){var e=c.current,r=function(r){var o;if(n(r)&&0!==(o=l?(0,D.Z)(e.querySelectorAll(l)):function(e){var n=e.querySelectorAll('a[href],button,input,textarea,select,details,[tabindex]:not([tabindex="-1"])');return(0,D.Z)(n)}(e)).length){var c=document.activeElement;if(e.contains(c)){if(l)if(s){var u=null===c||void 0===c?void 0:c.closest(s),d=null===c||void 0===c?void 0:c.closest(l);c=d||(null===u||void 0===u?void 0:u.querySelector(l))}else c=null===c||void 0===c?void 0:c.closest(l);if(!l||c&&e.contains(document.activeElement)){if(!c)return r.preventDefault(),r.stopPropagation(),void i(o[0]);var p=o.findIndex((function(e){return e===c}));if(-1===p)return r.preventDefault(),r.stopPropagation(),void i(o[0]);var f,h=t({event:r,children:o,activeIndex:p,activeElement:c});if(a||!(h<0||h>o.length-1))f=h<0?o[o.length-1]:h>o.length-1?o[0]:o[h],i(f),r.stopPropagation(),r.preventDefault()}else{var m;r.preventDefault(),r.stopPropagation();var v=null===(m=document.activeElement)||void 0===m?void 0:m.querySelector(l);i(v||o[0])}}}};return e.addEventListener("keydown",r),function(){e.removeEventListener("keydown",r)}}}),[s,n,t,i,c,l,a]),c}var Dx=t(63645),Px=(0,G.X)({container:[u.l0.p(4),u.l0.display.flex,u.l0.flex.row,u.l0.justify.spaceBetween],resultCount:[u.l0.color.foregroundDimmer],actions:[u.l0.display.flex,u.l0.rowWithGap(4)]});function jx(e){var n="collapse"===e.collapseExpandAllState;return(0,o.BX)(p.G,{css:Px.container,children:[(0,o.BX)(p.G,{css:Px.resultCount,children:[e.totalCount," results in ",(0,gt.Z)("file",e.fileCount,!0)]}),(0,o.BX)(p.G,{css:Px.actions,children:[(0,o.tZ)(nn.h,{alt:"Open New Search",onClick:e.onStartNewSearch,children:(0,o.tZ)(Uo.Z,{})}),(0,o.tZ)(nn.h,{alt:n?"Collapse All":"Expand All",onClick:e.onToggleCollapseExpandAll,children:n?(0,o.tZ)(Dx.Z,{}):(0,o.tZ)(Fb.Z,{})})]})]})}var _x=(0,a.F4)({from:{opacity:0},to:{opacity:1}}),Ux=(0,G.X)({listWrapper:[u.l0.overflowY("auto"),u.l0.flex.grow(1),{contain:"strict"}],list:[u.l0.width("100%"),u.l0.position.relative],listItem:[u.l0.position.absolute,u.l0.top(0),u.l0.left(0),u.l0.width("100%")],resultCount:[u.l0.p(4),u.l0.pb(8),u.l0.color.foregroundDimmer],resultRow:[{animation:"".concat(_x," 120ms linear forwards")}]});function Xx(e){var n,t=e.results,r=e.error,i=e.paneRef,a=e.performPaneOperation,l=(0,oi.Z)(e,["results","error","paneRef","performPaneOperation"]),s=(0,j.Z)((function(){return t.filter((function(e){return e.lines.length>0}))}),[t]),c=(0,j.Z)((function(){return s.reduce((function(e,n){return e+n.lines.reduce((function(e,n){return e+n.matches.length}),0)}),0)}),[s]),u=(0,h.useState)({}),d=u[0],f=u[1],m=(0,h.useRef)(null),v=(0,rx.MG)({count:s.length,getScrollElement:function(){return m.current},estimateSize:function(e){var n;return Ex(s[e].lines,null===i||void 0===i||null===(n=i.current)||void 0===n?void 0:n.offsetWidth)},overscan:3}),g=v.getVirtualItems(),Z=(0,h.useRef)(null),b=(0,h.useCallback)((function(e){var n=e,t=m.current;if(t&&Z.current!==e)if(n.matches('[data-nav*="'.concat(Lx,'"]')))n.focus();else{var r=n.closest('[data-nav="'.concat(kx,'"]')),i=null===r||void 0===r?void 0:r.querySelector('[data-nav*="'.concat(Lx,'"]'));if(i){var o=i.getBoundingClientRect();if(i.offsetTop+o.height>n.offsetTop){var a=n.offsetTop-o.height;Z.current=e;var l=function(){if(t.scrollTop===a){if(t.removeEventListener("scroll",l),Z.current!==e)return;n.focus(),Z.current=null}};t.addEventListener("scroll",l),t.scrollTo({top:a})}else n.focus()}else n.focus()}}),[]),x=function(e){var n=(0,h.useCallback)((function(e){return"Tab"===e.key}),[]),t=(0,h.useCallback)((function(e){var n=e.event,t=e.activeIndex;return n.shiftKey?t-1:t+1}),[]);return Mx((0,un.Z)((0,se.Z)({},e),{isValid:n,move:t}))}({selector:'[data-nav*="'.concat(Lx,'"]'),boundary:'[data-nav="'.concat(kx,'"]')}),y=function(e){var n=(0,h.useCallback)((function(e){return"ArrowUp"===e.key||"ArrowDown"===e.key}),[]),t=(0,h.useCallback)((function(e){var n=e.event,t=e.activeIndex;return"ArrowUp"===n.key?t-1:t+1}),[]);return Mx((0,un.Z)((0,se.Z)({},e),{isValid:n,move:t}))}({selector:'[data-nav*="'.concat(bx,'"]'),focus:b}),w=function(e){var n=(0,h.useCallback)((function(e){return"ArrowLeft"===e.key||"ArrowRight"===e.key}),[]),t=(0,h.useCallback)((function(e){var n=e.event,t=e.activeIndex;return"ArrowLeft"===n.key?t-1:t+1}),[]);return Mx((0,un.Z)((0,se.Z)({},e),{isValid:n,move:t}))}({selector:'[data-nav="'.concat(hx,'"]'),focus:b}),C=(0,wl.lq)(x,y,w),k=(0,j.Z)((function(){return s.length===Object.keys(d).length&&Object.values(d).every(Boolean)}),[d,s.length]);return(0,o.BX)(o.HY,{children:[r?(0,o.tZ)(ax,{error:r}):null,s.length>0?(0,o.tZ)(jx,{fileCount:s.length,totalCount:c,collapseExpandAllState:k?"expand":"collapse",onToggleCollapseExpandAll:function(){f(k?{}:s.reduce((function(e,n){return(0,un.Z)((0,se.Z)({},e),(0,ae.Z)({},n.path,!0))}),{}))},onStartNewSearch:function(){a({operation:"commit"}),a({operation:"open",pane:{type:"searchReplace"}})}}):null,(0,o.tZ)(p.K.div,{ref:m,css:Ux.listWrapper,children:(0,o.tZ)(p.G,{css:Ux.list,style:{height:v.getTotalSize()},children:(0,o.tZ)(p.G,{css:Ux.listItem,style:{transform:"translateY(".concat(null===(n=g[0])||void 0===n?void 0:n.start,"px)")},innerRef:C,children:g.map((function(e){var n,t=s[e.index],r=t.path;return(0,o.tZ)(p.K.div,{"data-index":e.index,ref:v.measureElement,css:Ux.resultRow,children:(0,o.tZ)(Tx,(0,un.Z)((0,se.Z)({},t,l),{scrollOffset:null===(n=g[0])||void 0===n?void 0:n.start,performPaneOperation:a,isLast:e.index===s.length-1,expanded:!0!==d[r],onClick:function(e){var n;if(f((function(e){return(0,un.Z)((0,se.Z)({},e),(0,ae.Z)({},r,!(r in e)||!e[r]))})),m.current&&e){var t,i=Math.floor(null!==(t=null===(n=g[0])||void 0===n?void 0:n.start)&&void 0!==t?t:0),o=Math.floor(m.current.scrollTop),a=e.offsetTop+i;a>o||m.current.scrollTo({top:a-1})}}}))},e.key)}))})})})]})}var Vx=t(18970);function zx(e){return(0,h.useMemo)((function(){return(0,D.Z)((0,Vx.Eu)(e,",")).filter((function(e){return e.length>0}))}),[e])}var Wx,Ax=t(39517);function Fx(e){var n=e.replacement,t=e.query,r=e.isRegex,i=e.isCaseSensitive,o=e.isMatchingWholeWords,a=["sd"],l=[t.indexOf("\n")>=0?"m":"e",i?"c":"i"];return o&&l.push("w"),a.push("--flags",l.join("")),r||a.push("--string-mode"),t.startsWith("-")&&(t="\\"+t),a.push(t,n),a}function Nx(e){return Ox.apply(this,arguments)}function Ox(){return Ox=(0,r.Z)((function(e){var n,t,r,o,a,l,s,c,u;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return t=e.container,r=e.fileList,0===(o=(0,oi.Z)(e,["container","fileList"])).query.length?[2,{success:!1,errorOn:"exit",errorMessage:Wx.QUERY_EMPTY}]:o.query===o.replacement?[2,{success:!1,errorOn:"exit",errorMessage:Wx.QUERY_SAME}]:r&&r.length>0?(a=r,[3,3]):[3,1];case 1:return[4,(l=t).exec.apply(l,(0,D.Z)((0,Ax.PR)((0,un.Z)((0,se.Z)({},o),{context:1,mode:"files"}))))];case 2:if((c=i.sent()).error)return[2,{success:!1,errorOn:"rg",errorMessage:"exit status 1"===c.error?Wx.NO_MATCHES:c.error}];a=(null===(s=c.output)||void 0===s?void 0:s.split("\n").filter((function(e){return e.trim().length>0})))||[],i.label=3;case 3:return 0===a.length?[2,{success:!1,errorOn:"rg",errorMessage:Wx.NO_MATCHES}]:[4,(n=t).exec.apply(n,(0,D.Z)(Fx(o)).concat((0,D.Z)(a)))];case 4:return(u=i.sent()).error?[2,{success:!1,errorOn:"sd",errorMessage:u.error}]:[2,{success:!0}]}}))})),Ox.apply(this,arguments)}!function(e){e.QUERY_EMPTY="The query is empty",e.QUERY_SAME="The query is the same as replacement",e.NO_MATCHES="No matches were found to replace",e.RG_EMPTY="Ripgrep didn't return a response",e.NOT_MOUNTED="Component wasn't mounted"}(Wx||(Wx={}));var Hx=t(35196),qx=t(21396);var $x=(0,a.F4)({from:{transform:"scaleX(0)"},to:{transform:"scaleX(0.9)"}}),Yx=(0,G.X)({self:[u.l0.p(8),u.l0.colWithGap(8),u.l0.height("100%"),u.l0.overflow("hidden")],filesIncludeExcludeWrapper:[u.l0.rowWithGap(4),u.l0.align.center,u.l0.flex.shrink(1),u.l0.mt(6),u.l0.mr(96),u.l0.pr(12)],inputWithLabel:[u.l0.flex.growAndShrink(1),u.l0.colWithGap(4)],inputLabel:[{userSelect:"none"},u.l0.flex.shrink(1),u.l0.color.foregroundDimmest,u.l0.truncate,u.l0.mb(2),{fontSize:u.TV.fontSizeSmall}],input:[tn.gU.filled,u.l0.viewStyle,{blockSize:u.TV.space32,"::placeholder":{color:u.TV.foregroundDimmest},"&:hover::placeholder":{color:u.TV.foregroundDimmer},"&:focus::placeholder, &:hover:focus::placeholder":{color:u.TV.foregroundDimmest},":not([disabled])":{cursor:"text",":focus":{outline:"0 none",boxShadow:"none"}}}],optionsWrapper:[u.l0.rowWithGap(4),u.l0.align.center,u.l0.flex.shrink(0)],results:[u.l0.position.relative,u.l0.colWithGap(8),{flex:"1 1 auto"}],searchWrapper:[u.l0.rowWithGap(4),u.l0.align.center,{flex:"0 1 auto"}],replacementWrapper:[u.l0.ml(24),u.l0.pl(4)],replaceInputWrapper:[u.l0.rowWithGap(4),u.l0.align.center,u.l0.flex.shrink(1)],horizontalLine:[u.l0.mt(2),u.l0.mb(8),u.l0.height(1),u.l0.borderRadius(2),u.l0.width("100%"),u.l0.backgroundColor.backgroundHigher],loadingBar:[u.l0.position.absolute,u.l0.mt(2),u.l0.height(1),u.l0.borderRadius(2),u.l0.width("100%"),u.l0.backgroundColor.accentPrimaryDimmer,{animation:"".concat($x," 20s 1s ease forwards"),transformOrigin:"center left",transform:"scaleX(0)"}]});function Kx(e){var n=e.isActive,t=e.updatePane,r=e.query,i=e.setQuery,a=e.isRegex,l=e.setIsRegex,s=e.isCaseSensitive,c=e.setIsCaseSensitive,u=e.isMatchingWholeWords,d=e.setIsMatchingWholeWords,f=e.isCollapsed,m=e.setIsCollapsed,v=e.executeSearch,g=(0,h.useRef)(null),Z=function(){var e,n;null===(e=g.current)||void 0===e||e.select(),null===(n=g.current)||void 0===n||n.focus()};return(0,Qc.L5)((function(){return{focus:Z}}),[Z]),(0,h.useEffect)((function(){n&&Z()}),[n]),(0,o.BX)(p.G,{css:Yx.searchWrapper,children:[(0,o.tZ)(nn.h,{onClick:function(){return m((function(e){return!e}))},alt:f?"Show replacement options":"Hide replacement options",children:f?(0,o.tZ)(jo.Z,{}):(0,o.tZ)(ni.Z,{})}),(0,o.tZ)(Yb,{ref:g,autoSize:!0,placeholder:"Search",value:r,css:Yx.input,onChange:function(e){i(e),t({initialQuery:e})},onClear:function(){i(""),t({initialQuery:""})},onKeyDown:function(e){"Enter"===e.key&&((0,Qo.j)(e)||e.shiftKey||(e.preventDefault(),e.stopPropagation(),v()))}}),(0,o.BX)(p.G,{css:Yx.optionsWrapper,children:[(0,o.tZ)(tx.Z,{alt:"Regular expressions",icon:(0,o.tZ)(Nb.Z,{}),checked:a,onClick:function(){return l((function(e){return!e}))}}),(0,o.tZ)(tx.Z,{alt:"Case sensitive",icon:(0,o.tZ)(Fb.Z,{}),checked:s,onClick:function(){return c((function(e){return!e}))}}),(0,o.tZ)(tx.Z,{alt:"Whole words",icon:(0,o.tZ)(Ob.Z,{}),checked:u,onClick:function(){return d((function(e){return!e}))}})]})]})}function Qx(e){var n=e.updatePane,t=e.replacement,r=e.setReplacement,i=e.query,a=e.replaceLoading,l=e.search,s=e.includeGlob,c=e.setIncludeGlob,u=e.excludeGlob,f=e.setExcludeGlob,h=e.replace,m=e.results;return(0,o.BX)(p.G,{css:Yx.replacementWrapper,children:[(0,o.BX)(p.G,{css:Yx.replaceInputWrapper,children:[(0,o.tZ)(Yb,{autoSize:!0,placeholder:"Replacement",value:t,css:Yx.input,onChange:function(e){r(e),n({initialReplacement:e})},onClear:function(){r(""),n({initialReplacement:""})}}),(0,o.tZ)(p.G,{css:Yx.optionsWrapper,children:(0,o.tZ)(nx,{query:i,replacement:t,results:m,disabled:0===i.length,loading:a,replace:h,onReplace:l})})]}),(0,o.BX)(p.G,{css:Yx.filesIncludeExcludeWrapper,children:[(0,o.BX)(p.G,{css:Yx.inputWithLabel,id:"filesToInclude",children:[(0,o.tZ)(d.xv,{css:Yx.inputLabel,color:"dimmer",children:"Files to include"}),(0,o.tZ)(Yb,{autoSize:!0,label:"filesToInclude",value:s,css:Yx.input,placeholder:"e.g. **.js, src/**, app/",onChange:function(e){c(e),n({initialIncludeGlob:e})},onClear:function(){c(""),n({initialIncludeGlob:""})}})]}),(0,o.BX)(p.G,{css:Yx.inputWithLabel,id:"filesToExclude",children:[(0,o.tZ)(d.xv,{css:Yx.inputLabel,color:"dimmer",children:"Files to exclude"}),(0,o.tZ)(Yb,{autoSize:!0,label:"filesToExclude",value:u,css:Yx.input,onChange:function(e){f(e),n({initialExcludeGlob:e})},onClear:function(){f(""),n({initialExcludeGlob:""})}})]})]})]})}function Jx(e){var n=e.isActive,t=e.initialQuery,a=void 0===t?"":t,l=e.initialReplacement,s=void 0===l?"":l,c=e.initialIncludeGlob,u=void 0===c?"":c,d=e.initialExcludeGlob,f=void 0===d?"":d,m=e.performPaneOperation,v=(0,h.useState)(a),g=v[0],Z=v[1],b=(0,h.useState)(s),y=b[0],w=b[1],k=(0,h.useState)(!1),L=k[0],S=k[1],R=(0,h.useState)(!1),I=R[0],T=R[1],B=(0,h.useState)(!1),E=B[0],G=B[1],M=(0,h.useState)(!0),P=M[0],U=M[1],X=(0,h.useState)(f),V=X[0],z=X[1],W=(0,h.useState)(u),A=W[0],F=W[1],N=zx(V),O=zx(A),H=(0,h.useRef)(null),q=function(e){var n=e.query,t=e.isRegex,r=e.isCaseSensitive,i=e.isMatchingWholeWords,o=e.includeGlobs,a=void 0===o?[]:o,l=e.excludeGlobs,s=void 0===l?[]:l,c=(0,_.Z)(),u=c.container,d=c.dotReplit,p=(0,Hx.n)(d),f=(0,C.P5)({controlName:"flag-code-search-latency-metrics"}),m=(0,h.useState)([]),v=m[0],g=m[1],Z=(0,h.useState)(null),b=Z[0],x=Z[1],y=(0,h.useState)(n.length>0),w=y[0],k=y[1],L=(0,j.Z)((function(){return(0,D.Z)(s).concat((0,D.Z)(p||[]),(0,D.Z)(ka.h))}),[s,p]),S=u.getConnectionState(),R=(0,Ca.Z)(),I=(0,h.useMemo)((function(){return(0,qx.Z)({container:u,onError:function(e){return R.current&&x(e)},onUpdate:function(e){return R.current&&g(e)},onLoadingStateChange:function(e){return R.current&&k(e)},isStreaming:!0,trackLatency:f})}),[]);return(0,h.useEffect)((function(){S===em.em.CONNECTED&&I({query:n,isRegex:t,isCaseSensitive:r,isMatchingWholeWords:i,includeGlobs:a,excludeGlobs:L})}),[S,I,n,t,r,i,a,L,p]),{loading:w,error:b,data:v,search:function(){return I({query:n,isRegex:t,isCaseSensitive:r,isMatchingWholeWords:i,includeGlobs:a,excludeGlobs:L})}}}({query:g,isRegex:L,isCaseSensitive:I,isMatchingWholeWords:E,excludeGlobs:N,includeGlobs:O}),$=q.loading,Y=q.error,K=q.data,Q=q.search;Ab((function(){""!==g&&(0,x.j)(x.U3.SEARCH_PANE_USED,{action:"search",isRegex:L,isCaseSensitive:I,hasIncludes:O.length>0,hasExcludes:N.length>0})}),[g,O,N,L,I],1e3);var J=function(e){var n=e.query,t=e.replacement,o=e.fileList,a=(0,oi.Z)(e,["query","replacement","fileList"]),l=(0,_.Z)().container,s=(0,h.useState)(!1),c=s[0],u=s[1],d=(0,h.useState)(null),p=d[0],f=d[1],m=(0,h.useState)(!1),v=m[0],g=m[1],Z=(0,Ca.Z)();return{replace:(0,h.useCallback)((0,r.Z)((function(){var e;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return g(!0),f(null),[4,Nx((0,se.Z)({container:l,query:n,replacement:t,fileList:null===o||void 0===o?void 0:o.map((function(e){return e.path}))},a))];case 1:return e=r.sent(),Z.current?(e.success||f(e.errorMessage),g(!1),u(e.success),[2,e]):[2,{success:!1,errorOn:"exit",errorMessage:Wx.NOT_MOUNTED}]}}))})),[l,n,t,o,a,Z]),loading:v,error:p,data:c}}({replacement:y,query:g,isRegex:L,isCaseSensitive:I,isMatchingWholeWords:E,excludeGlobs:N,includeGlobs:O,fileList:Y?void 0:K}),ee=J.loading,ne=J.replace,te=(0,h.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};m({operation:"replace",pane:{type:"searchReplace",data:(0,se.Z)({initialQuery:g,initialReplacement:y,initialExcludeGlob:V,initialIncludeGlob:A},e)}})}),[m,g,y,V,A]);return(0,h.useEffect)((function(){Z(a)}),[a]),(0,o.BX)(p.G,{css:Yx.self,children:[(0,o.tZ)(Kx,{isActive:n,query:g,setQuery:Z,updatePane:te,isRegex:L,isCaseSensitive:I,isMatchingWholeWords:E,setIsRegex:S,setIsCaseSensitive:T,setIsMatchingWholeWords:G,isCollapsed:P,setIsCollapsed:U,executeSearch:Q}),P?null:(0,o.tZ)(Qx,{replacement:y,setReplacement:w,updatePane:te,query:g,replaceLoading:ee,search:Q,includeGlob:A,setIncludeGlob:F,excludeGlob:V,setExcludeGlob:z,replace:ne,results:K}),(0,o.BX)(p.G,{css:Yx.results,children:[(0,o.tZ)(p.G,{css:Yx.horizontalLine}),$?(0,o.tZ)(p.G,{css:Yx.loadingBar},g):null,0===g.length?null:(0,o.tZ)(Xx,{isRegex:L,query:g,replacement:y,include:A,exclude:V,results:K,error:Y,paneRef:H,performPaneOperation:m})]})]})}var ey={getTitle:function(e){var n,t=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.initialQuery;return t&&t.length>0?"Code Search: ".concat(t):"Code Search"},Icon:function(e){var n=e.size;return(0,o.tZ)(O.Z,{size:n})},Content:function(e){var n=e.pane,t=e.options;return(0,o.tZ)(Jx,(0,un.Z)((0,se.Z)({},(null===n||void 0===n?void 0:n.data)||{}),{isActive:t.isActive,performPaneOperation:t.performPaneOperation}))}},ny=t(44794),ty=t(25833),ry=t(12416),iy=h.forwardRef((function(e,n){var t,r,i,a=e.label,l=e.id,s=e.description,c=e.onChange,u=e.fontFamily,d=void 0===u?"sans-serif":u,p=e.fontSize,f=void 0===p?"medium":p,m=e.fontWeight,v=void 0===m?"regular":m,g=e.foreground,Z=void 0===g?1:g,b=e.placeholder,x=void 0===b?"":b,y=e.validationResults,w=e.value,C=(0,oi.Z)(e,["label","id","description","onChange","fontFamily","fontSize","fontWeight","foreground","placeholder","validationResults","value"]),k=(0,oZ.Z)().ref,S=(0,rr.H)(),R=l||S("input"),I=s?S("input-description"):void 0,T=(0,L.Z)(h.useState(!1),2),B=T[0],E=T[1];(null===y||void 0===y?void 0:y.some((function(e){return"loading"===e.state})))?t="loading":(null===y||void 0===y?void 0:y.some((function(e){return"error"===e.state})))?(t="error",i="var(--accent-negative-default)",r=(0,o.tZ)(ix.Z,{})):(null===y||void 0===y?void 0:y.every((function(e){return"success"===e.state})))?(t="success",i="var(--accent-positive-default)",r=(0,o.tZ)(er.Z,{})):t="default";var G=st.P3[t],M=(C.className?C.className+" ":"")+G;return(0,o.BX)("div",{className:sn().dynamic([["48c1334c65fd9e51",[i,ry.Z.fontSize[f],ry.Z.fontFamily[d],ry.Z.fontWeight[v],ry.Z.foreground[Z],ry.Z.lineHeight[f]]]])+" container",children:[a?(0,o.BX)(o.HY,{children:[C.required?(0,o.BX)(Jn.Ug,{spacing:"2px",children:[(0,o.tZ)(lt.Z,{tag:"label",foreground:B?1:2,size:"large"===f?"small":"xsmall",htmlFor:R,children:a}),(0,o.tZ)("span",{className:sn().dynamic([["48c1334c65fd9e51",[i,ry.Z.fontSize[f],ry.Z.fontFamily[d],ry.Z.fontWeight[v],ry.Z.foreground[Z],ry.Z.lineHeight[f]]]])+" required",children:"*"})]}):(0,o.tZ)(lt.Z,{tag:"label",foreground:B?1:2,size:"large"===f?"small":"xsmall",htmlFor:R,children:a}),(0,o.tZ)(wa.Z,{height:"4px"})]}):null,(0,o.BX)("div",{className:sn().dynamic([["48c1334c65fd9e51",[i,ry.Z.fontSize[f],ry.Z.fontFamily[d],ry.Z.fontWeight[v],ry.Z.foreground[Z],ry.Z.lineHeight[f]]]])+" textarea-container",children:[(0,o.tZ)("textarea",(0,un.Z)((0,se.Z)({id:R,placeholder:x,value:w,onChange:c,"aria-busy":"loading"===t,"aria-invalid":"error"===t,"aria-describedby":I},C),{ref:function(e){k(e),n&&("function"!==typeof n?n.current=e:n(e))},onFocus:function(e){E(!0),C.onFocus&&C.onFocus(e)},onBlur:function(e){E(!1),C.onBlur&&C.onBlur(e)},className:sn().dynamic([["48c1334c65fd9e51",[i,ry.Z.fontSize[f],ry.Z.fontFamily[d],ry.Z.fontWeight[v],ry.Z.foreground[Z],ry.Z.lineHeight[f]]]])+" "+(M||"")})),r?(0,o.tZ)("div",{onMouseEnter:function(){return E(!0)},onMouseLeave:function(){return E(!1)},className:sn().dynamic([["48c1334c65fd9e51",[i,ry.Z.fontSize[f],ry.Z.fontFamily[d],ry.Z.fontWeight[v],ry.Z.foreground[Z],ry.Z.lineHeight[f]]]])+" icon-container right",children:r}):null]}),s?(0,o.BX)(o.HY,{children:[(0,o.tZ)(wa.Z,{height:"4px"}),(0,o.tZ)(lt.Z,{id:I,tag:"span",foreground:3,size:f,children:s})]}):null,y&&B?(0,o.tZ)(st.QE,{validationResults:y}):null,(0,o.tZ)(sn(),{id:"48c1334c65fd9e51",dynamic:[i,ry.Z.fontSize[f],ry.Z.fontFamily[d],ry.Z.fontWeight[v],ry.Z.foreground[Z],ry.Z.lineHeight[f]],children:".container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;position:relative;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:100%}.textarea-container.__jsx-style-dynamic-selector{position:relative}.required.__jsx-style-dynamic-selector{color:var(--accent-negative-default);font-size:var(--font-size-small)}.icon-container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;position:absolute;top:var(--space-8);right:var(--space-8);background-color:var(--background-default);-webkit-border-radius:100%;-moz-border-radius:100%;border-radius:100%;padding:var(--space-4)}.icon-container.right.__jsx-style-dynamic-selector{right:var(--space-8);color:".concat(i,"}textarea.__jsx-style-dynamic-selector{resize:none;font-size:").concat(ry.Z.fontSize[f],";font-family:").concat(ry.Z.fontFamily[d],";font-weight:").concat(ry.Z.fontWeight[v],";color:").concat(ry.Z.foreground[Z],";line-height:").concat(ry.Z.lineHeight[f],";background-color:transparent;padding:var(--space-8);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);outline:none;width:100%;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-transition:.1s;-moz-transition:.1s;-o-transition:.1s;transition:.1s;line-height:1.4}textarea.__jsx-style-dynamic-selector:disabled{opacity:.5}textarea.default.__jsx-style-dynamic-selector:hover{border-color:var(--accent-primary-dimmer)}textarea.success.__jsx-style-dynamic-selector{border-color:var(--accent-positive-default)}textarea.success.__jsx-style-dynamic-selector:hover{border-color:var(--accent-positive-dimmer)}textarea.negative.__jsx-style-dynamic-selector{border-color:var(--accent-negative-default)}textarea.negative.__jsx-style-dynamic-selector:hover{border-color:var(--accent-negative-dimmer)}textarea.__jsx-style-dynamic-selector:active,textarea.__jsx-style-dynamic-selector:focus{border-color:var(--accent-primary-default)}")})]})})),oy=iy,ay=t(5683),ly=t(83451),sy=t(45347);function cy(e){switch(e){case le.Fl.Match:return"The test passes if the expected output is in the actual output.";case le.Fl.Exact:return"The test passes if the expected output is equal to the actual output.";case le.Fl.Regex:return"The test passes if the actual output matches the regex expression for the expected output.";case le.Fl.Compatibility:return"The test passes if the expected output is in the actual output; some characters are removed for backwards compatibility."}}var uy=function(e){(0,ay.Z)(t,e);var n=(0,sy.Z)(t);function t(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var o;return(0,rf.Z)(this,t),(o=n.call.apply(n,[this].concat((0,D.Z)(r)))).name=o.constructor.name,o}return t}((0,ly.Z)(Error));function dy(e){var n={id:e.id},t={id:-e.id,input:{input:e.input?e.input+"\n":""}};switch(e.type){case"compatibility":n.output={compatibility:{expected:e.output}};break;case"match":n.output={match:{expected:e.output,ignoreTrailingWhitespace:!0}};break;case"exact":n.output={exact:{expected:e.output,allowTrailingNewline:!0}};break;case"regex":n.output={regex:{expression:e.output}}}return{id:e.id,instructions:[t,n]}}function py(e){var n=e.args,t=e.env,r=n.indexOf("--ps1"),i=n.indexOf("--ps2"),o=n.indexOf("-i");return-1!==r&&null!=n[r+1]&&(n[r+1]=""),-1!==i&&null!=n[i+1]&&(n[i+1]=""),-1!==o&&n.splice(o,1),n.includes("-q")||n.unshift(n.shift(),"-q"),t.PS1="",t.PS2="",{args:n,env:t}}function fy(e){return hy.apply(this,arguments)}function hy(){return hy=(0,r.Z)((function(e){var n,t,r,o,a,l,s,c,u,d;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,e.getRunConfig()];case 1:if(!(t=i.sent()))throw new uy("unable to fetch dotreplit run config");if(t.interp){if("stderred"===(null===(o=null===(r=t.interp)||void 0===r?void 0:r.command)||void 0===o?void 0:o.args[0])&&("--"===o.args[1]?o.args.splice(0,2):o.args.shift()),!o||o.args.length<1)throw a=new uy("received interp without command"),If.Tb(a,(function(e){return e.setExtra("runInfo",d)})),a;return o.args[0].match(/(^|\/)prybar/i)?[2,{execCommand:py(o)}]:[2,{execCommand:{args:o.args,env:o.env}}]}if(!(null===(n=t.run)||void 0===n?void 0:n.run))throw l=new uy("Bad repl run config received"),If.Tb(l,(function(e){return e.setExtra("runConfig",t)})),l;return s=t.run,c=s.run,u=s.compile,c.env.PS1="",c.env.PS2="",d={execCommand:{args:c.args,env:c.env}},u&&(u.env.PS1="",u.env.PS2="",d.buildCommand={args:u.args,env:u.env}),[2,d]}}))})),hy.apply(this,arguments)}var my,vy=function(e){var n=e.test,t=e.onSubmit,r=e.onCancel,i=e.isOpen,a=e.onRequestClose,l=(0,L.Z)(h.useState({}),2),s=l[0],c=l[1],u=function(e){return{name:(null===e||void 0===e?void 0:e.name)||"",type:(null===e||void 0===e?void 0:e.type)||le.Fl.Match,input:(null===e||void 0===e?void 0:e.input)||"",output:(null===e||void 0===e?void 0:e.output)||""}},d=(0,it.Z)().showError,p=(0,L.Z)(h.useState(u(n)),2),f=p[0],m=p[1];h.useEffect((function(){m(u(n)),c({})}),[n,m]);var v=function(e,n){c((function(t){return(0,un.Z)((0,se.Z)({},t),(0,ae.Z)({},e,n?void 0:[{message:e+" expected but not provided.",state:"error"}]))}))};return(0,o.tZ)(on.u,{isOpen:i,onRequestClose:a,children:(0,o.BX)("div",{className:sn().dynamic([["550654d38c65c62e",[""===f.type?"--foreground-dimmer":"--foreground-default"]]])+" manage-tests-view",children:[(0,o.tZ)("div",{className:sn().dynamic([["550654d38c65c62e",[""===f.type?"--foreground-dimmer":"--foreground-default"]]])+" header-row",children:(0,o.tZ)(at.Z,{level:4,align:"center",children:n?"Edit test: ":"Create test"})}),(0,o.tZ)("div",{className:sn().dynamic([["550654d38c65c62e",[""===f.type?"--foreground-dimmer":"--foreground-default"]]])+" manage-test-row",children:(0,o.tZ)(st.ZP,{label:"Test name",placeholder:"The name of the test",value:(null===f||void 0===f?void 0:f.name)||"",validationResults:s.name,onChange:function(e){var n;e.persist(),m((function(n){var t;return(0,un.Z)((0,se.Z)({},n),{name:(null===(t=e.target)||void 0===t?void 0:t.value)||""})})),v("name",null===(n=e.target)||void 0===n?void 0:n.value)},maxLength:20})}),(0,o.tZ)("div",{className:sn().dynamic([["550654d38c65c62e",[""===f.type?"--foreground-dimmer":"--foreground-default"]]])+" manage-test-row",children:(0,o.tZ)(oy,{style:{height:"150px"},label:"Input (standard in)",placeholder:"The input for the test",value:f.input,fontFamily:"monospace",translate:"no",onChange:function(e){e.persist(),m((function(n){return(0,un.Z)((0,se.Z)({},n),{input:e.target.value})}))}})}),(0,o.tZ)("div",{className:sn().dynamic([["550654d38c65c62e",[""===f.type?"--foreground-dimmer":"--foreground-default"]]])+" manage-test-row",children:(0,o.tZ)(oy,{style:{height:"150px"},label:"Expected output",validationResults:s.output,placeholder:"The expected output for the test",value:f.output,fontFamily:"monospace",translate:"no",onChange:function(e){var n;e.persist(),m((function(n){return(0,un.Z)((0,se.Z)({},n),{output:e.target.value})})),v("output",null===(n=e.target)||void 0===n?void 0:n.value)}})}),(0,o.tZ)("div",{className:sn().dynamic([["550654d38c65c62e",[""===f.type?"--foreground-dimmer":"--foreground-default"]]])+" manage-test-row",children:(0,o.tZ)("div",{className:sn().dynamic([["550654d38c65c62e",[""===f.type?"--foreground-dimmer":"--foreground-default"]]])+" dropdown-container",children:(0,o.tZ)(ty.Z,{items:[le.Fl.Match,le.Fl.Exact,le.Fl.Regex,le.Fl.Compatibility],renderItemChildComponent:function(e){return(0,o.BX)("a",{className:sn().dynamic([["550654d38c65c62e",[""===f.type?"--foreground-dimmer":"--foreground-default"]]]),children:[e,(0,o.tZ)("br",{className:sn().dynamic([["550654d38c65c62e",[""===f.type?"--foreground-dimmer":"--foreground-default"]]])}),(0,o.tZ)(lt.Z,{size:"xsmall",children:cy(e)})]})},renderAnchorComponent:function(e){var n=e.innerRef,t=(0,oi.Z)(e,["innerRef"]);return(0,o.BX)("a",(0,un.Z)((0,se.Z)({ref:n},t),{className:sn().dynamic([["550654d38c65c62e",[""===f.type?"--foreground-dimmer":"--foreground-default"]]])+" dropdown-view dropdown-anchor",children:[(0,o.tZ)(lt.Z,{children:f.type}),(0,o.tZ)(lt.Z,{children:(0,o.tZ)(Mi.Z,{})})]}))},onClick:function(e){m((function(n){return(0,un.Z)((0,se.Z)({},n),{type:e})}))}})})}),(0,o.BX)("div",{className:sn().dynamic([["550654d38c65c62e",[""===f.type?"--foreground-dimmer":"--foreground-default"]]])+" manage-test-row align-end",children:[(0,o.tZ)(pt.Z,{onClick:r,children:"Cancel"}),(0,o.tZ)(pt.Z,{color:"primary",filled:!0,onClick:function(){if(!f.name||!f.output)return d("Test name and expected output must be provided."),f.name||v("name"),void(f.output||v("output"));f.type?(t({testId:null===n||void 0===n?void 0:n.id,name:f.name,input:f.input||"",type:f.type,output:f.output}),m(u(void 0))):d("A test type must be provided")},children:"Save"})]}),(0,o.tZ)(sn(),{id:"550654d38c65c62e",dynamic:[""===f.type?"--foreground-dimmer":"--foreground-default"],children:".dropdown-container.__jsx-style-dynamic-selector{border:1px solid var(--outline-dimmest);width:100%;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4)}.dropdown-anchor.__jsx-style-dynamic-selector{padding:var(--space-8)}.dropdown-container.__jsx-style-dynamic-selector .anchor{z-index:1}.dropdown-container.__jsx-style-dynamic-selector .dropdown-view{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;text-align:right}.dropdown-container.__jsx-style-dynamic-selector .dropdown-view .text{color:var(".concat(""===f.type?"--foreground-dimmer":"--foreground-default",")}.manage-tests-view.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding:var(--space-16)}.manage-test-row.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;padding-top:var(--space-16)}.align-end.__jsx-style-dynamic-selector{-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.manage-test-row.__jsx-style-dynamic-selector>button{margin-left:var(--space-8)}.manage-test-row-section.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:start;-moz-box-pack:start;-ms-flex-pack:start;justify-content:start;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin:0 var(--space-16);width:100%}")})]})})},gy=function(e){var n=e.test,t=e.onEdit,r=e.onDelete,i=e.onView,a=e.isTeacherView,l=e.status,s=e.isRunning,c=e.onShowFailed,u=e.disableButtons,d="";return l?d=l:s&&(d="Running"),(0,o.BX)("div",{onClick:function(){return i()},className:"jsx-d0055d2df6a917c5 test",children:[(0,o.BX)("div",{className:"jsx-d0055d2df6a917c5 test-row",children:[(0,o.tZ)("div",{className:"jsx-d0055d2df6a917c5 test-text",children:(0,o.tZ)(lt.Z,{size:"large",children:n.name})}),a?(0,o.tZ)("div",{onClick:function(e){return e.stopPropagation()},className:"jsx-d0055d2df6a917c5 test-row",children:(0,o.BX)(o.HY,{children:[(0,o.tZ)(pt.Z,{color:"primary",onClick:t,Icon:Za.Z,disabled:u}),(0,o.tZ)(wa.Z,{width:"var(--space-4)"}),(0,o.tZ)(pt.Z,{onClick:r,color:"negative",Icon:Da.Z,disabled:u})]})}):null]}),l||s?(0,o.BX)(o.HY,{children:[(0,o.tZ)(wa.Z,{height:2}),(0,o.BX)("div",{className:"jsx-d0055d2df6a917c5 test-row",children:[(0,o.tZ)("div",{className:"jsx-d0055d2df6a917c5 test-text",children:(0,o.tZ)(lt.Z,{className:mn()([{"status-passed":"Passed"===l},{"status-failed":"Failed"===l}]),children:d})}),(0,o.tZ)(pt.Z,{onClick:function(e){return e.stopPropagation(),c(e)},disabled:s,children:"Results"})]})]}):null,(0,o.tZ)(sn(),{id:"d0055d2df6a917c5",children:".test.jsx-d0055d2df6a917c5{background-color:var(--background-higher);margin-top:var(--space-8);padding:var(--space-8);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);cursor:pointer}.test-row.jsx-d0055d2df6a917c5 .status-passed{color:var(--accent-positive-default)}.test-row.jsx-d0055d2df6a917c5 .status-failed{color:var(--accent-negative-default)}.test-text.jsx-d0055d2df6a917c5{width:100%;padding:var(--space-4)0;padding-right:var(--space-8);word-break:break-all}.test.jsx-d0055d2df6a917c5:hover{background-color:var(--background-higher)}.test-row.jsx-d0055d2df6a917c5{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:start;-moz-box-pack:start;-ms-flex-pack:start;justify-content:start}"})]})},Zy=function(e){var n=e.text;if(!n)return null;var t=n.split("\n").map((function(e,n){return[e,"".concat(n+1)]}));return""===t[t.length-1][0]&&t.pop(),(0,o.BX)(Jn.Ug,{children:[(0,o.tZ)("code",{className:"jsx-6ac664c130469a42 gutter",children:(0,o.tZ)("pre",{className:"jsx-6ac664c130469a42",children:t.map((function(e){var n=(0,L.Z)(e,2);n[0];return n[1]})).join("\n")})}),(0,o.tZ)("code",{className:"jsx-6ac664c130469a42 text",children:(0,o.tZ)("pre",{className:"jsx-6ac664c130469a42",children:n})}),(0,o.tZ)(sn(),{id:"6ac664c130469a42",children:".gutter.jsx-6ac664c130469a42,.text.jsx-6ac664c130469a42{color:var(--foreground-default)}.gutter.jsx-6ac664c130469a42{min-width:1.5em}.text.jsx-6ac664c130469a42{max-width:80%}"})]})},by=t(72862),xy=t.n(by),yy=function(e){var n=e.expected,t=e.actual;if(!n||!t)return null;var r=t.split("\n"),i=n.split("\n"),a=i.length>r.length?i:r,l=a.map((function(e,n){return[e,"".concat(n+1)]})),s=a.map((function(e,n){var t=n<r.length?r[n]:"",a=n<i.length?i[n]:"";return(0,o.BX)(o.HY,{children:[xy()(t,a).map((function(e,n){var t;return-1===e[0]&&(t={backgroundColor:"var(--accent-negative-dimmer)",textDecoration:"line-through"}),1===e[0]&&(t={backgroundColor:"var(--accent-positive-dimmer)",textDecoration:"underline"}),(0,o.tZ)("span",{style:t,children:e[1]},n)})),(0,o.tZ)("br",{})]})}));return(0,o.BX)(Jn.Ug,{children:[(0,o.tZ)("code",{className:"jsx-6ac664c130469a42 gutter",children:(0,o.tZ)("pre",{className:"jsx-6ac664c130469a42",children:l.map((function(e){var n=(0,L.Z)(e,2);n[0];return n[1]})).join("\n")})}),(0,o.tZ)("code",{className:"jsx-6ac664c130469a42 text",children:(0,o.tZ)("pre",{className:"jsx-6ac664c130469a42",children:s})}),(0,o.tZ)(sn(),{id:"6ac664c130469a42",children:".gutter.jsx-6ac664c130469a42,.text.jsx-6ac664c130469a42{color:var(--foreground-default)}.gutter.jsx-6ac664c130469a42{min-width:1.5em}.text.jsx-6ac664c130469a42{max-width:80%}"})]})},wy=function(e){var n=e.test,t=e.actualOutput,r=e.isOpen,i=e.isResults,a=e.onRequestClose,l=e.didFail,s=e.error,c=n?cy(n.type):"",u=null===t||void 0===t?void 0:t.split("\n"),d=null===n||void 0===n?void 0:n.output.split("\n"),p=null===n||void 0===n?void 0:n.output;return l=null!==l&&void 0!==l?l:"Failed"===(null===n||void 0===n?void 0:n.status),(0,o.BX)(on.u,{onRequestClose:a,isOpen:r&&void 0!==n,children:[(0,o.BX)("div",{className:"jsx-c7ed87540f6ec33d test-info",children:[(0,o.BX)(Jn.gC,{align:"center",spacing:1,children:[(0,o.BX)(at.Z,{level:4,children:[i?"Test results: ":null,null===n||void 0===n?void 0:n.name]}),(0,o.BX)(Jn.Ug,{spacing:1,children:[(0,o.tZ)("div",{role:"tooltip","data-microtip-position":"top","aria-label":c,className:"jsx-c7ed87540f6ec33d test-type",children:(0,o.tZ)(lt.Z,{align:"center",size:"small",children:null===n||void 0===n?void 0:n.type})}),i&&(null===n||void 0===n?void 0:n.status)?(0,o.tZ)("div",{className:"jsx-c7ed87540f6ec33d "+"test-status ".concat(null===n||void 0===n?void 0:n.status),children:(0,o.tZ)(lt.Z,{align:"center",size:"small",children:null===n||void 0===n?void 0:n.status})}):null]})]}),(0,o.tZ)(wa.Z,{height:6}),(0,o.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-row",children:(0,o.BX)("div",{className:"jsx-c7ed87540f6ec33d test-io-section",children:[(0,o.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-label",children:i?(0,o.BX)(Jn.Ug,{spacing:1,align:"center",children:[(0,o.tZ)(lt.Z,{size:"medium",children:"Expected output"}),(0,o.tZ)(lt.Z,{size:"xsmall",children:(0,o.tZ)("span",{"data-microtip-position":"top",role:"tooltip","aria-label":"Your program is expected to print this output.",className:"jsx-c7ed87540f6ec33d help",children:"?"})})]}):(0,o.tZ)(lt.Z,{size:"medium",children:"Output"})}),(0,o.tZ)(wa.Z,{height:"var(--space-8)"}),(0,o.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-box",children:(0,o.tZ)(Zy,{text:null===n||void 0===n?void 0:n.output})})]})}),(0,o.tZ)(wa.Z,{height:2}),(0,o.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-row",children:(0,o.BX)("div",{className:"jsx-c7ed87540f6ec33d test-io-section",children:[(0,o.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-label",children:i?(0,o.BX)(Jn.Ug,{spacing:1,align:"center",children:[(0,o.tZ)(lt.Z,{size:"medium",children:"Actual output"}),(0,o.tZ)(lt.Z,{size:"xsmall",children:(0,o.tZ)("span",{"data-microtip-position":"top",role:"tooltip","aria-label":"Your program actually printed this output.",className:"jsx-c7ed87540f6ec33d help",children:"?"})})]}):(0,o.tZ)(lt.Z,{size:"medium",children:"Input"})}),(0,o.tZ)(wa.Z,{height:"var(--space-8)"}),(0,o.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-box",children:(0,o.tZ)(Zy,{text:i?t:null===n||void 0===n?void 0:n.input})})]})}),i&&l?(0,o.tZ)(o.HY,{children:s?(0,o.BX)(o.HY,{children:[(0,o.tZ)(wa.Z,{height:2}),(0,o.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-row",children:(0,o.BX)("div",{className:"jsx-c7ed87540f6ec33d test-io-section",children:[(0,o.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-label",children:(0,o.tZ)(lt.Z,{size:"medium",children:"Error(s)"})}),(0,o.tZ)(wa.Z,{height:"var(--space-8)"}),(0,o.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-box",children:(0,o.tZ)(Zy,{text:s.stderr||s.message})})]})})]}):(null===n||void 0===n?void 0:n.type)!==le.Fl.Regex&&d&&u&&(0,o.BX)(o.HY,{children:[(0,o.tZ)(wa.Z,{height:2}),(0,o.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-row",children:(0,o.BX)("div",{className:"jsx-c7ed87540f6ec33d test-io-section",children:[(0,o.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-label",children:(0,o.BX)(Jn.Ug,{spacing:1,align:"center",children:[(0,o.tZ)(lt.Z,{size:"medium",children:"Difference"}),(0,o.tZ)(lt.Z,{size:"xsmall",children:(0,o.tZ)("span",{"data-microtip-position":"top",role:"tooltip","aria-label":"Modify your output to match the expected output.",className:"jsx-c7ed87540f6ec33d help",children:"?"})})]})}),(0,o.tZ)(wa.Z,{height:"var(--space-8)"}),(0,o.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-box",children:(0,o.tZ)(yy,{expected:p,actual:t})})]})})]})}):null]}),(0,o.tZ)(sn(),{id:"c7ed87540f6ec33d",children:".test-info.jsx-c7ed87540f6ec33d{padding:var(--space-24);display:relative}.test-io-line-spacing.jsx-c7ed87540f6ec33d{width:var(--space-8);-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.test-io-row.jsx-c7ed87540f6ec33d{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.test-io-line-number.jsx-c7ed87540f6ec33d{display:inline-block;min-width:1.5em;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.test-io-line.jsx-c7ed87540f6ec33d{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-webkit-justify-content:start;-moz-box-pack:start;-ms-flex-pack:start;justify-content:start;font-family:var(--font-family-code)}.test-io-line-content.jsx-c7ed87540f6ec33d{display:inline-block}.test-io-label.jsx-c7ed87540f6ec33d{padding-bottom:var(--space-8);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.test-io-label.jsx-c7ed87540f6ec33d .text{color:var(--foreground-dimmer)}.test-io-section.jsx-c7ed87540f6ec33d{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:start;-moz-box-pack:start;-ms-flex-pack:start;justify-content:start;width:100%}.test-io-box.jsx-c7ed87540f6ec33d{height:100%;border:1px solid var(--outline-dimmest);-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);padding:var(--space-8);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;overflow-x:auto}.test-io-box.jsx-c7ed87540f6ec33d .text{white-space:nowrap}.test-type.jsx-c7ed87540f6ec33d,.test-status.jsx-c7ed87540f6ec33d{background-color:var(--background-highest);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);padding:var(--space-8);display:inline-block;spacing:1;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.test-status.jsx-c7ed87540f6ec33d .text{color:var(--white)}.test-status.Passed.jsx-c7ed87540f6ec33d{background-color:var(--accent-positive-default)}.test-status.Failed.jsx-c7ed87540f6ec33d{background-color:var(--accent-negative-default)}.help.jsx-c7ed87540f6ec33d{display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;border:1px solid var(--background-higher);-webkit-border-radius:100%;-moz-border-radius:100%;border-radius:100%;width:var(--space-16);height:var(--space-16);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}"})]})},Cy=t(24157),ky=t(67590),Ly=function(){var e,n,t,r,i,a,l,s,c=(0,_.Z)(),u=c.iotester,d=c.dotReplit,p=c.container,f=(0,it.Z)(),m=f.showError,v=f.showConfirm,g=(0,L.Z)(h.useState([]),2),Z=g[0],b=g[1],x=(0,L.Z)(h.useState(),2),y=x[0],w=x[1],C=(0,L.Z)(h.useState(p.getConnectionState()),2),k=C[0],S=C[1],R=(0,L.Z)(h.useState(u.state),2),I=R[0],T=R[1],B=(0,L.Z)(h.useState(),2),E=B[0],G=B[1],M=(0,ky.x)();h.useEffect((function(){return p.onConnectionStateChanged(S)}),[S,p]);var D=(0,kn.Z)(),P=(0,Jt.CH)({variables:{replId:D}}),j="Repl"===(null===(e=P.data)||void 0===e||null===(n=e.repl)||void 0===n?void 0:n.__typename)?P.data.repl:null,U="Team"===(null===j||void 0===j||null===(t=j.owner)||void 0===t?void 0:t.__typename)&&j.owner.id||null,X=(0,L.Z)((0,Jt.vk)({onCompleted:function(e){e&&e.saveIOTestResults&&m(e.saveIOTestResults.message)}}),1)[0];h.useEffect((function(){var e=[u.onStateChanged((function(e){T(e),U&&e===Cy.Z.Idle&&b((function(e){var n;return X({variables:{replId:D,results:Object.values(e).map((function(e){var t;return{testId:e.testId,status:e.status,output:(null===(t=e.error)||void 0===t?void 0:t.stderr)?(null!==(n=e.output)&&void 0!==n?n:"")+e.error:e.output}})),teamId:U}}).catch((function(n){If.Tb(n,(function(n){return n.setExtras({results:e,payload:E})}))})),e}))})),u.onError((function(e){m(e.message)})),u.onTestResult((function(e){b((function(n){var t=(0,un.Z)((0,se.Z)({},n[e.testId]),{testId:e.testId,status:"passed"===e.body?le.kQ.Passed:le.kQ.Failed});return"error"===e.body&&(t.error=e.error),(0,un.Z)((0,se.Z)({},n),(0,ae.Z)({},e.testId,t))}))})),u.onInstructionResult((function(e){b((function(n){var t,r,i=Math.abs(e.instructionId),o="";switch(e.body){case"passed":var a;o+=null!==(a=e.passed.output)&&void 0!==a?a:"";break;case"failed":var l;o+=null!==(l=e.failed.output)&&void 0!==l?l:"";break;case"timeout":var s;o+=null!==(s=e.timeout.output)&&void 0!==s?s:"";break;case"error":o+=e.error.message}return(0,un.Z)((0,se.Z)({},n),(0,ae.Z)({},i,(0,un.Z)((0,se.Z)({},n[i]),{testId:i,output:(null!==(r=null===(t=Z[i])||void 0===t?void 0:t.output)&&void 0!==r?r:"")+o})))}))}))];return function(){return e.forEach((function(e){return e()}))}}),[Z,m,T,u,D,U,E,X]),h.useEffect((function(){var e=function(e){(0,gr.Z)(e,Error)&&m(e.message),If.Tb(e)};return fy(d).then(w).catch(e),d.watch((function(){return fy(d).then(w).catch(e)}))}),[d,w,m]);var V=null===j||void 0===j?void 0:j.ioTests,z=(0,L.Z)((0,Jt.Ne)({onError:function(e){return m(e.message)},onCompleted:function(e){var n;"UserError"===(null===(n=e.deleteTemplateTest)||void 0===n?void 0:n.__typename)?m(e.deleteTemplateTest.message):(v("Test deleted!"),P.refetch())}}),2),W=z[0],A=z[1],F=(0,L.Z)((0,Jt.AA)({onError:function(e){return m(e.message)},onCompleted:function(e){var n;"UserError"===(null===(n=e.updateTemplateTest)||void 0===n?void 0:n.__typename)?m(e.updateTemplateTest.message):"ReplTemplateTest"===e.updateTemplateTest.__typename&&(v("Test updated!"),M.writeFragment({fragment:Jt.Gg,data:e.updateTemplateTest}))}}),2),N=F[0],O=F[1],H=(0,L.Z)((0,Jt.pV)({onError:function(e){return m(e.message)},onCompleted:function(e){var n;"UserError"===(null===(n=e.createTemplateTest)||void 0===n?void 0:n.__typename)?m(e.createTemplateTest.message):(v("Test created!"),P.refetch())}}),2),q=H[0],Y=H[1],K=P.loading||A.called&&A.loading||O.called&&O.loading||Y.called&&Y.loading;h.useEffect((function(){K||G(y&&V&&V.length>0?{runInfo:y,tests:V.map(dy)}:void 0)}),[V,y,G,K]);var Q=(0,L.Z)(h.useState(!1),2),J=Q[0],ee=Q[1],ne=(0,L.Z)(h.useState(!1),2),te=ne[0],re=ne[1],ie=(0,L.Z)(h.useState(!1),2),oe=ie[0],ce=ie[1],ue=(0,L.Z)(h.useState(),2),de=ue[0],pe=ue[1],fe="undefined"!==typeof de&&"Repl"===(null===(r=P.data)||void 0===r?void 0:r.repl.__typename)&&P.data.repl.ioTests[de]||void 0,he="Repl"===(null===(i=P.data)||void 0===i?void 0:i.repl.__typename)&&P.data.repl.isProject;if(P.error)return(0,o.BX)("div",{className:"jsx-fb1466c53ace89ca wrapper",children:[(0,o.tZ)(lt.Z,{align:"center",children:"Unable to fetch tests"}),(0,o.tZ)(sn(),{id:"fb1466c53ace89ca",children:".wrapper.jsx-fb1466c53ace89ca{padding:var(--deprecated-spacing-2);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}"})]});var me=function(e){var n;if(void 0!==(null===(n=Z[e])||void 0===n?void 0:n.status))return Z[e].status===le.kQ.Passed?"Passed":"Failed"};return(0,o.BX)("div",{className:"jsx-69bed4444090144f tests-panel",children:[(0,o.tZ)("div",{className:"jsx-69bed4444090144f tests-header",children:(0,o.tZ)(at.Z,{level:4,children:"Input/Output Tests"})}),P.loading?(0,o.tZ)("div",{className:"jsx-69bed4444090144f spinner",children:(0,o.tZ)(vn.Z,{})}):(0,o.BX)("div",{className:"jsx-69bed4444090144f tests",children:[(0,o.BX)("div",{className:"jsx-69bed4444090144f button-bar",children:[he?(0,o.tZ)(pt.Z,{color:"green",Icon:$.Z,className:"create-test-button",disabled:K||I!==Cy.Z.Idle,onClick:function(){pe(void 0),ee(!0)},children:"Create test"}):null,!he&&V&&0===V.length?(0,o.tZ)(lt.Z,{children:"This project has no tests "}):(0,o.tZ)(pt.Z,{color:"positive",Icon:Dc.Z,onClick:function(){var e;if(!E||"Repl"!==(null===j||void 0===j?void 0:j.__typename)||"Team"!==(null===(e=j.owner)||void 0===e?void 0:e.__typename)||u.state!==Cy.Z.Idle){var n=new Error("no tests or run info");throw If.Tb(n,(function(e){return e.setExtra("payload",E)})),n}b({}),u.run(E).catch((function(e){If.Tb(e,(function(e){return e.setExtra("payload",E)})),m(e.message)}))},disabled:K||I!==Cy.Z.Idle||!E||k!==sf.em.CONNECTED,children:"Run tests"})]}),null===V||void 0===V?void 0:V.map((function(e,n){return(0,o.tZ)(gy,{test:e,onEdit:function(){pe(n),ee(!0)},onDelete:function(){W({variables:{testId:e.id}})},onView:function(){pe(n),re(!0),ce(!1)},onShowFailed:function(){pe(n),re(!0),ce(!0)},isRunning:I!==Cy.Z.Idle&&void 0!==Z[e.id]&&void 0===Z[e.id].status,isTeacherView:he,status:me(e.id),disableButtons:K||I!==Cy.Z.Idle},e.id)})),(0,o.tZ)(vy,{test:fe,isOpen:J,readOnly:!he,onRequestClose:function(){ee(!1),pe(void 0)},onCancel:function(){ee(!1),pe(void 0)},onSubmit:function(e){var n,t,r,i;void 0!==e.testId?(N({variables:{input:e}}),pe(void 0)):"Repl"===(null===(n=P.data)||void 0===n||null===(t=n.repl)||void 0===t?void 0:t.__typename)&&(null===(r=P.data)||void 0===r||null===(i=r.repl)||void 0===i?void 0:i.template)&&q({variables:{input:(0,un.Z)((0,se.Z)({},e),{templateId:P.data.repl.template.id})}}),ee(!1)}}),(0,o.tZ)(wy,{test:fe,isOpen:te,actualOutput:"undefined"!==typeof fe?null===(a=Z[fe.id])||void 0===a?void 0:a.output:void 0,error:fe&&(null===(l=Z[fe.id])||void 0===l?void 0:l.error),didFail:fe&&(null===(s=Z[fe.id])||void 0===s?void 0:s.status)===le.kQ.Failed,isResults:oe,onRequestClose:function(){re(!1),pe(void 0)}})]}),(0,o.tZ)(sn(),{id:"69bed4444090144f",children:".flex-grow.jsx-69bed4444090144f{-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1}.spacer-1.jsx-69bed4444090144f{padding:var(--space-4)}.tests-header.jsx-69bed4444090144f{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;position:relative;padding:var(--space-4)0 var(--space-8)0;margin-bottom:var(--space-8);color:var(--foreground-default);width:100%;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.button-bar.jsx-69bed4444090144f{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;-moz-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-bottom:var(--space-8)}.button-bar.jsx-69bed4444090144f>button{margin-right:var(--space-8);margin-bottom:var(--space-8)}.spinner.jsx-69bed4444090144f{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.tests-panel.jsx-69bed4444090144f{min-width:200px;background-color:var(--background-default);color:var(--foreground-default);overflow:hidden auto}.section.jsx-69bed4444090144f{height:-webkit-calc(100% - 50px);height:-moz-calc(100% - 50px);height:calc(100% - 50px)}"})]})},Sy=t(59029);function Ry(){var e=(0,L.Z)(h.useState(null),2),n=e[0],t=e[1],r=h.useRef(my.None),i=(0,kn.Z)(),a=(0,Sy.Z)(),l=a.language,s=a.isLoading,c=(0,Jt.CH)({variables:{replId:i}}),u=c.loading;return h.useEffect((function(){var e,n,i=null===(e=c.data)||void 0===e?void 0:e.repl;if("Repl"===(null===i||void 0===i?void 0:i.__typename)){var o=i.unitTests,a=i.ioTests,l=my.Choose;l=a.length>0?my.IO:(null===o||void 0===o?void 0:o.tests)&&(null===(n=o.tests)||void 0===n?void 0:n.length)>0||(null===o||void 0===o?void 0:o.meta)?my.Unit:i.currentUserPermissions.writeTests?r.current!==my.None?r.current:my.Choose:my.None,t(l)}}),[c.data]),u||s?(0,o.BX)("div",{className:"jsx-1652fb32f8a812d3",children:[(0,o.tZ)(vn.Z,{size:32}),(0,o.tZ)(sn(),{id:"1652fb32f8a812d3",children:"div.jsx-1652fb32f8a812d3{height:100%;width:100%;background-color:var(--background-default);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}"})]}):(0,o.BX)("div",{className:"jsx-ba2c7540ad19d138 testing-controller",children:[n===my.None&&(0,o.tZ)("div",{className:"jsx-ba2c7540ad19d138 empty",children:(0,o.tZ)(lt.Z,{children:"No tests found"})}),n===my.Choose&&(0,o.BX)(Jn.gC,{align:"center",spacing:2,children:[(0,o.tZ)(at.Z,{align:"center",level:3,children:"Choose a testing method"}),(0,o.BX)("div",{onClick:function(){t(my.Unit),r.current=my.Unit},className:"jsx-ba2c7540ad19d138 "+(mn()("panel",{"is-disabled":!l})||""),children:[(0,o.tZ)(at.Z,{level:4,children:"Unit tests"}),(0,o.tZ)(lt.Z,{align:"center",children:l?"A language specific framework that tests individual functions":"Unit tests are not currently supported for this language"})]}),(0,o.tZ)("div",{onClick:function(){t(my.IO),r.current=my.IO},className:"jsx-ba2c7540ad19d138 panel",children:(0,o.BX)(Jn.gC,{spacing:1,align:"center",children:[(0,o.tZ)(at.Z,{level:4,children:"Input output tests"}),(0,o.tZ)(lt.Z,{align:"center",children:"Test your program via standard in, and assert based on the result of standard out"})]})})]}),n===my.IO&&(0,o.tZ)(Ly,{}),n===my.Unit&&(0,o.tZ)(ny.Z,{onBack:function(){return t(my.Choose)}}),(0,o.tZ)(sn(),{id:"ba2c7540ad19d138",children:".empty.jsx-ba2c7540ad19d138{padding:var(--space-16);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);-webkit-box-shadow:var(--shadow-2);-moz-box-shadow:var(--shadow-2);box-shadow:var(--shadow-2);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.testing-controller.jsx-ba2c7540ad19d138{overflow-y:auto;padding:var(--space-8);height:100%;width:100%;background-color:var(--background-default);-webkit-box-shadow:var(--shadow-1);-moz-box-shadow:var(--shadow-1);box-shadow:var(--shadow-1)}.panel.jsx-ba2c7540ad19d138{width:100%;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);border:1px solid var(--background-higher);max-width:200px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;padding:var(--space-8)}.panel.jsx-ba2c7540ad19d138:hover{background-color:var(--background-root)}.panel.is-disabled.jsx-ba2c7540ad19d138{opacity:.5;pointer-events:none}"})]})}!function(e){e[e.None=0]="None",e[e.Choose=1]="Choose",e[e.Unit=2]="Unit",e[e.IO=3]="IO"}(my||(my={}));var Iy={Content:function(){return(0,o.tZ)(Ry,{})},Icon:function(e){var n=e.size;return(0,o.tZ)(er.Z,{size:n})},getTitle:function(){return"Tests"}};function Ty(){var e=(0,ce.Z)(["\n  fragment EducationPaneRepl on Repl {\n    id\n    title\n    url\n    timeCreated\n    slug\n  }\n"]);return Ty=function(){return e},e}function By(){var e=(0,ce.Z)(["\n  fragment EducationPaneTemplate on ReplTemplate {\n    id\n    dueDate\n    repl {\n      id\n      ...EducationPaneRepl\n    }\n  }\n  ","\n"]);return By=function(){return e},e}function Ey(){var e=(0,ce.Z)(["\n  fragment EducationPaneUser on User {\n    id\n    username\n    firstName\n    lastName\n    fullName\n    image\n  }\n"]);return Ey=function(){return e},e}function Gy(){var e=(0,ce.Z)(["\n  fragment EducationPaneReplSubmission on ReplSubmission {\n    id\n    timeSubmitted\n    timeLastReviewed\n    author {\n      id\n      ...EducationPaneUser\n    }\n    repl {\n      id\n      ...EducationPaneRepl\n    }\n    isGroupSubmission\n    submissionGroup {\n      users {\n        id\n        ...EducationPaneUser\n      }\n    }\n  }\n  ","\n  ","\n"]);return Gy=function(){return e},e}function My(){var e=(0,ce.Z)(["\n  fragment EducationPaneTemplateWithSubmissions on ReplTemplate {\n    id\n    ...EducationPaneTemplate\n    submissions {\n      id\n      ...EducationPaneReplSubmission\n    }\n  }\n  ","\n  ","\n"]);return My=function(){return e},e}function Dy(){var e=(0,ce.Z)(['\n  fragment EducationPaneTeam on Team {\n    id\n    templates {\n      id\n      ...EducationPaneTemplate\n    }\n    username\n    displayName\n    image\n    students: members(permissions: "member") {\n      id\n      permissions\n      nickname\n      user {\n        id\n        ...EducationPaneUser\n      }\n    }\n  }\n  ',"\n  ","\n"]);return Dy=function(){return e},e}function Py(){var e=(0,ce.Z)(["\n  fragment EducationPaneReplAttachment on ReplAttachment {\n    id\n    fileName\n    mimeType\n    contents\n    timeCreated\n    timeUpdated\n  }\n"]);return Py=function(){return e},e}function jy(){var e=(0,ce.Z)(["\n  query EducationPane($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        isProject\n        isProjectFork\n        ...EducationPaneRepl\n        owner {\n          ... on Team {\n            id\n            ...EducationPaneTeam\n          }\n        }\n        template {\n          id\n          ...EducationPaneTemplateWithSubmissions\n        }\n        submission {\n          id\n          ...EducationPaneReplSubmission\n        }\n        attachments {\n          id\n          ...EducationPaneReplAttachment\n        }\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return jy=function(){return e},e}function _y(){var e=(0,ce.Z)(["\n  mutation EducationPaneUploadReplAttachment(\n    $input: UploadReplAttachmentInput!\n  ) {\n    uploadReplAttachment(input: $input) {\n      ... on Repl {\n        id\n        attachments {\n          id\n          ...EducationPaneReplAttachment\n        }\n      }\n    }\n  }\n  ","\n"]);return _y=function(){return e},e}function Uy(){var e=(0,ce.Z)(["\n  mutation MarkSubmissionReviewed($replId: String!, $status: Boolean!) {\n    reviewRepl(replId: $replId, status: $status) {\n      ... on UserError {\n        message\n      }\n      ... on Repl {\n        id\n        submission {\n          id\n          timeLastReviewed\n        }\n      }\n    }\n  }\n"]);return Uy=function(){return e},e}function Xy(){var e=(0,ce.Z)(["\n  mutation UnsubmitSubmission($replId: String!) {\n    unsubmitRepl(replId: $replId) {\n      ... on UserError {\n        message\n      }\n      ... on Repl {\n        id\n        submission {\n          id\n          timeSubmitted\n          timeLastReviewed\n        }\n      }\n    }\n  }\n"]);return Xy=function(){return e},e}var Vy={},zy=(0,ue.Ps)(Ty()),Wy=(0,ue.Ps)(By(),zy),Ay=(0,ue.Ps)(Ey()),Fy=(0,ue.Ps)(Gy(),Ay,zy),Ny=(0,ue.Ps)(My(),Wy,Fy),Oy=(0,ue.Ps)(Dy(),Wy,Ay),Hy=(0,ue.Ps)(Py()),qy=(0,ue.Ps)(jy(),zy,Oy,Ny,Fy,Hy);var $y=(0,ue.Ps)(_y(),Hy);var Yy=(0,ue.Ps)(Uy());var Ky=(0,ue.Ps)(Xy());var Qy,Jy=t(35742),ew=t(41579),nw=function(){return(0,o.BX)(p.G,{title:"late",css:[u.l0.fontSize("small"),u.l0.px(4),u.l0.borderRadius(4),u.l0.color.accentNegativeDefault,{border:"1px solid",borderColor:u.TV.accentNegativeDefault}],children:["late",(0,o.tZ)(sn(),{id:"4b00beb7f87eecca",children:"span.jsx-4b00beb7f87eecca{color:var(--accent-negative-default)}"})]})},tw=t(94088),rw=p.K.a,iw=p.K.div;function ow(e){var n=Qy.NotStarted,t=Qy.Started,r=Qy.Submitted,i=Qy.Reviewed;switch(e){case n:return"Not Started";case t:return"Not submitted yet";case r:return"Submitted (waiting for review)";case i:return"Reviewed";default:return""}}function aw(e){return e?e.timeSubmitted||e.timeLastReviewed?e.timeSubmitted&&!e.timeLastReviewed?Qy.Submitted:!e.timeSubmitted&&e.timeLastReviewed?Qy.Reviewed:e.timeSubmitted&&e.timeLastReviewed?new Date(e.timeSubmitted)>new Date(e.timeLastReviewed)?Qy.Submitted:Qy.Reviewed:void 0:Qy.Started:Qy.NotStarted}!function(e){e.NotStarted="not-started",e.Started="started",e.Submitted="submitted",e.Reviewed="reviewed"}(Qy||(Qy={}));var lw,sw=function(e,n){var t=e.indexOf("?"),r=new URLSearchParams(-1===t?"":e.slice(t));r.append("submissionReview","true");var i=-1===t?e:e.slice(0,t);return n?"".concat(i,"?").concat(r.toString(),"#").concat(n):"".concat(i,"?").concat(r.toString())},cw=(lw={},(0,ae.Z)(lw,Qy.Started,u.TV.blueDefault),(0,ae.Z)(lw,Qy.NotStarted,u.TV.foregroundDimmest),(0,ae.Z)(lw,Qy.Reviewed,u.TV.greenDefault),(0,ae.Z)(lw,Qy.Submitted,u.TV.yellowDefault),lw);function uw(e){var n=e.status,t=e.highlighted?u.TV.foregroundDefault:cw[n];return(0,o.tZ)(pn.u,{tooltip:ow(n),placement:"right",children:(0,o.BX)(p.G,{children:[n===Qy.Submitted?(0,o.tZ)(tw.Z,{color:t}):null,n===Qy.Reviewed?(0,o.tZ)(er.Z,{color:t}):null,n===Qy.Started?(0,o.tZ)(P.Z,{color:t}):null,n===Qy.NotStarted?(0,o.tZ)(nt.Z,{color:t}):null]})})}function dw(e){var n=e.result,t=e.highlighted,r=e.current,i=e.isLate,a=(0,W.R3)(),l=!r&&n.url?sw(n.url,a):"",s=(0,o.BX)(p.G,{css:[u.l0.p(8),u.l0.rowWithGap(8),u.l0.justify.spaceBetween,u.l0.align.center,n.status===Qy.NotStarted&&{opacity:t?1:.4},t&&{backgroundColor:tn.gU.listItem[":not([disabled])"][":not(textarea):active"].backgroundColor},r&&{backgroundColor:u.TV.accentPrimaryDimmer,color:u.TV.foregroundDefault}],children:[(0,o.BX)(p.G,{css:[u.l0.rowWithGap(4),u.l0.align.center,u.l0.flex.growAndShrink(1)],children:[(0,o.tZ)(dn.q,{size:24,username:n.name,src:n.image}),(0,o.tZ)(d.xv,{css:u.l0.flex.growAndShrink(1),children:n.name}),i?(0,o.tZ)(nw,{}):null]}),n.status?(0,o.tZ)(uw,{status:n.status,highlighted:t||r}):null]});return l?(0,o.tZ)(rw,{href:l,style:{color:"inherit"},children:s}):s}var pw=function(e){var n=e.team,t=e.submission,r=e.submissionList,i=e.template,a=(0,L.Z)(h.useState([]),2),l=a[0],s=a[1],c=(0,L.Z)(h.useState(""),2),d=c[0],f=c[1],m=(0,Kg.Kb)({items:l,defaultHighlightedIndex:0}),v=m.isOpen,g=m.getComboboxProps,Z=m.getInputProps,b=m.getMenuProps,x=m.getItemProps,y=m.getToggleButtonProps,w=m.highlightedIndex,C=m.openMenu,k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(t.isGroupSubmission){var i=r;0!==e.length&&(i=i.filter((function(n){var t;return null===(t=n.submissionGroup)||void 0===t?void 0:t.users.some((function(n){var t;return null===(t=(null===n||void 0===n?void 0:n.fullName)||(null===n||void 0===n?void 0:n.username))||void 0===t?void 0:t.toLocaleLowerCase().includes(e.toLocaleLowerCase())}))})));var o=i.map((function(e){var n,t,r,i,o=(null===e||void 0===e||null===(n=e.submissionGroup)||void 0===n?void 0:n.users.map((function(e){return(null===e||void 0===e?void 0:e.fullName)||(null===e||void 0===e?void 0:e.username)||""})).join(", "))||"";return{image:(null===(r=null===e||void 0===e||null===(t=e.submissionGroup)||void 0===t?void 0:t.users[0])||void 0===r?void 0:r.image)||"",name:o,url:null===(i=e.repl)||void 0===i?void 0:i.url,status:aw(e),submissionId:e.id,timeSubmitted:null===e||void 0===e?void 0:e.timeSubmitted}}));s((0,D.Z)(o))}else{var a=n.students;a=0===e.length?a.filter((function(e){return e.user})).sort((function(e,n){var t,r,i,o;return(e.nickname||(null===(t=e.user)||void 0===t?void 0:t.fullName)||(null===(r=e.user)||void 0===r?void 0:r.username)||"").localeCompare(n.nickname||(null===(i=n.user)||void 0===i?void 0:i.fullName)||(null===(o=n.user)||void 0===o?void 0:o.username)||"")})):a.filter((function(n){var t,r,i;return null===(i=n.nickname||(null===(t=n.user)||void 0===t?void 0:t.fullName)||(null===(r=n.user)||void 0===r?void 0:r.username))||void 0===i?void 0:i.toLocaleLowerCase().includes(e.toLocaleLowerCase())}));var l=a.map((function(e){var n,t,i,o,a=r.find((function(n){var t,r;return(null===(t=n.author)||void 0===t?void 0:t.id)===(null===(r=e.user)||void 0===r?void 0:r.id)}));return{image:(null===(n=e.user)||void 0===n?void 0:n.image)||"",name:e.nickname||(null===(t=e.user)||void 0===t?void 0:t.fullName)||(null===(i=e.user)||void 0===i?void 0:i.username)||"",url:null===a||void 0===a||null===(o=a.repl)||void 0===o?void 0:o.url,status:aw(a),submissionId:null===a||void 0===a?void 0:a.id,timeSubmitted:null===a||void 0===a?void 0:a.timeSubmitted}}));s((0,D.Z)(l))}};return(0,o.BX)(p.G,{css:[u.l0.position.relative,{zIndex:2}],children:[(0,o.BX)(iw,(0,un.Z)((0,se.Z)({css:[u.l0.position.relative]},g()),{children:[(0,o.tZ)(za.II,(0,se.Z)({},Z({value:d,placeholder:"Switch submission",onKeyDown:function(e){"Escape"===e.key&&s([])},onChange:function(e){var n=e.target.value;k(n),f(n)},onFocus:function(){k(),C()}}))),(0,o.tZ)(p.G,{css:[u.l0.position.absolute,u.l0.top(0),u.l0.right(0),u.l0.height("100%"),u.l0.center],children:d?(0,o.tZ)(p.G,{css:[u.l0.reset.button,u.l0.cursor.pointer,u.l0.px(8)],onClick:function(){return f("")},tag:"button",children:(0,o.tZ)(ot.Z,{})}):(0,o.tZ)(p.G,(0,un.Z)((0,se.Z)({css:[u.l0.reset.button,u.l0.cursor.pointer,u.l0.px(8)]},y({refKey:"innerRef"})),{tag:"button",children:(0,o.tZ)(ni.Z,{})}))})]})),(0,o.tZ)(Je.T,(0,un.Z)((0,se.Z)({tag:"ul",elevated:!0,css:[{zIndex:1,position:"absolute",overflowY:"auto",width:"100%",left:0,top:"calc(100% + ".concat(u.TV.space8,")"),border:"1px solid",borderColor:u.TV.outlineDimmest,listStyle:"none"},!v&&{visibility:"hidden"},u.l0.borderRadius(8),u.l0.maxHeight(400)]},b({refKey:"innerRef"})),{children:l.map((function(e,n){var r=e.submissionId===t.id,a=!e.url;return(0,o.tZ)(p.G,(0,un.Z)((0,se.Z)({tag:"li",css:[!a&&u.l0.cursor.pointer]},x({index:n,item:e,refKey:"innerRef",disabled:a,onClick:function(e){e.nativeEvent.preventDownshiftDefault=!0}})),{children:(0,o.tZ)(dw,{result:e,highlighted:w===n,current:r,isLate:i.dueDate&&e.timeSubmitted&&i.dueDate<e.timeSubmitted})}),e.name)}))}))]})},fw=t(11926),hw=function(e){return{short:(0,dZ.Z)(e,"do MMM"),long:(0,dZ.Z)(e,"do MMM, hh:mm a")}},mw=function(e,n){var t=e.students.find((function(e){var t;return(null===(t=e.user)||void 0===t?void 0:t.id)===(null===n||void 0===n?void 0:n.id)}));return(null===t||void 0===t?void 0:t.nickname)||(null===n||void 0===n?void 0:n.fullName)||"@".concat(null===n||void 0===n?void 0:n.username)};function vw(e){var n=e.submission,t=e.submissionList,r=(0,W.R3)(),i=t.findIndex((function(e){return e.id===n.id})),a=t[i-1],l=t[i+1],s=t.filter((function(e){return e.timeLastReviewed})).length;return(0,o.BX)(p.G,{css:u.l0.rowWithGap(8),children:[t.length===s?(0,o.BX)(p.G,{css:[u.l0.rowWithGap(4),u.l0.flex.growAndShrink(1)],children:[(0,o.tZ)(er.Z,{color:u.TV.greenDefault}),(0,o.BX)(d.xv,{color:"dimmer",css:[u.l0.flex.growAndShrink(1)],children:["All ",s," submissions reviewed"]})]}):(0,o.BX)(p.G,{css:[u.l0.rowWithGap(8),u.l0.flex.growAndShrink(1),u.l0.align.center],children:[(0,o.tZ)(pn.u,{tooltip:"Reviewed",children:(0,o.BX)(p.G,{css:[u.l0.rowWithGap(4),u.l0.align.center],children:[(0,o.tZ)(er.Z,{color:u.TV.greenDefault}),(0,o.tZ)(d.xv,{color:"dimmer",children:s})]})}),(0,o.tZ)(pn.u,{tooltip:"Waiting for review",children:(0,o.BX)(p.G,{css:[u.l0.rowWithGap(4),u.l0.align.center],children:[(0,o.tZ)(tw.Z,{size:12,color:u.TV.yellowDefault}),(0,o.tZ)(d.xv,{variant:"small",color:"dimmer",children:t.length-s})]})})]}),(0,o.BX)(p.G,{css:[u.l0.rowWithGap(4)],children:[(null===a||void 0===a?void 0:a.repl)?(0,o.tZ)(Wr.Z,{small:!0,outlined:!0,href:sw(a.repl.url,r),text:"",iconLeft:(0,o.tZ)(Ov.Z,{})}):(0,o.tZ)(en.zx,{small:!0,outlined:!0,text:"",disabled:!0,iconLeft:(0,o.tZ)(Ov.Z,{})}),(null===l||void 0===l?void 0:l.repl)?(0,o.tZ)(Wr.Z,{small:!0,outlined:!0,href:sw(l.repl.url,r),text:"",iconRight:(0,o.tZ)(jo.Z,{})}):(0,o.tZ)(en.zx,{small:!0,outlined:!0,text:"",disabled:!0,iconRight:(0,o.tZ)(jo.Z,{})})]})]})}function gw(e){var n,t=e.submission,r=e.dueDate,i=e.team,a=Boolean(r&&r<t.timeSubmitted);return(0,o.BX)(Je.T,{css:[u.l0.colWithGap(16),u.l0.p(16),u.l0.borderRadius(8)],elevated:!0,children:[t.isGroupSubmission&&t.submissionGroup?(0,o.tZ)(p.G,{css:[u.l0.colWithGap(8),u.l0.maxHeight(400),u.l0.overflow("auto")],children:t.submissionGroup.users.map((function(e){return(0,o.tZ)(p.G,{children:(0,o.tZ)(Jy.n,{src:(null===e||void 0===e?void 0:e.image)||null,username:mw(i,e)})},null===e||void 0===e?void 0:e.id)}))}):(0,o.tZ)(o.HY,{children:(0,o.tZ)(Jy.n,{src:(null===(n=t.author)||void 0===n?void 0:n.image)||null,username:mw(i,t.author)})}),t.timeSubmitted?(0,o.BX)(p.G,{css:[u.l0.colWithGap(8)],children:[(0,o.tZ)(p.G,{css:[u.l0.colWithGap(4)],children:(0,o.BX)(p.G,{css:[u.l0.rowWithGap(4),u.l0.align.center],children:[(0,o.tZ)(er.Z,{}),(0,o.BX)(p.G,{css:[u.l0.rowWithGap(4),u.l0.align.center],children:[(0,o.tZ)(d.xv,{css:[u.l0.flex.growAndShrink(1)],children:"Submitted"}),a?(0,o.tZ)(nw,{}):null,t.timeLastReviewed?null:(0,o.tZ)(d.xv,{variant:"small",color:"dimmer",css:[u.l0.flex.growAndShrink(1)],children:"(waiting for review)"})]})]})}),(0,o.BX)(p.G,{css:[u.l0.rowWithGap(4)],children:[(0,o.tZ)(P.Z,{}),(0,o.tZ)(d.xv,{children:hw(new Date(t.timeSubmitted)).long})]})]}):(0,o.BX)(p.G,{css:[u.l0.colWithGap(8)],children:[(0,o.BX)(p.G,{css:[u.l0.rowWithGap(4),u.l0.align.center],children:[(0,o.tZ)(P.Z,{}),(0,o.BX)(p.G,{css:[u.l0.rowWithGap(4),u.l0.align.center],children:[(0,o.tZ)(d.xv,{css:[u.l0.flex.growAndShrink(1)],children:"In progress"}),(0,o.tZ)(d.xv,{variant:"small",color:"dimmer",css:[u.l0.flex.growAndShrink(1)],children:"(not submitted)"})]})]}),t.repl?(0,o.BX)(p.G,{css:[u.l0.rowWithGap(4)],children:[(0,o.tZ)(ew.Z,{}),(0,o.BX)(d.xv,{children:["Forked"," ",hw(new Date(t.repl.timeCreated)).short]})]}):(0,o.tZ)(d.xv,{children:"Submission repl missing"})]})]})}function Zw(e){var n=e.repl,t=e.submission,r=(0,rr.H)(),i=(0,it.Z)().showError,a=(0,L.Z)(function(e){var n=(0,se.Z)({},Vy,e);return ge.D(Yy,n)}({onError:function(e){return i(e.message)},onCompleted:function(e){"UserError"===e.reviewRepl.__typename&&i(e.reviewRepl.message)}}),2),l=a[0],s=a[1].loading,c=(0,L.Z)(function(e){var n=(0,se.Z)({},Vy,e);return ge.D(Ky,n)}(),1)[0],d=Boolean(t.timeLastReviewed);return(0,o.BX)(p.G,{css:u.l0.colWithGap(16),children:[(0,o.BX)(p.G,{css:[u.l0.rowWithGap(8),u.l0.align.center],children:[(0,o.tZ)(fr.X,{id:r("reviewed-status"),disabled:s,checked:d,onChange:function(){return e=!d,void l({variables:{replId:n.id,status:e},optimisticResponse:{__typename:"RootMutationType",reviewRepl:(0,un.Z)((0,se.Z)({},n),{__typename:"Repl",submission:(0,un.Z)((0,se.Z)({},t),{timeLastReviewed:e?(new Date).toJSON():null})})}});var e}}),(0,o.tZ)("label",{htmlFor:r("reviewed-status"),children:d?"Reviewed":"Mark as reviewed"})]}),t.timeSubmitted?(0,o.tZ)(en.zx,{css:{alignSelf:"start"},iconLeft:(0,o.tZ)(fw.Z,{}),onClick:function(){c({variables:{replId:n.id},optimisticResponse:{__typename:"RootMutationType",unsubmitRepl:(0,un.Z)((0,se.Z)({},n),{__typename:"Repl",submission:(0,un.Z)((0,se.Z)({},t),{timeLastReviewed:null})})}})},text:"Unsubmit",small:!0}):null]})}function bw(e){var n=e.repl,t=e.submission,r=e.team,i=e.template,a=i.submissions;return(0,o.BX)(p.G,{css:[u.l0.colWithGap(16),u.l0.flex.growAndShrink(1)],children:[(0,o.BX)(p.G,{css:[u.l0.colWithGap(16),u.l0.flex.grow(1)],children:[(0,o.BX)(p.G,{css:[u.l0.colWithGap(8)],children:[(0,o.tZ)(vw,{submission:t,submissionList:a}),(0,o.tZ)(pw,{team:r,template:i,submission:t,submissionList:a})]}),(0,o.tZ)(gw,{team:r,submission:t,dueDate:i.dueDate}),(0,o.tZ)(Zw,{repl:n,submission:t})]}),(0,o.tZ)(Wr.Z,{css:[{alignSelf:"start"}],small:!0,href:"/team/".concat(r.username,"/templates/").concat(i.repl.slug),iconLeft:(0,o.tZ)(Ov.Z,{}),text:"Return to submissions"})]})}var xw,yw=t(33738),ww=t(73691),Cw=t(14806),kw=t(54369),Lw=t(82400),Sw=function(e){var n=e.fileName,t=e.docRef,r=e.initialContents,i=(0,kw.Z)({filePath:n,fontSize:14,indentSize:4,indentIsSpaces:!0}),a=i.view,l=i.ref;return h.useEffect((function(){if(a){var e=ww.tk.updateListener.of((function(e){t.current=e.state.doc}));a.dispatch({effects:Cw.Py.appendConfig.of(e)}),a.focus()}}),[a,t]),h.useEffect((function(){a&&(a.state.doc.length||a.dispatch({changes:{from:0,insert:r}}))}),[a,r]),(0,o.BX)("div",{className:"jsx-d59ba8968f57599c editable-area",children:[(0,o.tZ)("div",{className:"jsx-d59ba8968f57599c editor-wrapper",children:(0,o.tZ)("div",{className:"jsx-d59ba8968f57599c editor",children:(0,o.tZ)(Lw.Z,{ref:l,view:a})})}),(0,o.tZ)(sn(),{id:"d59ba8968f57599c",children:".editable-area.jsx-d59ba8968f57599c{width:100%;-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;border:1px solid var(--background-higher);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);padding:var(--space-8)0}.editor-wrapper.jsx-d59ba8968f57599c{height:450px;padding-bottom:var(--space-8);-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;position:relative}.editor.jsx-d59ba8968f57599c{overflow:auto;position:absolute;width:100%;height:100%}.loader.jsx-d59ba8968f57599c{height:100%;width:100%;z-index:5}"})]})},Rw=function(e){var n=e.title,t=e.fileName,r=e.initialContents,i=e.isOpen,a=e.onSave,l=e.onCancel,s=h.useRef(null);return(0,o.BX)(on.u,{maxWidth:872,isOpen:i,onRequestClose:function(){},preventClose:!0,children:[(0,o.tZ)("div",{className:"jsx-c68269737c22d0ec editor-modal",children:(0,o.BX)(Jn.gC,{align:"stretch",spacing:2,children:[(0,o.BX)(at.Z,{level:3,children:["Edit ",n.toLowerCase()]}),(0,o.tZ)(Sw,{docRef:s,fileName:t,initialContents:r}),(0,o.tZ)(Jn.Ug,{justify:"end",align:"end",children:(0,o.BX)(Jn.Ug,{justify:"end",align:"end",spacing:1,children:[(0,o.tZ)(pt.Z,{onClick:function(){return l()},children:"Cancel"}),(0,o.tZ)(pt.Z,{color:"primary",onClick:function(){var e;return s.current&&a(null===(e=s.current)||void 0===e?void 0:e.toString())},children:"Save"})]})})]})}),(0,o.tZ)(sn(),{id:"c68269737c22d0ec",children:".editor-modal.jsx-c68269737c22d0ec{padding:var(--space-16)}"})]})};!function(e){e.LessonPlan="lessonplan.md",e.Instructions="instructions.md"}(xw||(xw={}));var Iw=t(88614),Tw=t(39771),Bw=t(60764),Ew=t(49500);function Gw(e){var n=e.attachments;return(0,o.tZ)("div",{className:"manage-attachments",children:(0,o.BX)(Jn.gC,{spacing:2,children:[(0,o.tZ)(Mw,{attachment:n.find((function(e){return e.fileName===xw.LessonPlan})),fileName:xw.LessonPlan,label:"Lesson plan",helpText:"Upload teacher facing materials"}),(0,o.tZ)(Mw,{attachment:n.find((function(e){return e.fileName===xw.Instructions})),fileName:xw.Instructions,label:"Instructions",helpText:"Upload student facing materials"})]})})}function Mw(e){var n,t=e.attachment,a=e.fileName,l=e.label,s=e.helpText,c=(0,Tw.Z)(),u=(0,it.Z)(),d=u.showConfirm,p=u.showError,f=(0,L.Z)(function(e){var n=(0,se.Z)({},Vy,e);return ge.D($y,n)}({onCompleted:function(){return d("Updated "+a)},onError:function(e){Ew.log(e),p("Error")}}),2),m=f[0],v=f[1],g=h.useCallback(function(){var e=(0,r.Z)((function(e){return(0,i.__generator)(this,(function(n){return c&&m({variables:{input:{replId:c.id,fileName:a,contents:e,lastModified:(new Date).toISOString()}}}),[2]}))}));return function(n){return e.apply(this,arguments)}}(),[c,a,m]);return c&&(n=a===xw.LessonPlan?(0,Iw.G)({language:c.language}):(0,Iw.K)({language:c.language})),(0,o.tZ)(Dw,{loading:!c||v.loading,fileName:a,contents:null===t||void 0===t?void 0:t.contents,defaultContents:n,label:l,helpText:s,attachmentLastUploadedAgo:t?(0,Bw.Sy)(new Date(t.timeUpdated)):void 0,onUploadFile:g})}function Dw(e){var n=e.loading,t=e.fileName,a=e.contents,l=e.defaultContents,s=e.label,c=e.helpText,u=e.attachmentLastUploadedAgo,d=e.onUploadFile,p=(0,L.Z)(h.useState(!1),2),f=p[0],m=p[1];return(0,o.BX)("div",{className:"jsx-5b5c01bd3abb3f44 attachment",children:[(0,o.tZ)(Rw,{title:s,fileName:t,isOpen:f,initialContents:a||l,onCancel:function(){return m(!1)},onSave:function(e){m(!1),d(e)}}),(0,o.BX)(Jn.Ug,{justify:"space-between",align:"center",wrap:"nowrap",children:[(0,o.BX)(Jn.gC,{spacing:1,children:[(0,o.BX)(Jn.Ug,{align:"center",spacing:1,wrap:"nowrap",children:[(0,o.tZ)(lt.Z,{fontWeight:"medium",children:s}),(0,o.tZ)(yw.Z,{label:c})]}),u?(0,o.BX)(lt.Z,{size:"xsmall",children:["Uploaded ",u]}):null]}),n?(0,o.tZ)(vn.Z,{size:16}):(0,o.tZ)(pt.Z,{border:!1,filled:!1,Icon:Za.Z,onClick:(0,r.Z)((function(){return(0,i.__generator)(this,(function(e){return m(!0),[2]}))}))})]}),(0,o.tZ)(sn(),{id:"5b5c01bd3abb3f44",children:".attachment.jsx-5b5c01bd3abb3f44{padding:var(--space-8);background-color:var(--background-root);-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}"})]})}function Pw(e){var n=e.attachments;return(0,o.BX)("div",{className:"jsx-ea2ca64296d8f56a project-view-container",children:[(0,o.tZ)("div",{className:"jsx-ea2ca64296d8f56a project-view-contents",children:(0,o.tZ)(Gw,{attachments:n})}),(0,o.tZ)("div",{className:"jsx-ea2ca64296d8f56a bottom-dock",children:(0,o.tZ)(lt.Z,{size:"small",children:(0,o.tZ)("a",{href:"/curriculum",target:"_blank",className:"jsx-ea2ca64296d8f56a",children:"Find more curriculum on Curriculum Hub"})})}),(0,o.tZ)(sn(),{id:"ea2ca64296d8f56a",children:".project-view-container.jsx-ea2ca64296d8f56a{padding-top:var(--space-32);max-width:400px;-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.bottom-dock.jsx-ea2ca64296d8f56a{display:grid;grid-gap:var(--space-8);margin-top:auto}"})]})}function jw(){var e,n=function(e){var n=(0,se.Z)({},Vy,e);return de.a(qy,n)}({variables:{replId:(0,kn.Z)()}}),t=n.data,r=n.loading,i=n.error;if(r)return(0,o.tZ)(p.G,{css:[u.l0.center,u.l0.flex.growAndShrink(1)],children:(0,o.tZ)(vn.Z,{size:24})});if(i)return(0,o.tZ)(p.G,{css:u.l0.center,children:(0,o.tZ)(d.xv,{children:"Something went wrong"})});var a="Repl"===(null===t||void 0===t?void 0:t.repl.__typename)?t.repl:null,l="Team"===(null===a||void 0===a||null===(e=a.owner)||void 0===e?void 0:e.__typename)?a.owner:null,s=null===a||void 0===a?void 0:a.template;return a&&l&&s?(0,o.BX)(p.G,{css:[u.l0.height("100%")],children:[(0,o.tZ)(d.xv,{css:[u.l0.p(8)],variant:"subheadBig",children:a.submission?"Submissions":"Curriculum"}),(0,o.tZ)(p.G,{css:[u.l0.px(8),u.l0.pb(8),u.l0.flex.growAndShrink(1),u.l0.overflowY("auto")],children:a.submission?(0,o.tZ)(bw,{repl:a,team:l,template:s,submission:a.submission}):(0,o.tZ)(Pw,{attachments:a.attachments})})]}):(0,o.tZ)(p.G,{css:u.l0.center,children:(0,o.tZ)(d.xv,{children:"Something went wrong"})})}var _w={Content:function(){return(0,o.tZ)(jw,{})},Icon:function(e){var n=e.size;return(0,o.tZ)(Kr.Z,{size:n})},getTitle:function(){return"Submissions"}},Uw=t(50543),Xw=t(5768),Vw=t(49500),zw=".lesson/".concat("instructions.md"),Ww=function(e){var n=e.contents,t=(0,_.Z)().fs,r=(0,Uw.l)(t,zw);return(0,o.BX)("div",{className:sn().dynamic([["4a2a9dfc904beede",[cn.j.tabletMin]]])+" root",children:[(0,o.tZ)("div",{className:sn().dynamic([["4a2a9dfc904beede",[cn.j.tabletMin]]])+" content",children:(0,o.tZ)(JZ.ZP,{components:{img:r},sourcePos:!0,children:n})}),(0,o.tZ)(sn(),{id:"4a2a9dfc904beede",dynamic:[cn.j.tabletMin],children:".root.__jsx-style-dynamic-selector{height:100%;width:100%;overflow:auto;background:var(--background-default);z-index:2;position:relative}.content.__jsx-style-dynamic-selector{max-width:840px;margin:0 auto;padding:var(--space-32)var(--space-16)}@media only screen and (min-width:".concat(cn.j.tabletMin,"px){.content.__jsx-style-dynamic-selector{padding:var(--space-48)var(--space-32)}}")})]})},Aw=function(){var e=(0,kn.Z)(),n=(0,_.Z)().fs,t=(0,Ca.Z)(),r=(0,L.Z)(h.useState(null),2),i=r[0],a=r[1];return h.useEffect((function(){n.readFile(zw).then((function(e){if(t.current)return e.error?(Vw.error(e.error),void If.$e((function(n){n.setTag("instructions-viewer",!0),If.Tb("Error loading instructions viewier: ".concat(e.error))}))):void a(e.content.toString())}))}),[n,t,e]),i?(0,o.tZ)(Ww,{contents:i}):(0,o.tZ)(Xw.Z,{preventHighlightBorder:!0})},Fw={Content:function(){return(0,o.tZ)(Aw,{})},Icon:function(e){var n=e.size;return(0,o.tZ)(Kr.Z,{size:n})},getTitle:function(){return"Instructions"}},Nw=t(15456),Ow=t(16701),Hw={Content:function(e){var n=e.options.paneId,t=(0,z.A)();return(0,o.tZ)(Nw.Z,{closeConfigPane:function(){return t(n)},useReadFile:Ow.Z})},Icon:function(){return null},getTitle:function(){return"Configure Repl"}};var qw=t(62247);var $w={Content:function(){var e=function(){var e=(0,h.useState)(!1),n=e[0],t=e[1],o=(0,kn.Z)(),a=(0,_.Z)(),l=a.dotReplit,s=a.fs,c=(0,Ca.Z)(),u=(0,z.n7)(),d=(0,gl.T)(),p=(0,Ko.Z)().preferences.isLayoutStacked,f=(0,iu.c)();return{reset:(0,h.useCallback)((0,r.Z)((function(){var e;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return t(!0),[4,(0,Lf.W)({fs:s,dotReplit:l,replId:o})];case 1:return e=n.sent().entrypoint,c.current?(t(!0),u({replId:o,isStacked:p,isHTML:d,isExtension:f,entrypoint:e}),[2]):[2]}}))})),[o,s,l,u,c,p,d,f]),reseting:n}}();return(0,o.BX)(p.G,{css:[u.l0.overflow("auto"),E.F3],children:[(0,o.tZ)(d.h4,{variant:"subheadBig",level:3,css:[u.l0.py(8),u.l0.px(16)],children:"Settings"}),(0,o.tZ)(qw.Z,{resetLayout:e,css:[{backgroundColor:"transparent"}]})]})},Icon:function(e){var n=e.size;return(0,o.tZ)(pb.Z,{size:n})},getTitle:function(){return"Settings"}},Yw=t(36788),Kw=t(15092);function Qw(){var e=(0,ce.Z)(["\n  query DevtoolsHomeHostedUrl($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        hostedUrl\n      }\n    }\n  }\n"]);return Qw=function(){return e},e}var Jw={},eC=(0,ue.Ps)(Qw());function nC(e){var n=e.setEditing,t=(0,Yh.zm)(),a=(0,Yh.I1)(),l=(0,Yh.EO)(),s=(0,Yh.bN)(),c=(0,h.useState)(!1),d=c[0],f=c[1],m=(0,h.useState)(!1),v=m[0],g=m[1];return(0,o.BX)(p.G,{css:[u.l0.rowWithGap(8),u.l0.flex.wrap,{rowGap:8}],children:[(0,o.tZ)(en.zx,{small:!0,outlined:!0,text:"Edit listing",onClick:function(){n(!0)}}),t||v?(0,o.BX)(o.HY,{children:[(0,o.tZ)(en.zx,{small:!0,text:"Reload",iconLeft:v?(0,o.tZ)(vn.Z,{}):(0,o.tZ)(_c.Z,{}),disabled:v,onClick:(0,r.Z)((function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return t?(g(!0),[4,l(t.installationId)]):[2];case 1:return e.sent(),g(!1),[2]}}))}))}),(0,o.tZ)(en.zx,{small:!0,text:"Unload",iconLeft:(0,o.tZ)(Kw.Z,{}),disabled:!t,onClick:function(){t&&s(t.installationId)}})]}):(0,o.tZ)(en.zx,{small:!0,text:"Load locally",colorway:"primary",iconLeft:d?(0,o.tZ)(vn.Z,{}):(0,o.tZ)(Jv.Z,{}),loading:d,onClick:(0,r.Z)((function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return f(!0),[4,a()];case 1:return e.sent(),f(!1),[2]}}))}))})]})}function tC(e){var n,t=e.manifest,r=e.update,i=function(e){var n=(0,se.Z)({},Jw,e);return de.a(eC,n)}({variables:{replId:(0,kn.Z)()}}).data,a=(0,h.useState)(!1),l=a[0],s=a[1],c="Repl"===(null===i||void 0===i||null===(n=i.repl)||void 0===n?void 0:n.__typename)?i.repl.hostedUrl:null;return(0,o.tZ)(p.G,{css:[u.l0.colWithGap(16),u.l0.width("100%")],children:(0,o.BX)(Je.T,{elevated:!0,css:[u.l0.p(12),u.l0.borderRadius(8),u.l0.colWithGap(8)],children:[l?(0,o.tZ)(rC,{manifest:t,onSubmit:function(e){r((0,se.Z)({},t,e)),s(!1)},onCancel:function(){s(!1)}}):(0,o.BX)(p.G,{css:[u.l0.flex.row,u.l0.rowWithGap(16),u.l0.align.center],children:[(0,o.tZ)(p.G,{css:[u.l0.flex.grow(0),u.l0.display.flex,u.l0.flex.row],children:(0,o.tZ)(qZ,{size:64,baseUrl:c,icon:t.icon})}),(0,o.BX)(p.G,{css:[u.l0.flex.growAndShrink(1)],children:[(0,o.tZ)(Jn.Ug,{align:"center",justify:"space-between",children:(0,o.tZ)(d.xv,{variant:"subheadDefault",children:t.name})}),(0,o.tZ)(d.xv,{variant:"text",color:"dimmest",children:t.description})]})]}),l?null:(0,o.tZ)(nC,{setEditing:s})]})})}function rC(e){var n,t,r,i,a,l,s,c=e.manifest,f=e.onSubmit,m=e.onCancel,v=(0,h.useState)(null!==(r=c.name)&&void 0!==r?r:""),g=v[0],Z=v[1],b=(0,h.useState)(null!==(i=c.description)&&void 0!==i?i:""),x=b[0],y=b[1],w=(0,h.useState)(null!==(a=c.longDescription)&&void 0!==a?a:void 0),C=w[0],k=w[1],L=(0,h.useState)(null!==(l=c.icon)&&void 0!==l?l:""),S=L[0],R=L[1],I=(0,h.useState)(null!==(s=null===(n=c.coverImages)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.path)&&void 0!==s?s:""),T=I[0],B=I[1],E=(0,rr.H)();return(0,o.BX)(p.G,{tag:"form",css:[u.l0.colWithGap(16)],onSubmit:function(e){e.preventDefault();var n={name:g,description:x};c.longDescription&&!C?n.longDescription=null:C&&(n.longDescription=C),c.icon&&!S?n.icon=null:S&&(n.icon=S),c.coverImages&&!T?n.coverImages=null:T&&(n.coverImages=[{path:T,label:"preview of extension"}]),f(n)},children:[(0,o.tZ)(d.xv,{variant:"subheadBig",children:"Edit your Store listing"}),(0,o.BX)(p.G,{css:[u.l0.flex.growAndShrink(1),u.l0.colWithGap(4)],tag:"label",htmlFor:E("name"),children:[(0,o.tZ)(d.xv,{children:"Extension Name"}),(0,o.tZ)(za.II,{id:E("name"),placeholder:"Give your extension a name",value:g,onChange:function(e){Z(e.currentTarget.value)},required:!0})]}),(0,o.BX)(p.G,{css:[u.l0.flex.growAndShrink(1),u.l0.colWithGap(4)],tag:"label",htmlFor:E("tagline"),children:[(0,o.tZ)(d.xv,{children:"Tagline"}),(0,o.tZ)(za.II,{id:E("tagline"),placeholder:"Give your extension a short tagline",value:x,onChange:function(e){y(e.currentTarget.value)},required:!0})]}),(0,o.BX)(p.G,{css:[u.l0.flex.growAndShrink(1),u.l0.colWithGap(4)],tag:"label",htmlFor:E("longDescription"),children:[(0,o.tZ)(d.xv,{children:"Long Description"}),(0,o.tZ)(za.B,{id:E("longDescription"),placeholder:"Give your extension a long description, markdown formatting is supported",value:null!==C&&void 0!==C?C:"",onChange:function(e){k(e.currentTarget.value||void 0)},css:{resize:"vertical"},autoSize:!0})]}),(0,o.BX)(p.G,{css:[u.l0.flex.growAndShrink(1),u.l0.colWithGap(4)],tag:"label",htmlFor:E("icon"),children:[(0,o.tZ)(d.xv,{children:"Icon"}),(0,o.tZ)(za.II,{id:E("icon"),placeholder:"/extension-logo.svg",value:S,onChange:function(e){R(e.currentTarget.value)}})]}),(0,o.BX)(p.G,{css:[u.l0.flex.growAndShrink(1),u.l0.colWithGap(4)],tag:"label",htmlFor:E("coverImage"),children:[(0,o.tZ)(d.xv,{children:"Cover Image"}),(0,o.tZ)(za.II,{id:E("coverImage"),placeholder:"/extension-preview.png",value:T,onChange:function(e){B(e.currentTarget.value)}})]}),(0,o.BX)(p.G,{css:[u.l0.rowWithGap(12),{alignSelf:"end"},u.l0.pt(8)],children:[(0,o.tZ)(en.zx,{text:"Cancel",onClick:m}),(0,o.tZ)(en.zx,{colorway:"primary",iconLeft:(0,o.tZ)(er.Z,{}),text:"Save Changes",type:"submit"})]})]})}var iC=t(65972);function oC(e){var n=e.fileHandlers,t=e.onCreate,r=e.onUpdate,i=e.onOpen,a=e.onDelete,l=(0,h.useState)([]),s=l[0],c=l[1],f=(0,h.useState)(!1),m=f[0],v=f[1];return(0,o.BX)(p.G,{children:[(0,o.BX)(p.G,{css:[u.l0.pb(12)],children:[(0,o.BX)(p.G,{css:[u.l0.rowWithGap(8),u.l0.align.center],children:[(0,o.BX)(p.G,{css:[u.l0.rowWithGap(8),u.l0.align.center],children:[(0,o.tZ)(Fu.Z,{}),(0,o.tZ)(d.xv,{variant:"subheadDefault",children:"File Handlers"})]}),(0,o.tZ)(nn.h,{onClick:function(){return v(!m)},alt:"Add a new File Handler",tooltipHidden:m,disabled:m,children:(0,o.tZ)($.Z,{})})]}),(0,o.tZ)(d.xv,{color:"dimmer",variant:"small",children:"Custom file viewers and editors"})]}),(0,o.BX)(p.G,{css:[u.l0.colWithGap(8)],children:[m?(0,o.tZ)(aC,{onSubmit:function(e){t(e),v(!1)},onCancel:function(){v(!1)}}):null,n.length?n.map((function(e,n){return s.includes(n)?(0,o.tZ)(aC,{initialFileHandler:e,onSubmit:function(e){r(e,n),c((function(e){return e.filter((function(e){return e!==n}))}))},onCancel:function(){c((function(e){return e.filter((function(e){return e!==n}))}))}},n):(0,o.BX)(Je.T,{css:[u.l0.flex.row,u.l0.justify.spaceBetween,u.l0.align.center,u.l0.py(8),u.l0.borderRadius(8),u.l0.flex.wrap,{rowGap:8}],elevated:!0,children:[(0,o.tZ)(d.xv,{children:null!==(t=e.name)&&void 0!==t?t:"Unnamed"}),(0,o.BX)(p.G,{css:[u.l0.rowWithGap(12),u.l0.align.center],children:[(0,o.tZ)(nn.h,{alt:"Remove ".concat(e.name||"this file handler"),colorway:"red",onClick:function(){a(n)},children:(0,o.tZ)(Da.Z,{})}),(0,o.tZ)(nn.h,{alt:"Edit ".concat(e.name||"this file handler"),onClick:function(){c((function(e){return(0,D.Z)(e).concat([n])}))},children:(0,o.tZ)(Za.Z,{})}),(0,o.tZ)(en.zx,{iconLeft:(0,o.tZ)(iC.Z,{}),outlined:!0,text:"Preview",onClick:function(){i(e)}})]})]},n);var t})):(0,o.tZ)(o.HY,{children:m?null:(0,o.BX)(p.G,{css:[u.l0.border({style:"dashed"}),u.l0.borderRadius(8),u.l0.p(16),u.l0.colWithGap(8),u.l0.center],children:[(0,o.tZ)(d.xv,{color:"dimmest",multiline:!0,children:"You haven't added a file handler yet"}),(0,o.tZ)(en.zx,{outlined:!0,text:"New File Handler",iconLeft:(0,o.tZ)($.Z,{}),onClick:function(){return v(!0)}})]})})]})]})}function aC(e){var n,t,r,i,a=e.onSubmit,l=e.onCancel,s=e.initialFileHandler,c=(0,h.useState)(null!==(n=null===s||void 0===s?void 0:s.name)&&void 0!==n?n:""),f=c[0],m=c[1],v=(0,h.useState)(null!==(t=null===s||void 0===s?void 0:s.icon)&&void 0!==t?t:""),g=v[0],Z=v[1],b=(0,h.useState)(null!==(r=null===s||void 0===s?void 0:s.handler)&&void 0!==r?r:""),x=b[0],y=b[1],w=(0,h.useState)(null!==(i=null===s||void 0===s?void 0:s.glob)&&void 0!==i?i:""),C=w[0],k=w[1],L=(0,rr.H)();return(0,o.BX)(Je.T,{css:[u.l0.borderRadius(8),u.l0.border({color:u.TV.outlineDimmest}),u.l0.p(8),u.l0.colWithGap(8)],tag:"form",onSubmit:function(e){e.preventDefault(),a({name:f,icon:g,handler:x,glob:C})},elevated:!0,children:[(0,o.BX)(p.G,{css:[u.l0.rowWithGap(2),u.l0.justify.spaceBetween,u.l0.border({color:u.TV.outlineDimmest,direction:"bottom"}),u.l0.align.center,u.l0.flex.wrap,{rowGap:8}],children:[(0,o.tZ)(d.xv,{children:f||"New File Viewer"}),(0,o.BX)(p.G,{css:[u.l0.rowWithGap(8)],children:[(0,o.tZ)(en.zx,{text:"Cancel",onClick:function(){l()}}),(0,o.tZ)(en.zx,{colorway:"primary",iconLeft:(0,o.tZ)(er.Z,{}),text:"Save Changes",type:"submit"})]})]}),(0,o.BX)(p.G,{css:[u.l0.colWithGap(8)],children:[(0,o.BX)(p.G,{css:[u.l0.flex.growAndShrink(1),u.l0.colWithGap(2)],tag:"label",htmlFor:L("name"),children:[(0,o.tZ)(d.xv,{color:"dimmer",children:"Name"}),(0,o.tZ)(za.II,{id:L("name"),label:"Name",placeholder:"SVG Editor",value:f,onChange:function(e){m(e.currentTarget.value)},required:!0})]}),(0,o.BX)(p.G,{css:[u.l0.flex.growAndShrink(1),u.l0.colWithGap(2)],tag:"label",htmlFor:L("handler"),children:[(0,o.tZ)(d.xv,{color:"dimmer",children:"URL Path"}),(0,o.tZ)(za.II,{id:L("handler"),placeholder:"/svg-editor",value:x,onChange:function(e){y(e.currentTarget.value)},required:!0})]}),(0,o.BX)(p.G,{css:[u.l0.flex.growAndShrink(1),u.l0.colWithGap(2)],tag:"label",htmlFor:L("glob"),children:[(0,o.tZ)(d.xv,{color:"dimmer",children:"Glob Pattern"}),(0,o.tZ)(za.II,{id:L("glob"),placeholder:"*.svg",value:C,onChange:function(e){k(e.currentTarget.value)},required:!0})]}),(0,o.BX)(p.G,{css:[u.l0.flex.growAndShrink(1),u.l0.colWithGap(2)],tag:"label",htmlFor:L("icon"),children:[(0,o.tZ)(d.xv,{color:"dimmer",children:"Icon (path)"}),(0,o.tZ)(za.II,{id:L("icon"),placeholder:"/svg-editor-logo.png",value:g,onChange:function(e){Z(e.currentTarget.value)},required:!0})]})]})]})}function lC(e){var n=e.tools,t=e.onCreate,r=e.onUpdate,i=e.onOpen,a=e.onDelete,l=(0,h.useState)([]),s=l[0],c=l[1],f=(0,h.useState)(!1),m=f[0],v=f[1];return(0,o.BX)(p.G,{children:[(0,o.BX)(p.G,{css:[u.l0.pb(12)],children:[(0,o.BX)(p.G,{css:[u.l0.rowWithGap(8),u.l0.align.center],children:[(0,o.BX)(p.G,{css:[u.l0.rowWithGap(8),u.l0.align.center],children:[(0,o.tZ)(F.Z,{}),(0,o.tZ)(d.xv,{variant:"subheadDefault",children:"Tools"})]}),(0,o.tZ)(nn.h,{onClick:function(){return v(!m)},alt:"Add a new tool",disabled:m,tooltipHidden:m,children:(0,o.tZ)($.Z,{})})]}),(0,o.tZ)(d.xv,{color:"dimmer",variant:"small",children:"Custom user interfaces as a Pane"})]}),(0,o.BX)(p.G,{css:[u.l0.colWithGap(8)],children:[m?(0,o.tZ)(sC,{onSubmit:function(e){t(e),v(!1)},onCancel:function(){v(!1)}}):null,n.length?n.map((function(e,n){return s.includes(n)?(0,o.tZ)(sC,{initialTool:e,onSubmit:function(e){r(e,n),c((function(e){return e.filter((function(e){return e!==n}))}))},onCancel:function(){c((function(e){return e.filter((function(e){return e!==n}))}))}},n):(0,o.BX)(Je.T,{css:[u.l0.flex.row,u.l0.justify.spaceBetween,u.l0.align.center,u.l0.p(8),u.l0.borderRadius(8),u.l0.flex.wrap,{rowGap:8}],elevated:!0,children:[(0,o.tZ)(d.xv,{children:null!==(t=e.name)&&void 0!==t?t:"Unnamed"}),(0,o.BX)(p.G,{css:[u.l0.rowWithGap(12),u.l0.align.center],children:[(0,o.tZ)(nn.h,{alt:"Remove ".concat(e.name||"this tool"),colorway:"red",onClick:function(){a(n)},children:(0,o.tZ)(Da.Z,{})}),(0,o.tZ)(nn.h,{alt:"Remove ".concat(e.name||"this tool"),onClick:function(){c((function(e){return(0,D.Z)(e).concat([n])}))},children:(0,o.tZ)(Za.Z,{})}),(0,o.tZ)(en.zx,{iconLeft:(0,o.tZ)(_d.Z,{}),outlined:!0,text:"Preview",onClick:function(){i(e)}})]})]},n);var t})):(0,o.tZ)(o.HY,{children:m?null:(0,o.BX)(p.G,{css:[u.l0.border({style:"dashed"}),u.l0.borderRadius(8),u.l0.p(16),u.l0.colWithGap(8),u.l0.center],children:[(0,o.tZ)(d.xv,{color:"dimmest",multiline:!0,children:"You haven't added any tools"}),(0,o.tZ)(en.zx,{outlined:!0,text:"New Tool",iconLeft:(0,o.tZ)($.Z,{}),onClick:function(){return v(!0)}})]})})]})]})}function sC(e){var n,t,r,i=e.onSubmit,a=e.onCancel,l=e.initialTool,s=(0,h.useState)(null!==(n=null===l||void 0===l?void 0:l.name)&&void 0!==n?n:""),c=s[0],f=s[1],m=(0,h.useState)(null!==(t=null===l||void 0===l?void 0:l.icon)&&void 0!==t?t:null),v=m[0],g=m[1],Z=(0,h.useState)(null!==(r=null===l||void 0===l?void 0:l.handler)&&void 0!==r?r:""),b=Z[0],x=Z[1],y=(0,rr.H)();return(0,o.BX)(Je.T,{tag:"form",css:[u.l0.borderRadius(8),u.l0.border({color:u.TV.outlineDimmest}),u.l0.p(8)],elevated:!0,onSubmit:function(e){e.preventDefault(),i({name:c,icon:v,handler:b})},children:[(0,o.BX)(p.G,{css:[u.l0.rowWithGap(2),u.l0.justify.spaceBetween,u.l0.border({color:u.TV.outlineDimmest,direction:"bottom"}),u.l0.align.center,u.l0.flex.wrap,{rowGap:8}],children:[(0,o.tZ)(d.xv,{children:c||"New Tool"}),(0,o.BX)(p.G,{css:[u.l0.rowWithGap(8)],children:[(0,o.tZ)(en.zx,{text:"Cancel",onClick:function(){a()}}),(0,o.tZ)(en.zx,{colorway:"primary",iconLeft:(0,o.tZ)(er.Z,{}),text:"Save Changes",type:"submit"})]})]}),(0,o.BX)(p.G,{css:[u.l0.colWithGap(8)],children:[(0,o.BX)(p.G,{css:[u.l0.flex.growAndShrink(1),u.l0.colWithGap(2)],tag:"label",htmlFor:y("name"),children:[(0,o.tZ)(d.xv,{color:"dimmer",children:"Name"}),(0,o.tZ)(za.II,{id:y("name"),label:"Name",placeholder:"SQL Viewer",value:c,onChange:function(e){f(e.currentTarget.value)},required:!0})]}),(0,o.BX)(p.G,{css:[u.l0.flex.growAndShrink(1),u.l0.colWithGap(2)],tag:"label",htmlFor:y("handler"),children:[(0,o.tZ)(d.xv,{color:"dimmer",children:"URL Path"}),(0,o.tZ)(za.II,{id:y("handler"),placeholder:"/sql",value:b,onChange:function(e){x(e.currentTarget.value)},required:!0})]}),(0,o.BX)(p.G,{css:[u.l0.flex.growAndShrink(1),u.l0.colWithGap(2)],tag:"label",htmlFor:y("icon"),children:[(0,o.tZ)(d.xv,{color:"dimmer",children:"Icon (path)"}),(0,o.tZ)(za.II,{id:y("icon"),placeholder:"/sql-logo.png",value:null!==v&&void 0!==v?v:"",onChange:function(e){g(e.currentTarget.value||null)},required:!0})]})]})]})}function cC(e){var n=e.glob,t=e.openFile,a=(0,_.Z)().fs,l=(0,h.useState)(null),s=l[0],c=l[1],f=(0,h.useMemo)((function(){return(0,qo.Z)(n)}),[n]);return(0,h.useEffect)((function(){var e=!1;function n(){return(n=(0,r.Z)((function(){var n;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return[4,a.listFiles()];case 1:return n=t.sent(),e?[2]:n.files&&f?(c(n.files.filter((function(e){return e.match(f)}))),[2]):[2]}}))}))).apply(this,arguments)}return function(){n.apply(this,arguments)}(),function(){e=!0}}),[f,a]),s?0===s.length?(0,o.tZ)(p.G,{children:(0,o.BX)(d.xv,{children:["No files found matching the glob pattern: ",n]})}):(0,o.BX)(p.G,{css:u.l0.colWithGap(8),children:[(0,o.BX)(d.xv,{children:["Pick a file (files match ",n,")"]}),s.map((function(e){return(0,o.tZ)(en.zx,{text:e,onClick:function(){t(e)}},e)}))]}):(0,o.BX)(p.G,{children:["Loading a list of files matching ",n]})}function uC(e){var n,t,a=e.manifest,l=e.performPaneOperation,s=e.update,c=(0,Yh.zm)(),d=(0,Yh.I1)(),f=(0,h.useState)(null),m=f[0],v=f[1];return(0,o.BX)(p.G,{css:[u.l0.colWithGap(24),u.l0.width("100%")],children:[(0,o.tZ)(oC,{onOpen:function(){var e=(0,r.Z)((function(e){return(0,i.__generator)(this,(function(n){return v(e),[2]}))}));return function(n){return e.apply(this,arguments)}}(),onDelete:function(e){var n;s((0,un.Z)((0,se.Z)({},a),{fileHandlers:null===(n=a.fileHandlers)||void 0===n?void 0:n.filter((function(n,t){return t!==e}))}))},onUpdate:function(e,n){var t,r,i,o;s((0,un.Z)((0,se.Z)({},a),{fileHandlers:(0,D.Z)(null!==(i=null===(t=a.fileHandlers)||void 0===t?void 0:t.slice(0,n))&&void 0!==i?i:[]).concat([e],(0,D.Z)(null!==(o=null===(r=a.fileHandlers)||void 0===r?void 0:r.slice(n+1))&&void 0!==o?o:[]))}))},onCreate:function(e){var n;s((0,un.Z)((0,se.Z)({},a),{fileHandlers:(0,D.Z)(null!==(n=a.fileHandlers)&&void 0!==n?n:[]).concat([e])}))},fileHandlers:null!==(n=a.fileHandlers)&&void 0!==n?n:[]}),(0,o.tZ)(lC,{onOpen:function(){var e=(0,r.Z)((function(e){var n,t;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return(n=c)?[3,2]:[4,d()];case 1:n=r.sent(),r.label=2;case 2:if(!n)throw new Error("Expected current repl to be installed as an extension");return l({operation:"open",pane:{type:"extension",data:{extensionId:n.extensionId,installationId:n.installationId,name:null!==(t=e.name)&&void 0!==t?t:n.manifest.name,url:(0,Cv.Vh)(n.baseUrl,e.handler)}}}),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),onDelete:function(e){var n;s((0,un.Z)((0,se.Z)({},a),{tools:null===(n=a.tools)||void 0===n?void 0:n.filter((function(n,t){return t!==e}))}))},onUpdate:function(e,n){var t,r,i,o;s((0,un.Z)((0,se.Z)({},a),{tools:(0,D.Z)(null!==(i=null===(t=a.tools)||void 0===t?void 0:t.slice(0,n))&&void 0!==i?i:[]).concat([e],(0,D.Z)(null!==(o=null===(r=a.tools)||void 0===r?void 0:r.slice(n+1))&&void 0!==o?o:[]))}))},onCreate:function(e){var n;s((0,un.Z)((0,se.Z)({},a),{tools:(0,D.Z)(null!==(n=a.tools)&&void 0!==n?n:[]).concat([e])}))},tools:null!==(t=a.tools)&&void 0!==t?t:[]}),(0,o.tZ)(on.u,{isOpen:!!m,onRequestClose:function(){return v(null)},children:m?(0,o.tZ)(cC,{glob:m.glob,openFile:function(){var e=(0,r.Z)((function(e){var n,t;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:if(!m)throw new Error("Expected pending file handler");return(n=c)?[3,2]:[4,d()];case 1:n=r.sent(),r.label=2;case 2:if(!n)throw new Error("Expected current repl to be installed as an extension");return l({operation:"open",pane:{type:"extension",data:{extensionId:n.extensionId,installationId:n.installationId,name:null!==(t=m.name)&&void 0!==t?t:n.manifest.name,url:(0,Cv.Vh)(n.baseUrl,m.handler),path:e}}}),v(null),[2]}}))}));return function(n){return e.apply(this,arguments)}}()}):null})]})}var dC=t(75214);function pC(e){var n=e.filePaths,t=e.outputDir,r=[],i=!0,o=!1,a=void 0;try{for(var l,s=n[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var c=l.value;if("extension.json"===c)return c;c.endsWith("/extension.json")&&r.push(c)}}catch(g){o=!0,a=g}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}var u,d=!0,p=!1,f=void 0;try{for(var h,m=r[Symbol.iterator]();!(d=(h=m.next()).done);d=!0){var v=h.value;if(!v.startsWith(t))return v}}catch(g){p=!0,f=g}finally{try{d||null==m.return||m.return()}finally{if(p)throw f}}return null!==(u=r[0])&&void 0!==u?u:null}function fC(e){var n=e.children;return(0,o.tZ)(p.G,{css:[u.l0.colWithGap(12),u.l0.p(16)],children:(0,o.tZ)(Je.T,{elevated:!0,css:[u.l0.p(16),u.l0.borderRadius(8),u.l0.colWithGap(8)],children:n})})}function hC(e){var n=e.performPaneOperation,t=(0,h.useState)(null),a=t[0],l=t[1],s=(0,_.Z)(),c=s.fs,f=s.session,m=s.dotReplit,v=(0,h.useCallback)((function(e){l((function(n){if(!n)throw new Error("state should be defined");return(0,un.Z)((0,se.Z)({},n),{manifestStr:e})}))}),[]),g=(0,h.useState)(0),Z=g[0],b=g[1],x=function(){b((function(e){return e+1}))},y=(0,h.useState)(!1),w=y[0],C=y[1],k=(0,h.useCallback)((0,r.Z)((function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return[4,c.writeFile("extension.json",JSON.stringify({name:"My Extension",description:"My Extension Description",version:"0"},null,2))];case 1:return e.sent(),[2]}}))})),[c]);(0,h.useEffect)((function(){l(null);var e=!1,n=function(){};function t(){return t=(0,r.Z)((function(){var t,r,o,a,s,u,d;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,Promise.all([c.listFiles(),m.getConfig()])];case 1:return r=L.Z.apply(void 0,[i.sent(),2]),o=r[0],a=r[1],e?[2]:!o.files||a.error?(l({fileError:"Failed to read files, please try again"}),[2]):(u=(0,km.Oh)((0,km.AH)(null!==(s=null===(t=a.config.extension)||void 0===t?void 0:t.outputDirectory)&&void 0!==s?s:"dist")),(d=pC({filePaths:o.files,outputDir:u}))?(n=c.watchTextFile(d,{onReady:function(e){var n=e.writeChange,t=e.initialContent;l({fileError:null,writeChange:n,manifestStr:t,manifestPath:d})},onChange:function(e){var n=e.latestContent;v(n)},onMoveOrDelete:function(){l({fileError:"extension.json was moved or deleted, please re-add it"})},onError:function(){l({fileError:"Failed to read extension.json"})}}),[2]):(l({fileError:"No extension.json found"}),[2]))}}))})),t.apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){n(),e=!0}}),[c,v,m,Z]);var S=(0,h.useMemo)((function(){if(!a||null!==a.fileError)return null;var e;try{e=Of.ku(a.manifestStr)}catch(n){return{error:n,manifest:null}}return(0,Cv.U4)(e)}),[a]);if(!a)return(0,o.tZ)(p.G,{css:[u.l0.justify.center,u.l0.align.center,u.l0.display.flex,u.l0.width("100%"),u.l0.height("100%")],children:(0,o.tZ)(vn.Z,{})});if(null!==a.fileError)return(0,o.BX)(fC,{children:[(0,o.BX)(p.G,{css:[u.l0.rowWithGap(8),u.l0.display.flex,u.l0.align.center],children:[(0,o.tZ)(ix.Z,{}),(0,o.tZ)(d.xv,{variant:"headerDefault",children:"Error reading extension.json"})]}),(0,o.tZ)(d.xv,{children:a.fileError}),(0,o.BX)(p.G,{css:[u.l0.rowWithGap(8)],children:[(0,o.tZ)(en.zx,{colorway:"primary",text:"Create extension.json",loading:w,iconLeft:w?(0,o.tZ)(vn.Z,{}):(0,o.tZ)($.Z,{}),onClick:(0,r.Z)((function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return C(!0),[4,k()];case 1:return e.sent(),x(),C(!1),[2]}}))}))}),(0,o.tZ)(en.zx,{text:"Retry",iconLeft:(0,o.tZ)(_c.Z,{}),onClick:function(){x()}})]})]});if(!S)throw new Error("expected parsed to be defined if state exists");var R=S.manifest,I=S.error;return I?(0,o.tZ)(fC,{children:(0,o.BX)(p.G,{css:[u.l0.colWithGap(16),u.l0.p(8)],children:[(0,o.BX)(p.G,{css:[u.l0.rowWithGap(8),u.l0.display.flex,u.l0.align.center],children:[(0,o.tZ)(ix.Z,{}),(0,o.tZ)(d.xv,{variant:"headerDefault",children:"Error parsing extension.json"})]}),(0,o.tZ)(d.xv,{variant:"subheadDefault",children:"Details:"}),(0,o.tZ)(p.G,{css:[u.l0.colWithGap(8)],children:(0,gr.Z)(I,dv.jm)?I.issues.map((function(e,n){var t=e.path,r=e.message;return(0,o.BX)(p.G,{css:[u.l0.display.flex,u.l0.flex.row,u.l0.rowWithGap(4)],children:[(0,o.tZ)(d.xv,{css:[u.l0.font.code,u.l0.color.orangeStrongest,u.l0.backgroundColor.orangeDimmest],children:t.join(".")}),(0,o.tZ)(d.xv,{children:r})]},n)})):(0,o.tZ)(p.G,{tag:"pre",children:I.message})}),(0,o.BX)(p.G,{css:[u.l0.rowWithGap(8)],children:[(0,o.tZ)(en.zx,{colorway:"primary",text:"Open extension.json",onClick:function(){f.openFile(a.manifestPath)}}),(0,o.tZ)(en.zx,{iconLeft:(0,o.tZ)(Kr.Z,{}),text:"Read extension.json docs",onClick:function(){window.open("https://docs.replit.com/extensions/api/manifest","_blank")}})]})]})}):(0,o.BX)(p.G,{css:[u.l0.colWithGap(24),u.l0.align.center,u.l0.pt(12),u.l0.width("100%")],children:[(0,o.tZ)(tC,{manifest:R,update:function(e){var n=Of.r$(a.manifestStr,e);a.writeChange((0,dC.F)(a.manifestStr,n)),v(n)}}),(0,o.tZ)(p.G,{css:[u.l0.border({direction:"bottom",width:4,color:u.TV.outlineDimmest}),u.l0.width("100%")]}),(0,o.tZ)(uC,{performPaneOperation:n,manifest:R,update:function(e){var n=Of.r$(a.manifestStr,e);a.writeChange((0,dC.F)(a.manifestStr,n)),v(n)}})]})}function mC(){var e=(0,ce.Z)(["\n  query ExtensionOwner($extensionId: String!) {\n    extension(id: $extensionId) {\n      ... on Extension {\n        id\n        user {\n          id\n        }\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n"]);return mC=function(){return e},e}function vC(){var e=(0,ce.Z)(["\n  mutation DeployExtension(\n    $extensionId: String!\n    $replId: String!\n    $outputDirectory: String!\n  ) {\n    deployExtension(\n      extensionId: $extensionId\n      replId: $replId\n      outputDirectory: $outputDirectory\n    ) {\n      ... on Extension {\n        ...TopLevelExtension\n      }\n      ... on TooManyRequestsError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return vC=function(){return e},e}function gC(){var e=(0,ce.Z)(["\n  mutation CreateExtension($name: String!, $description: String!) {\n    createExtension(name: $name, description: $description) {\n      ... on Extension {\n        id\n        url\n      }\n      ... on UserError {\n        message\n      }\n      ... on TooManyRequestsError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n"]);return gC=function(){return e},e}var ZC={},bC=(0,ue.Ps)(mC());var xC=(0,ue.Ps)(vC(),Nh.R9);var yC=(0,ue.Ps)(gC());var wC,CC=p.K.button;!function(e){e.Pending="pending",e.Active="active",e.Complete="complete",e.Error="error"}(wC||(wC={}));var kC,LC=function(){return(0,o.tZ)(p.G,{css:[u.l0.flex.row,u.l0.flex.grow(1),u.l0.border({color:u.TV.outlineDimmest,direction:"top"})]})},SC=function(e){var n=e.text,t=e.small,r=e.big,i=e.state,a=e.onClick,l=e.disabled,s=(0,en.TS)({small:t,big:r}),c=(0,en.m2)({small:t,big:r});return(0,o.tZ)(CC,{type:"button",css:[u.l0.reset.button,u.l0.position.relative,a&&tn.gU.nofill,u.l0.px(8),u.l0.py(2),u.l0.borderRadius(4),u.l0.rowWithGap(4),u.l0.align.center,{borderRadius:u.TV.borderRadiusRound}].concat((0,D.Z)(i===wC.Error?[u.l0.color.accentNegativeStronger]:i===wC.Active?[u.l0.backgroundColor.accentPrimaryDimmer,u.l0.color.accentPrimaryStrongest]:i===wC.Complete?[u.l0.color.accentPositiveStronger]:[u.l0.color.foregroundDimmest])),onClick:a,disabled:l,children:(0,o.tZ)(en.BQ,{text:n,iconSize:c,variant:s,iconRight:i===wC.Error?(0,o.tZ)(ix.Z,{}):i===wC.Active?(0,o.tZ)(vn.Z,{}):i===wC.Complete?(0,o.tZ)(er.Z,{}):(0,o.tZ)(tt.Z,{})})})},RC=t(78854),IC=t(30249),TC=t(11359),BC=t(74082);!function(e){e.Init="Init",e.Building="Building",e.BuildError="BuildError",e.Validating="Validating",e.ValidationError="ValidationError",e.CreatingExtension="CreatingExtension",e.CreatingExtensionError="CreatingExtensionError",e.Deploying="Deploying",e.DeployError="DeployError",e.Success="Success"}(kC||(kC={}));var EC,GC=[kC.BuildError,kC.ValidationError,kC.CreatingExtensionError,kC.DeployError,kC.Success];!function(e){e.Init="Init",e.Build="Build",e.Validate="Validate",e.Create="Create",e.Deploy="Deploy"}(EC||(EC={}));var MC=[EC.Build,EC.Validate,EC.Create,EC.Deploy];function DC(e){var n=e.performPaneOperation,t=function(){return H?"Build error: ".concat(H):Y?"Validation error: ".concat(Y):Y?"Create extension error: ".concat(J):te?"Deploy error: ".concat(te):void 0},a=(0,_.Z)(),l=a.container,s=a.fs,c=a.dotReplit,f=(0,L.Z)(function(e){var n=(0,se.Z)({},ZC,e);return Hi.t(bC,n)}(),1)[0],m=(0,ys.d)(),v=(0,L.Z)(h.useState(null),2),g=v[0],Z=v[1],b=(0,L.Z)(h.useState(kC.Init),2),x=b[0],y=b[1],w=(0,L.Z)(h.useState(null),2),C=w[0],k=w[1],S=(0,IC.Y)("",(function(e){return e?e.startsWith("/")?{message:'Folder must be relative to the root of your project (e.g. "extension" or "./extension")',severity:"error"}:null:{message:"Output folder is required",severity:"error"}})),R=S.value,I=S.setValue,T=S.error,B=S.validate,E=(0,L.Z)(h.useState([]),2),G=E[0],M=E[1],P=(0,L.Z)((0,TC.Z)(),2),j=P[0],U=P[1],X=(0,BC.f)();h.useEffect((function(){j&&(j.clear(),G.forEach((function(e){j.write(e.replaceAll("\n","\r\n"))})))}),[G,j]);var V=h.useCallback((function(e){if(null===e||void 0===e?void 0:e.config){var n=e.config.extension;if(!n||!1===n.isExtension)return Z(null),k(null),void I(null);n.buildCommand&&k(n.buildCommand),n.outputDirectory&&I(n.outputDirectory),n.extensionID&&Z(n.extensionID)}}),[I]);h.useEffect((function(){var e=!1;return(0,r.Z)((function(){var n;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return[4,c.getConfig()];case 1:return n=t.sent(),e?[2]:(V(n),[2])}}))}))(),function(){e=!0}}),[c,V]);var z=h.useCallback(function(){var e=(0,r.Z)((function(e){return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return Z(e),[4,c.updateDotReplit([{op:"add",path:"extension/extensionID",value:JSON.stringify(e)},{op:"add",path:"extension/isExtension",value:JSON.stringify(!0)}])];case 1:return n.sent(),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),[c]),W=h.useCallback(function(){var e=(0,r.Z)((function(e){return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return k(e),[4,c.updateDotReplit([{op:"add",path:"extension/buildCommand",value:JSON.stringify(e)},{op:"add",path:"extension/isExtension",value:JSON.stringify(!0)}])];case 1:return n.sent(),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),[c]),A=(0,L.Z)(h.useState(null),2),F=A[0],N=A[1],O=(0,L.Z)(h.useState(null),2),H=O[0],q=O[1],$=(0,L.Z)(h.useState(null),2),Y=$[0],K=$[1],Q=(0,L.Z)(h.useState(null),2),J=Q[0],ee=Q[1],ne=(0,L.Z)(h.useState(null),2),te=ne[0],re=ne[1],ie=(0,L.Z)(function(e){var n=(0,se.Z)({},ZC,e);return ge.D(xC,n)}(),1)[0],oe=(0,kn.Z)(),ae=(0,L.Z)(function(e){var n=(0,se.Z)({},ZC,e);return ge.D(yC,n)}(),1)[0],le=(0,L.Z)(h.useState(null),2),ce=le[0],ue=le[1],de=h.useCallback(function(){var e=(0,r.Z)((function(e){var n,t,r,o,a;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return n=e.name,t=e.description,[4,ae({variables:{name:n,description:t}})];case 1:if((o=i.sent()).errors)return[2,{error:o.errors.map((function(e){return e.message})).join(", "),result:null}];if(!(a=null===(r=o.data)||void 0===r?void 0:r.createExtension))return[2,{error:"Failed to create extension",result:null}];if("TooManyRequestsError"===a.__typename||"UserError"===a.__typename||"UnauthorizedError"===a.__typename)return[2,{error:"Failed to create extension: "+a.message,result:null}];if("Extension"===a.__typename)return[2,{error:null,result:a}];throw new Error("Unexpected response from createExtension mutation")}}))}));return function(n){return e.apply(this,arguments)}}(),[ae]),pe=h.useCallback(function(){var e=(0,r.Z)((function(e,n){var t;return(0,i.__generator)(this,(function(r){return t=l.client(),[2,new Promise((function(r){var i=t.openChannel({service:"exec"},(function(t){var o=t.channel,a="";o.onCommand((function(e){e.output&&(a+=e.output,n(e.output))})),o.request({exec:{args:["bash","-c",e],env:null}}).then((function(e){e.channelClosed?r({error:"Channel closed",output:a||null}):("open"===o.status&&i(),e.error?r({error:e.error,output:a||null}):r({output:a,error:null}))}))}))}))]}))}));return function(n,t){return e.apply(this,arguments)}}(),[l]),fe=h.useCallback((0,r.Z)((function(){var e,n,t,r,o,a,c,u,d,p,h,v,Z,b,x;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return e=g,[4,B()];case 1:if(null===(n=i.sent())||void 0===n?void 0:n.message)return K(null===n||void 0===n?void 0:n.message),[2];if(!R)throw new Error("expected output folder");return t=(0,km.AH)(R),(r=function(){y(kC.Init),M([]),re(null),K(null),q(null),N(null)})(),y(kC.Building),[4,s.flush()];case 2:return i.sent(),C?[4,pe(C,(function(e){M((function(n){return n?(0,D.Z)(n).concat([e]):[e]}))}))]:[3,4];case 3:if((o=i.sent()).error)return y(kC.BuildError),q(o.error+" "+(o.output||" ")),[2];i.label=4;case 4:return y(kC.Validating),[4,l.exec("test","-d",t)];case 5:return i.sent().error?(y(kC.ValidationError),K("The output folder ".concat(t," does not exist. Please create it and ensure the path is relative to your project's root directory.")),[2]):[4,s.readFile("".concat(t,"/extension.json"),{fromDisk:!0})];case 6:if((a=i.sent()).error)return y(kC.ValidationError),K("The output folder ".concat(t," does not have an extension.json file. Please make sure you have an extension.json file in your output folder.")),[2];c=a.content.toString("utf8");try{u=Of.ku(c)}catch(w){return y(kC.ValidationError),K("The extension.json file in the output folder ".concat(t," is not a valid JSON file: ").concat(w)),[2]}return(d=(0,Cv.U4)(u)).error?(y(kC.ValidationError),K("The extension.json file in the output folder ".concat(t," is not a valid manifest: ").concat(d.error.issues.map((function(e){return"".concat(e.path,": ").concat(e.message)})))),[2]):e?[4,f({variables:{extensionId:e}})]:[3,12];case 7:if((p=i.sent()).error||!p.data)throw new Error("Encountered an unknown error. Please contact support.");return"NotFoundError"!==(null===(h=p.data.extension)||void 0===h?void 0:h.__typename)?[3,9]:[4,new Promise((function(n){ue({message:"The extension referenced in .replit (".concat(e,") does not exist. Would you like to create a new extension?"),callback:function(e){ue(null),n(e)}})}))];case 8:return i.sent()?(e=null,[3,12]):(r(),[2]);case 9:return"Extension"!==(null===h||void 0===h?void 0:h.__typename)||h.user.id===m?[3,11]:[4,new Promise((function(n){ue({message:"The extension referenced in .replit (".concat(e,") belongs to another user. Would you like to create a new extension?"),callback:function(e){ue(null),n(e)}})}))];case 10:return i.sent()?(e=null,[3,12]):(r(),[2]);case 11:if("Extension"!==(null===h||void 0===h?void 0:h.__typename)||h.user.id!==m)throw new Error("Encountered an unknown error. Please contact support.");i.label=12;case 12:return e?[3,14]:(y(kC.CreatingExtension),[4,de({description:d.manifest.description,name:d.manifest.name})]);case 13:if(null!==(v=i.sent()).error)return y(kC.CreatingExtensionError),ee(v.error),[2];e=v.result.id,z(e),i.label=14;case 14:if(!e)throw new Error("expected extension id to be set");return[4,(0,RC.r)(l,t)];case 15:i.sent(),y(kC.Deploying),i.label=16;case 16:return i.trys.push([16,18,,19]),[4,ie({variables:{extensionId:e,replId:oe,outputDirectory:t}})];case 17:return Z=i.sent(),[3,19];case 18:return b=i.sent(),y(kC.DeployError),b.message.includes("received message larger than max")?(re("Your extension's size is too large. Please compress assets or remove files, and try again."),[2]):(re(b.message),[2]);case 19:return Z.errors?(y(kC.DeployError),re("Internal error. Please contact support: "+Z.errors.map((function(e){return e.message})).join(", ")),[2]):Z.data?"Extension"===(x=Z.data.deployExtension).__typename?x.url?(y(kC.Success),N(x),[2]):(y(kC.DeployError),re("Encountered an unknown error. Please contact support."),[2]):"message"in x?(y(kC.DeployError),re(x.message),[2]):(y(kC.DeployError),re("Encountered an unknown error. Please contact support."),[2]):(y(kC.DeployError),re("Encountered an unknown error. Please contact support."),[2])}}))})),[pe,C,l,R,B,oe,s,y,ie,m,f,g,de,z]),he=function(e){switch(e){case kC.Init:return EC.Init;case kC.Building:case kC.BuildError:return EC.Build;case kC.Validating:case kC.ValidationError:return EC.Validate;case kC.CreatingExtension:case kC.CreatingExtensionError:return EC.Create;case kC.Deploying:case kC.DeployError:return EC.Deploy;default:return EC.Init}}(x),me=MC.indexOf(he),ve=(0,Fh.Mu)().find((function(e){return e.extensionId===g})),Ze=(0,L.Z)(h.useState(!1),2),be=Ze[0],xe=Ze[1],ye=(0,L.Z)(h.useState(!1),2),we=ye[0],Ce=ye[1],ke=(0,L.Z)(h.useState(!1),2),Le=ke[0],Se=ke[1],Re=(0,Fh.WF)(),Ie=(0,Fh.LM)(),Te=(0,Fh.EO)();return(0,o.BX)(p.G,{css:[u.l0.flex.column,u.l0.display.flex,u.l0.height("100%"),u.l0.justify.center,u.l0.align.center,u.l0.position.relative],children:[(0,o.BX)(p.G,{css:[u.l0.p(12),u.l0.colWithGap(24),u.l0.flex.growAndShrink(1),u.l0.width("100%"),u.l0.maxWidth(800)],children:[(0,o.BX)(p.G,{css:[u.l0.colWithGap(16)],children:[(0,o.tZ)(d.xv,{variant:"subheadBig",children:"Create a new release"}),(0,o.tZ)(p.G,{css:[u.l0.rowWithGap(4),u.l0.align.center],children:MC.map((function(e,n){return(0,o.BX)(h.Fragment,{children:[0!==n&&(0,o.tZ)(LC,{}),(0,o.tZ)(SC,{state:(t=n,t<me?wC.Complete:t===me?[kC.BuildError,kC.ValidationError,kC.CreatingExtensionError,kC.DeployError].includes(x)?wC.Error:wC.Active:wC.Pending),text:e})]},e);var t}))})]}),(0,o.BX)(p.G,{css:[u.l0.colWithGap(16)],children:[(0,o.BX)(p.G,{css:[u.l0.rowWithGap(8),u.l0.align.center],children:[(0,o.tZ)(Ib.Z,{}),(0,o.tZ)(d.xv,{variant:"subheadDefault",children:"Configure build settings"}),(0,o.tZ)(p.G,{css:[u.l0.flex.grow(1),u.l0.border({color:u.TV.backgroundHighest,direction:"y"})]})]}),(0,o.BX)(p.G,{css:[u.l0.colWithGap(4)],children:[(0,o.BX)("label",{htmlFor:"buildCommand",css:[u.l0.display.flex,u.l0.rowWithGap(4),u.l0.align.center],children:[(0,o.tZ)(d.xv,{color:"dimmer",variant:"small",children:"Build command (optional)"}),(0,o.tZ)(pn.u,{tooltip:"This is the command that compiles your app at build time. Leave it blank if you don't need to build your app.",children:(0,o.tZ)(ht.Z,{size:12})})]}),(0,o.tZ)(za.II,{value:null!==C&&void 0!==C?C:"",onChange:function(e){return W(e.target.value)},placeholder:"Example: npm run build",disabled:x!==kC.Init})]}),(0,o.BX)(p.G,{css:[u.l0.colWithGap(4)],children:[(0,o.BX)("label",{htmlFor:"outputFolder",css:[u.l0.display.flex,u.l0.rowWithGap(4),u.l0.align.center],children:[(0,o.tZ)(d.xv,{color:"dimmer",variant:"small",children:"Output folder"}),(0,o.tZ)(pn.u,{tooltip:"This is where your build will live. There must be an extension.json file in this folder.",children:(0,o.tZ)(ht.Z,{size:12})})]}),(0,o.tZ)(za.II,{id:"outputFolder",value:null!==R&&void 0!==R?R:"",disabled:x!==kC.Init,onChange:function(e){I(e.currentTarget.value),c.updateDotReplit([{op:"add",path:"extension/outputDirectory",value:JSON.stringify(e.currentTarget.value)},{op:"add",path:"extension/isExtension",value:JSON.stringify(!0)}])},placeholder:"./extension"}),T?(0,o.tZ)(d.xv,{css:[u.l0.color.accentNegativeStronger],children:T.message}):null]})]}),G.length>0?(0,o.BX)(p.G,{css:[u.l0.colWithGap(8)],children:[(0,o.BX)(p.G,{css:[u.l0.rowWithGap(8),u.l0.align.center],children:[(0,o.tZ)(DZ.Z,{}),(0,o.tZ)(d.xv,{variant:"subheadDefault",children:"Build logs"}),(0,o.tZ)(p.G,{css:[u.l0.flex.grow(1),u.l0.border({color:u.TV.backgroundHighest,direction:"y"})]})]}),(0,o.tZ)(p.G,{css:[u.l0.display.flex,u.l0.py(12),u.l0.pl(16),u.l0.borderRadius(8),u.l0.overflow("hidden"),{border:"1px solid var(--outline-dimmest)",backgroundColor:null===X||void 0===X?void 0:X.background}],children:(0,o.tZ)(p.K.div,{css:[u.l0.width("100%"),u.l0.maxWidth("100%")],ref:U})})]}):null,ce?(0,o.BX)(Je.T,{elevated:!0,css:[u.l0.colWithGap(8),u.l0.p(8),u.l0.borderRadius(8)],children:[(0,o.tZ)(d.xv,{variant:"text",multiline:!0,maxLines:3,children:ce.message}),(0,o.BX)(p.G,{css:[u.l0.rowWithGap(4),u.l0.align.center],children:[(0,o.tZ)(en.zx,{text:"No",css:[u.l0.flex.grow(1)],onClick:function(){return ce.callback(!1)}}),(0,o.tZ)(en.zx,{text:"Yes",colorway:"primary",css:[u.l0.flex.grow(1)],onClick:function(){return ce.callback(!0)}})]})]}):null,GC.includes(x)?(0,o.BX)(p.G,{css:[u.l0.py(8),u.l0.colWithGap(8)],children:[(0,o.BX)(p.G,{css:[u.l0.rowWithGap(8),u.l0.align.center],children:[(0,o.tZ)(Yw.Z,{}),(0,o.tZ)(d.xv,{variant:"subheadDefault",children:"Publish result"}),(0,o.tZ)(p.G,{css:[u.l0.flex.grow(1),u.l0.border({color:u.TV.backgroundHighest,direction:"y"})]})]}),t()?(0,o.tZ)(d.xv,{css:[u.l0.color.redDefault],multiline:!0,children:t()}):null,F?(0,o.BX)(o.HY,{children:[(0,o.tZ)(d.xv,{color:"dimmer",multiline:!0,children:"Success! Your extension has been deployed. You can view it in the extension store below."}),(0,o.tZ)(d.xv,{color:"dimmer",multiline:!0,children:"We will review your extension to feature it on the extension store soon. In the future, extensions will be immediately listed on the store."})," ",(0,o.tZ)(p.G,{css:[u.l0.py(8)],children:(0,o.tZ)(YZ,{extension:F,onClick:function(){n({operation:"open",pane:{type:"extensionStore",data:{page:"cover",coverPageExtensionId:(0,Kh.T)(F.id)}}})}})}),(0,o.tZ)(p.G,{css:[u.l0.rowWithGap(8),u.l0.align.center],children:ve||we?(0,o.BX)(o.HY,{children:[(0,o.tZ)(en.zx,{text:"Reload installed Extension",colorway:"primary",iconLeft:we?(0,o.tZ)(vn.Z,{}):(0,o.tZ)(_c.Z,{}),loading:we,onClick:(0,r.Z)((function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return ve?(Ce(!0),[4,Te(ve.installationId)]):[2];case 1:return e.sent(),Ce(!1),[2]}}))}))}),(0,o.tZ)(en.zx,{text:"Uninstall Extension",iconLeft:Le?(0,o.tZ)(vn.Z,{}):(0,o.tZ)(Da.Z,{}),loading:Le,onClick:(0,r.Z)((function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return ve?(Se(!0),[4,Ie({installationId:ve.installationId,replId:oe})]):[2];case 1:return e.sent(),Se(!1),[2]}}))}))})]}):(0,o.tZ)(en.zx,{text:"Install Extension to your account",colorway:"primary",iconLeft:be?(0,o.tZ)(vn.Z,{}):(0,o.tZ)(Jv.Z,{}),loading:be,onClick:(0,r.Z)((function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return xe(!0),[4,Re({extension:F,replId:null})];case 1:return e.sent(),xe(!1),[2]}}))}))})})]}):null]}):null]}),(0,o.tZ)(Je.T,{elevated:!0,css:[u.l0.p(12),u.l0.border({direction:"top"}),u.l0.flex.rowReverse,u.l0.width("100%"),u.l0.position.sticky,u.l0.bottom(0)],children:(0,o.tZ)(en.zx,{text:x===kC.Init||x.endsWith("Error")||x===kC.Success?"Deploy Extension":"Deploying\u2026",iconLeft:x===kC.Init||x.endsWith("Error")||x===kC.Success?(0,o.tZ)(lc.Z,{}):(0,o.tZ)(vn.Z,{}),onClick:fe,disabled:x!==kC.Init&&!x.endsWith("Error")&&x!==kC.Success&&!T,colorway:"primary"})})]})}var PC=t(4080);function jC(e){var n=e.performPaneOperation,t=(0,L.Z)(h.useState(0),2),r=t[0],i=t[1];return(0,o.tZ)(p.G,{css:[u.l0.flex.column,u.l0.height("100%"),u.l0.position.relative],children:(0,o.BX)(tb.mQ,{css:[u.l0.flex.grow(1),u.l0.flex.column,u.l0.align.center],selectedIndex:r,onSelectionChange:function(e){return i(e)},children:[(0,o.tZ)(Je.T,{css:[u.l0.backgroundColor.backgroundHigher,u.l0.shadow(1),u.l0.align.center,u.l0.position.sticky,u.l0.top(0),u.l0.width("100%"),u.l0.zIndex(1)],children:(0,o.BX)(tb.td,{css:[u.l0.align.center,u.l0.width("100%"),u.l0.maxWidth(800)],children:[(0,o.tZ)(tb.OK,{css:[u.l0.p(12)],iconLeft:(0,o.tZ)(PC.Z,{}),children:"Home"}),(0,o.tZ)(tb.OK,{css:[u.l0.p(12)],iconLeft:(0,o.tZ)(Yw.Z,{}),children:"Publish"}),(0,o.tZ)(p.G,{css:u.l0.flex.grow(1)}),(0,o.tZ)(Je.T,{elevated:!0,css:u.l0.p(8),children:(0,o.tZ)(en.zx,{text:"Docs",onClick:function(){n({operation:"open",secondary:!0,pane:{type:"docs",data:{url:Qh.TT.EXTENSIONS}}})},outlined:!0,small:!0,iconLeft:(0,o.tZ)(Kr.Z,{}),css:[u.l0.display.inlineFlex]})})]})}),(0,o.BX)(tb.nP,{css:[u.l0.flex.grow(1),u.l0.height("100%"),u.l0.align.center,u.l0.justify.center,u.l0.width("100%"),u.l0.display.flex],children:[(0,o.tZ)(tb.x4,{css:[u.l0.height("100%"),u.l0.p(12),u.l0.maxWidth(800),u.l0.display.flex,u.l0.width("100%"),u.l0.justify.center],children:(0,o.tZ)(hC,{performPaneOperation:n})}),(0,o.tZ)(tb.x4,{css:[u.l0.height("100%"),u.l0.pt(12),u.l0.width("100%")],children:(0,o.tZ)(DC,{performPaneOperation:n})})]})]})})}var _C={Content:function(e){var n=e.options.performPaneOperation;return(0,o.tZ)(jC,{performPaneOperation:n})},Icon:function(e){var n=e.size;return(0,o.tZ)(ou.Z,{size:n})},getTitle:function(){return"Extensions Devtools"}};function UC(){var e=(0,Iv.U)();return(0,un.Z)((0,se.Z)({},e),{webview:_v,commands:Tv,debugger:og,docs:_b,chat:zb,threadInbox:GZ,tutorial:XZ,videoPlayer:Xb,extension:FZ,extensionStore:Rb,replAuth:Gg,searchReplace:ey,modules:jb,deployments:Wb.R,education:_w,autograder:Iy,instructions:Fw,config:Hw,preferences:$w,multiplayer:Uv.Z,submitEduRepl:Uv.Z,kaboombar:Uv.Z,extensionDevtools:_C})}var XC=t(77463),VC=t(96801),zC=t(89199);function WC(e){var n=e.repl,t=(0,z.CA)(),r=(0,z.Ge)(),i=(0,tf.uV)(),o=(0,C.P5)({controlName:"flag-channel-request-priority"})?void 0:em.h.High,a=(0,C.P5)({controlName:"flag-null-diagnostics"}),l=(0,h.useState)(!1),s=l[0],c=l[1],u=(0,h.useState)(!1),d=u[0],p=u[1],f=function(){var e=(0,ys.d)(),n=(0,ms.$X)(Is),t=(0,ms.$X)(Rs),r=(0,ms.yL)(Cs);return(0,h.useEffect)((function(){n();var e=xs()(n,2e3);return r.subscribe((function(){return e()}))}),[n,r]),(0,j.Z)((function(){return function(n){e&&t(n,e)}}),[t,e])}();return{services:(0,h.useState)((function(){return(0,R.Z)({onPresenceCommand:f,runnerMode:"html"===n.language?"html":"shellrunner",onUnrecoverableError:(0,XC.Z)({origin:"replEnvironmentDesktop: services/unrecoverableError",tags:{environment:"desktop"},onNonBsodUnrecoverableError:function(e){e===VC.G.NotAllowed?p(!0):e===VC.G.FirewallDenied&&c(!0)},throwBsod:i}),openFile:t,openMultipleFiles:r,onFirewallDenied:function(){return c(!0)},enableUserEvents:a,channelRequestPriority:{fs:o,dotReplit:o}})}))[0],isFirewallDenied:s,isNotAllowed:d}}function AC(e){var n=e.repl,t=e.currentUser;return(0,o.tZ)(W.eA,{children:(0,o.tZ)(z.gC,{initialLayoutState:n.layoutState,isHTML:n.language.startsWith("html"),isStacked:t.editorPreferences.isLayoutStacked,isExtension:Boolean(n.config.isExtension),children:(0,o.tZ)(FC,{repl:n,currentUser:t})})})}function FC(e){var n,t,r=e.repl,i=e.currentUser,a=(0,h.useState)((function(){return(0,E.fK)({config:UC()})}))[0],l=WC({repl:r}),s=l.services,c=l.isFirewallDenied,u=l.isNotAllowed,d=(0,j.Z)((function(){return(0,kp._)(null===i||void 0===i?void 0:i.keybindings.keybindings)}),[i]);return(0,o.BX)(Ep,{ui:a,services:s,replId:r.id,replSlug:r.slug,replLanguage:r.language,replConfigIsExtension:r.config.isExtension,userKeybindings:d,children:[(0,o.BX)(Zu.Z,{origin:"ErrorBoundary: ReplEnvironmentDesktop Top level",bsod:!0,children:[(0,o.tZ)(Ku.h,{}),(0,o.tZ)(ru,{isAdmin:i.isAdmin,isServer:Boolean(r.config.isServer),hostedUrl:r.hostedUrl}),(0,o.tZ)(Rv.Z,{replTitle:r.title}),(0,o.tZ)(fu,{repl:r,currentUser:i}),(0,o.tZ)(Mr,{}),(0,o.tZ)(Rf,{}),(0,o.tZ)(Ah,{repl:r,currentUser:i}),(0,o.tZ)(jp,{}),(0,o.tZ)($C,{}),(0,o.tZ)(uf,{container:s.container}),(0,o.tZ)(Fp,{}),(0,o.tZ)(Qp,{}),(0,o.tZ)(yf,{}),(0,o.tZ)(OC,{isMultiplayerSession:r.multiplayers.length>0}),(0,o.tZ)(df.Z,{isOpen:c&&!u}),(0,o.tZ)(pf.Z,{isOpen:u}),(0,o.tZ)(Xp.E,{}),(0,o.tZ)(Sv,{hostedUrl:r.hostedUrl}),(0,o.tZ)(Op,{}),(0,o.tZ)(zC.Z,{isOwnRepl:(null===(n=r.user)||void 0===n?void 0:n.id)===i.id,userSubscriptionType:null!==(t=i.userSubscriptionType)&&void 0!==t?t:null}),(0,o.tZ)(Cf,{})]}),(0,o.tZ)(NC,{})]})}function NC(){var e=(0,L.Z)((0,tf.qg)(),1)[0],n=(0,z.lY)();return(0,h.useEffect)((function(){e&&n()}),[e,n]),(0,o.tZ)(nf.Z,{})}function OC(e){var n=function(e){var n=(0,L.Z)(h.useState(!1),2),t=n[0],o=n[1],a=(0,ml.X)(),l=a&&!a.isDone&&!a.isLoading;return h.useEffect((function(){l||e&&"default"===gh()&&o(!0)}),[e,l]),{shouldShowModal:t,hideModal:h.useCallback((function(){Ch(!0),o(!1)}),[]),confirm:h.useCallback((0,r.Z)((function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return[4,xh()];case 1:return e.sent(),o(!1),[2]}}))})),[])}}(e.isMultiplayerSession),t=n.shouldShowModal,a=n.hideModal,l=n.confirm;return t?(0,o.tZ)(ff,{onCancel:a,onConfirm:l}):null}var HC=p.K.div,qC=(0,a.iv)([u.l0.height("calc(100% - ".concat(S.Mz,"px)")),u.l0.width("100%"),u.l0.top(S.Mz),u.l0.left(0),u.l0.position.absolute]);function $C(){var e=function(){var e=(0,z.Z9)(),n=(0,Os.Z)(),t=(0,su.NJ)()&&n?S.Mz:0,r=(0,h.useRef)(null),i=(0,Fi.Z)((function(n){var i=n.width,o=n.height;if(i&&o&&r.current){var a=r.current.getBoundingClientRect(),l=a.top,s=a.left;e({width:i,height:o,x:s,y:l-t})}}));return(0,h.useCallback)((function(e){r.current=e,i(e)}),[i])}(),n=(0,z.kr)(),t=(0,z.N2)(),r=(0,z.nG)(),i=(0,z.rU)();return(0,o.tZ)(HC,{ref:e,css:qC,children:n?(0,o.BX)(o.HY,{children:[(0,o.tZ)(zs,{}),(0,o.BX)("main",{id:"main-content",children:[r.map((function(e){return(0,o.tZ)(zi,{handleId:e},e)})),i.map((function(e){return(0,o.tZ)(bp,{headerId:e},e)})),t.map((function(e){return(0,o.tZ)(Vu,{paneId:e},e)})),0===t.length?(0,o.tZ)(oe,{}):null]}),(0,o.tZ)(Mp,{}),(0,o.tZ)(Up,{}),(0,o.tZ)(sp,{})]}):null})}var YC=t(75088),KC=t(51725);function QC(){return(0,o.tZ)(a.xB,{styles:[{body:{overscrollBehaviorX:"none"}}]})}function JC(){var e=(0,ce.Z)(["\n  query ReplEnvironmentDesktop(\n    $url: String!\n    $environment: KeybindingsEnvironmentEnum!\n    $platform: KeybindingsPlatformEnum!\n  ) {\n    repl(url: $url) {\n      ... on Repl {\n        id\n        ...ReplEnvironmentDesktopRepl\n        ...ReplEnvironmentTourRepl\n      }\n      ... on ReplRedirect {\n        replUrl\n      }\n      ... on SubscriptionExpiredError {\n        replId\n        isOwner\n      }\n    }\n    currentUser {\n      id\n      ...ReplEnvironmentDesktopCurrentUser\n      keybindings(environment: $environment, platform: $platform) {\n        keybindings\n      }\n    }\n  }\n  ","\n  ","\n  ","\n"]);return JC=function(){return e},e}var ek={},nk=(0,ue.Ps)(JC(),We,Ue,ze);var tk=t(65917),rk=t(77030),ik=(0,a.iv)([u.l0.position.fixed,u.l0.top(0),u.l0.left(0),u.l0.height("100%"),u.l0.width("100%")]),ok=(0,a.iv)([u.l0.center,u.l0.flex.growAndShrink(1),u.l0.dragRegion]),ak=function(){var e=null,n=(0,w.useRouter)().query;if(!n.replUrl)throw new Error("Expected replUrl to be set");var t,r=n.replUrl.toString(),i=function(e){var n=(0,se.Z)({},ek,e);return de.a(nk,n)}({variables:{url:r,environment:(0,rk.O)(),platform:(0,tk.X)()},ssr:Boolean(n.ssr)}),a=i.data,c=i.loading,f=i.error,m=a&&"Repl"===a.repl.__typename?a.repl:null,v=(null===a||void 0===a?void 0:a.currentUser)||void 0,b="https://replit.com".concat(r),x=null!==(t=null===m||void 0===m?void 0:m.description)&&void 0!==t?t:void 0,L=(0,h.useState)(!1),S=L[0],R=L[1];if((0,h.useEffect)((function(){return R(!0)}),[]),function(e,n){var t=(0,w.useRouter)(),r=(0,C.P5)({controlName:"migrate2nix-enabled"}),i="Repl"===(null===e||void 0===e?void 0:e.__typename)?e.language:null,o=(0,C.P5)({controlName:"migrate-".concat(i,"-to-nix"),default:!1});(0,h.useEffect)((function(){if(r&&o&&"Repl"===(null===e||void 0===e?void 0:e.__typename)&&"nix"!==e.language&&"html"!==e.language){var n=new URL(window.location.href);t.query.skipMigration||n.searchParams.get("skipMigration")||"/migrateReplToNix"!==t.pathname&&(t.query.migrateNonNix||(n.searchParams.set("migrateNonNix","1"),window.location.replace(n)))}}),[e,t,o,r]),(0,h.useEffect)((function(){if("SubscriptionExpiredError"===(null===e||void 0===e?void 0:e.__typename)){var r=e.replId,i=e.isOwner,o=n.split("/")[1].slice(1);t.replace((0,k.H)({isOwner:i,ownerUsername:o,replId:r}),t.asPath)}}),[e,t,n])}((null===a||void 0===a?void 0:a.repl)||null,r),f)e=(0,o.tZ)(p.G,{css:[u.l0.center,u.l0.flex.growAndShrink(1)],children:(0,o.tZ)(d.xv,{children:"Something went wrong loading the Repl. Please reload the page and try again."})});else if(c||!S)e=(0,o.tZ)(p.G,{css:ok,children:(0,o.tZ)(YC.Z,{height:100})});else if(m&&v){var I=function(e){var n=e.isLesson,t=e.hasSeenOldWorkspaceTour;return n?null:t?Z:g}({isLesson:Boolean(m.lesson),hasSeenOldWorkspaceTour:v.hasSeenOldWorkspaceTour});e=I?(0,o.tZ)(y,{tour:I,children:(0,o.tZ)(AC,{repl:m,currentUser:v},m.id)}):(0,o.tZ)(AC,{repl:m,currentUser:v},m.id)}else e=(0,o.tZ)(p.G,{css:ok,children:(0,o.tZ)(YC.Z,{height:100})});return(0,o.tZ)(l.Z,{children:(0,o.tZ)(s.Z,{dataCy:"workspace-page",title:"".concat((null===m||void 0===m?void 0:m.title)||""),oembedUrl:b,description:x,noHeader:!0,noFooter:!0,noMain:!0,noSidebar:!0,hideEmailVerify:!0,disableReactStrictMode:!0,children:(0,o.BX)(Je.T,{css:ik,children:[(0,o.tZ)(KC.g,{}),(0,o.tZ)(QC,{}),e]})})})};ak.getInitialProps=function(){var e=(0,r.Z)((function(e){var n,t;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return n=e.req,t=e.store,[4,(0,c.Z)(n,t)];case 1:return r.sent(),[2,{}]}}))}));return function(n){return e.apply(this,arguments)}}();var lk=ak},56138:function(e,n,t){"use strict";t.d(n,{Pc:function(){return x},Pu:function(){return k}});var r=t(72006),i=t(43119),o=t(71440),a=t(37061);function l(){var e=(0,i.Z)(["\n  fragment TeamTemplateReplTemplateMember on TeamMembership {\n    id\n    user {\n      id\n      image\n      username\n      firstName\n      lastName\n    }\n    nickname\n    email\n    permissions\n  }\n"]);return l=function(){return e},e}var s=(0,o.Ps)(l()),c=t(18012),u=t(67216);function d(){var e=(0,i.Z)(["\n  fragment TeamTemplateUser on User {\n    id\n    username\n    displayName\n    fullName\n    image\n    url\n  }\n"]);return d=function(){return e},e}function p(){var e=(0,i.Z)(["\n  fragment TeamTemplateReplSubmission on ReplSubmission {\n    id\n    timeSubmitted\n    timeLastReviewed\n    author {\n      id\n      ...TeamTemplateUser\n    }\n    repl {\n      id\n      title\n      timeCreated\n      template {\n        id\n        dueDate\n      }\n      ...ReplLinkRepl\n    }\n  }\n  ","\n  ","\n"]);return p=function(){return e},e}function f(){var e=(0,i.Z)(["\n  fragment TeamTemplateSubmissionGroup on ReplSubmissionGroup {\n    submission {\n      id\n      timeSubmitted\n      timeLastReviewed\n      isGroupSubmission\n      repl {\n        id\n        url\n        nextPagePathname\n      }\n    }\n    users {\n      id\n      ...TeamTemplateUser\n    }\n  }\n  ","\n"]);return f=function(){return e},e}function h(){var e=(0,i.Z)(["\n  fragment TeamTemplateReplTemplate on ReplTemplate {\n    id\n    isGroupProject\n    isPublished\n    imageUrl\n    url\n    dueDate\n    repl {\n      id\n    }\n    team {\n      id\n      username\n      displayName\n      members {\n        id\n        ...TeamTemplateReplTemplateMember\n      }\n    }\n    author {\n      id\n      username\n      image\n      ...UserLinkUser\n    }\n    submissions {\n      id\n      ...TeamTemplateReplSubmission\n    }\n    submissionGroups {\n      ...TeamTemplateSubmissionGroup\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return h=function(){return e},e}function m(){var e=(0,i.Z)(["\n  fragment TeamTemplateRepl on Repl {\n    id\n    title\n    slug\n    description\n    ...ReplLinkRepl\n    template {\n      id\n      ...TeamTemplateReplTemplate\n    }\n  }\n  ","\n  ","\n"]);return m=function(){return e},e}function v(){var e=(0,i.Z)(["\n  query TeamTemplate($replUrl: String!) {\n    repl(url: $replUrl) {\n      ... on Repl {\n        id\n        ...TeamTemplateRepl\n      }\n      ... on ReplRedirect {\n        replUrl\n        repl {\n          id\n        }\n      }\n      ... on SubscriptionExpiredError {\n        replId\n      }\n    }\n  }\n  ","\n"]);return v=function(){return e},e}var g={},Z=(0,o.Ps)(d()),b=(0,o.Ps)(p(),Z,a.Y),x=(0,o.Ps)(f(),Z),y=(0,o.Ps)(h(),s,c._,b,x),w=(0,o.Ps)(m(),a.Y,y),C=(0,o.Ps)(v(),w);function k(e){var n=(0,r.Z)({},g,e);return u.a(C,n)}}},function(e){var n=function(n){return e(e.s=n)};e.O(0,[3550,6696,3709,2026,4065,8630,2113,6730,4806,9434,668,4031,4053,611,3863,5878,1594,7624,5455,4124,7486,7254,311,4945,9880,3718,7272,7225,5946,6997,8873,4500,7964,1002,1342,8743,9681,2839,1058,9526,5939,9091,6717,895,763,9747,4733,6035,7514,8937,9774,2888,179],(function(){return n(54186),n(2585)}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=replEnvironmentDesktop-e2c8aca4239f03a5.js.map